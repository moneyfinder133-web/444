//15.136.1-es2019 2025-10-03T13:13:44.492Z (617585dbd4173)
var CS_CONF={"isSMB":true,"status":1,"visitorCookieTimeout":33164000000,"sampleRate":100,"replayRecordingRate":100,"validationRate":10,"trackerDomain":"c.ba.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":0,"customHashIdEnabled":0,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":1,"triggerSessionReplayEnabled":0,"dynamicIdRegex":"","replayRecordingUnmaskedUrlRegex":"","replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":null,"tagDeploymentMode":"CONTENTSQUARE","iframesTracking":1,"textVisibilityEnabled":0,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{"reliableSelectors":[],"uniqueAttributes":[],"uniqueCssSelectors":[]},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":null,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":0,"performanceTimingOptions":{"withResource":false,"withNavigation":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":1,"smbConfig":{"useCSTC":true,"useSentry":true},"malkaQuotaServiceDomain":"q.ba.contentsquare.net","malkaRecordingDomain":"k.ba.contentsquare.net","voc":{"siteId":0,"enabled":1},"dynamicConfDomain":"t.contentsquare.net/settings","tagDomain":"t.contentsquare.net"};
if(window.CS_CONF_BASE) for(let p in CS_CONF_BASE) CS_CONF[p] = CS_CONF_BASE[p];
(()=>{var Lp=Object.create;var An=Object.defineProperty;var Vp=Object.getOwnPropertyDescriptor;var Up=Object.getOwnPropertyNames;var jp=Object.getPrototypeOf,Hp=Object.prototype.hasOwnProperty;var Bp=(s,r,t)=>r in s?An(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t;var Fp=(s,r)=>()=>(s&&(r=s(s=0)),r);var $p=(s,r)=>()=>(r||s((r={exports:{}}).exports,r),r.exports),zp=(s,r)=>{for(var t in r)An(s,t,{get:r[t],enumerable:!0})},sa=(s,r,t,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Up(r))!Hp.call(s,i)&&i!==t&&An(s,i,{get:()=>r[i],enumerable:!(e=Vp(r,i))||e.enumerable});return s},gi=(s,r,t)=>(sa(s,r,"default"),t&&sa(t,r,"default")),ul=(s,r,t)=>(t=s!=null?Lp(jp(s)):{},sa(r||!s||!s.__esModule?An(t,"default",{value:s,enumerable:!0}):t,s));var _s=(s,r,t)=>Bp(s,typeof r!="symbol"?r+"":r,t);var mi=Fp(()=>{{let s=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};s.SENTRY_RELEASE={id:"tag-15.136.1-undefined"}}});var ll=$p(()=>{mi();var rs={};rs.d=(s,r)=>{for(var t in r)rs.o(r,t)&&!rs.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:r[t]})};rs.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();rs.o=(s,r)=>Object.prototype.hasOwnProperty.call(s,r);rs.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var yc={};rs.r(yc);rs.d(yc,{getRequestParameters:()=>QE});function Ai(s,r){let t;return window.Zone&&typeof window.Zone.__symbol__=="function"&&(t=s[window.Zone.__symbol__(r)]),t!=null?t:s[r]}function Lt(s){return mt(s)&&(typeof s=="number"||s instanceof Number)&&!isNaN(s)}function Os(s){return s===parseInt(s,10)}function L(s){return mt(s)&&(typeof s=="string"||s instanceof csString)}function Ur(s){return typeof s=="boolean"}function He(s){return typeof s=="object"}function mt(s){return typeof s!="undefined"}function Ot(s){return mt(s)&&s!==null}function ft(s){return typeof s=="object"&&s!==null}function Gp(s,r,t){return Os(s)&&s>=r&&s<=t}function ka(s){for(let r in s)return!1;return!0}function we(s){return typeof s=="function"}function Ns(s){return s instanceof Element}function ei(s){return s instanceof Error}function Da(s){let r=s.length;for(let t=0;t<r;t++)switch(csString.prototype.charCodeAt.call(s,t)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}var $r=typeof window=="undefined";function qp(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof rs.g!="undefined"?rs.g:typeof process!="undefined"?process:Function("return this")()}var _t=qp(),yt=(()=>{let s;return function(r){r.debug="debug",r.warn="warn",r.implementation="implementation",r.error="error",r.critical="critical"}(s||(s={})),s})(),ia={[yt.debug]:0,[yt.warn]:1,[yt.implementation]:1,[yt.error]:2,[yt.critical]:3},Nt={debug(...s){},warn(...s){},implementation(...s){},error(...s){},critical(...s){},isPerfLoggingActive(){return!1}};function Wp(s){Nt=s}var G=s=>(r,t,e)=>{let i=(t==null?void 0:t.toString())||"",n=s||`${r.constructor&&r.constructor.name}.${i}`;if(e){let o=e.value;e.value=function(...c){return si(n,o.bind(this))(...c)}}};function si(s,r){return function(...t){try{let e=r.apply(this,t);return mt(_t.Promise)&&e instanceof _t.Promise?e.then(i=>i,i=>Nt.error(ei(i)?i:new Error(i),s)):e}catch(e){try{Nt.error(ei(e)?e:new Error(e),s)}catch{}}}}function St(s,r,t,e){var i=arguments.length,n=i<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,r,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(n=(i<3?o(n):i>3?o(r,t,n):o(r,t))||n);return i>3&&n&&Object.defineProperty(r,t,n),n}function Ec(s){let r=new ArrayBuffer(s.length),t=new Uint8Array(r);for(let e=0,i=s.length;e<i;e+=1)t[e]=csString.prototype.charCodeAt.call(s,e);return r}function dl(s){let r=new Uint8Array(s),t="";for(let e=0;e<r.byteLength;e+=1)t+=csString.fromCodePoint(r[e]);return t}function Hh(s){let r=self.atob(s);return Ec(r)}function xa(s){let r=csArray.from(new Uint8Array(s));return csArray.prototype.join.call(csArray.prototype.map.call(r,t=>csString.prototype.padStart.call(t.toString(16),2,"0")),"")}function pl(s){let r=csString.prototype.indexOf.call(s,";base64,")!==-1,t=csString.prototype.indexOf.call(s,","),e=r?[csString.prototype.substring.call(s,0,t-7),csString.prototype.substring.call(s,t+1)]:[csString.prototype.substring.call(s,0,t),csString.prototype.substring.call(s,t+1)];if(!r&&/^%3Csvg/i.test(e[1]))try{e[1]=decodeURIComponent(e[1])}catch(o){Nt.warn(`${o}, calling decodeURIComponent on: ${e[1]}`)}let n=r?Hh(e[1]):Ec(e[1]);return new Blob([n],{type:csString.prototype.replace.call(e[0],"data:","")})}var Bh=typeof performance!="undefined"&&!!performance.now,fl=Bh?()=>performance.now():()=>csDate.now(),Yp=(()=>{var s,r;return Bh?(r=(s=performance.timing)===null||s===void 0?void 0:s.navigationStart)!==null&&r!==void 0?r:Math.floor(performance.timeOrigin):0})(),Sc=34164e6,K={now(){return Math.round(fl()+Yp)},elapsed(){return fl()}};function gl(){return Math.floor(K.now()/1e3)}function Xp(){return typeof window.Promise=="function"}function Kp(){var s;return typeof crypto!="undefined"&&we((s=crypto.subtle)===null||s===void 0?void 0:s.digest)}function ml(){var s,r;return typeof((s=window.navigation)===null||s===void 0?void 0:s.addEventListener)=="function"&&typeof((r=window.navigation)===null||r===void 0?void 0:r.removeEventListener)=="function"}function se(s,r){return csString.prototype.lastIndexOf.call(s,r,0)===0}function rr(s,r){return csString.prototype.indexOf.call(s,r,s.length-r.length)!==-1}var Jp=Number.MAX_SAFE_INTEGER||9007199254740991,os={percentage(){return Math.floor(Math.random()*1e4)/100},boolean(s){return this.percentage()<s},integer(s=Jp){return Math.floor(Math.random()*s)}};function jr(s,r){let t,e,i,n,o,c=null,u=E=>{let f=K.elapsed();if(!E&&c!==null){let w=r-(f-c);if(w>=1){i=_t.csSetTimeout(u,w);return}}let _=f-n;i=null,c=null,n=null,o=s.apply(t,[_,...e])},d=function(){if(t=this,e=arguments,n){c=K.elapsed();return}return n=K.elapsed(),i=_t.csSetTimeout(u,r),o};return d.flushPending=()=>{i&&(_t.csClearTimeout(i),u(!0))},d.cancel=()=>{c=null,n=null,i&&(_t.csClearTimeout(i),i=null)},d}function Qp(s=0){return(r,t,e)=>{e.value=jr(e.value,s)}}var Hr=(()=>{class s{static setGlobalService(t){s.globalService=t}constructor(t){this.name=t,this.values={}}reset(){this.values={}}flush(){if(!s.globalService)return!1;let t=this.values,e=Object.keys(t);if(!e.length)return!1;let i=csArray.prototype.map.call(e,n=>({name:this.name,parameter:n,value:Math.round(t[n])}));return s.globalService.push(i),this.reset(),i.length>0}}return s.globalService=null,St([G()],s.prototype,"flush",null),s})(),oe=(()=>{class s extends Hr{constructor(t,e=100){super(t),this.ay=e,this.values={},e&&(this.debouncedFlush=jr(()=>this.flush(),this.ay))}count(t,e=1){Hr.globalService&&(this.values[t]=(this.values[t]||0)+e,this.debouncedFlush())}}return s})(),yl=(()=>{class s extends Hr{constructor(){super(...arguments),this.values={average:0,count:0,max:0,total:0}}get average(){return this.values.average}get count(){return this.values.count}get max(){return this.values.max}get total(){return this.values.total}push(t){this.values.count++,this.values.total+=t,this.values.max=Math.max(this.values.max,t),this.values.average=this.values.total/this.values.count}reset(){this.values={count:0,total:0,max:0,average:0}}}return s})(),Zp=(()=>{class s extends Hr{add(t,e){var i,n,o,c,u,d,E;let f=_=>this.values[`${t}.${_}`];(i=(c=this.values)[u=`${t}.count`])!==null&&i!==void 0||(c[u]=0),(n=(d=this.values)[E=`${t}.total`])!==null&&n!==void 0||(d[E]=0),this.values[`${t}.count`]++,this.values[`${t}.total`]+=e,this.values[`${t}.max`]=Math.max((o=f("max"))!==null&&o!==void 0?o:0,e),this.values[`${t}.average`]=f("total")/f("count")}}return s})(),at={counters:{commandsFromIntegrations:new oe("commands-from-integrations"),commandsFromCSTC:new oe("commands-from-cstc"),commandsFromIframe:new oe("commands-from-iframe"),commandApplied:new oe("command-applied"),commandError:new oe("command-error"),commandMisuse:new oe("command-misuse"),CSTCSnippetUsed:new oe("cstc-snippet-used"),redactedPII:new oe("redacted-pii"),pageAnonymisation:new oe("page-anonymisation"),patchedNativeFunctions:new oe("patched-native-functions"),pureWindowState:new oe("pure-window-state"),sensitiveElements:new oe("sensitive-elements"),cspErrors:new oe("csp-errors"),networkRequests:new oe("network-requests"),webVitalsErrors:new oe("web-vitals-errors"),trackedFeatures:new oe("tracked-features"),longTasks:new yl("longTasks"),tasks:new yl("tasks"),errors:new oe("errors"),methodPerformance:new Zp("perf")},setService(s){Hr.setGlobalService(s)}},zr=(()=>{class s{constructor(){this.go=0}get length(){return this.go}get isEmpty(){return!this.Ms}pushAll(t){for(let e=0;e<t.length;e++)this.push(t[e])}push(t){this.go++,this.kr?this.kr=this.kr[1]=[t,void 0]:this.kr=this.Ms=[t,void 0]}pop(){if(!this.Ms)return null;this.go--;let t=this.Ms[0];return this.Ms=this.Ms[1],this.Ms||(this.kr=void 0),t}forEach(t){let e=this.Ms;for(;e!=null&&e.length;)t(e[0]),e=e[1]}clear(){this.go=0,this.Ms=this.kr=void 0}}return s})(),La=0,vc=s=>{La++,csQueueMicrotask(()=>Ri(()=>{try{s()}finally{La--}},as.MicroTask))},Hn=new zr,Bn=new zr;function ve(s,r="high"){Hn.isEmpty&&Bn.isEmpty&&Fh(tf),r==="high"?Bn.push(El(s)):Hn.push(El(s))}function Fh(s,r=10){r===0?vc(s):csQueueMicrotask(()=>Fh(s,r-1))}function tf(){for(;!Bn.isEmpty;)Bn.pop()();for(;!Hn.isEmpty;)Hn.pop()()}async function $h(s=1){for(let r=0;r<s;r++)await new Promise(t=>ve(t))}function El(s){return function(){try{s.apply(window,arguments)}catch(r){Nt.critical(r)}}}var xn="null",Xs=null,zh=[],ef=()=>{var s;return $r||!!(!((s=document.body)===null||s===void 0)&&s.getAttribute("data-cs-tag-extension"))};!$r&&ef()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],Xs=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",s=>{Va({type:"UXA_EVENT",event:s.detail})}),Xs.addEventListener("message",s=>{if(s.data.type==="CONNECT"){if(s.data.sessionId===xn)return;xn=s.data.sessionId,csArray.prototype.forEach.call(zh,r=>r()),Xs==null||Xs.postMessage({type:"CONNECTED",sessionId:xn})}}));function sf(s){$r||(xn!==null&&csSetTimeout(s),csSetTimeout(()=>csArray.prototype.push.call(zh,s)))}function Va(s){Xs==null||Xs.postMessage(s)}function Br(s){var r;let t=(r=s.length)!==null&&r!==void 0?r:0,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=s[i];return e}function Xe(s,r){let t=s.length,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=r(s[i]);return e}function rf(s,r,t){let e=[],i=0;for(let n=0;n<s.length;n+=1){let o=r(s[n]);for(let c=0;c<o.length;c++)t(o[c],i++)}return e}function _c(s,r){let t=[];return rf(s,r,e=>csArray.prototype.push.call(t,e)),t}function ht(s,r){if(nf(s)){let t=s.length;for(let e=0;e<t;e++)r(s[e],e)}else{let t=0,e=s.next();for(;!e.done;)r(e.value,t++),e=s.next()}}function nf(s){return s.length>=0}function Ps(s,r){let t=s.length;for(let e=0;e<t;e++)if(r(s[e],e))return s[e]}function Gh(s,r){let t=s.length;for(let e=0;e<t;e++)if(r(s[e],e))return!0;return!1}function qh(s,r){let t=s.length;for(let e=0;e<t;e++)if(!r(s[e],e))return!1;return!0}function Fn(s,r){let t=s.length,e=[];for(let i=0;i<t;i+=1){let n=s[i];r(n)&&csArray.prototype.push.call(e,n)}return e}function of(s,r,t){let e=s.length+r.length+((t==null?void 0:t.length)||0),i=new csArray(e),n=0;for(let o=0;o<s.length;o++)i[n++]=s[o];for(let o=0;o<r.length;o++)i[n++]=r[o];if(!t)return i;for(let o=0;o<t.length;o++)i[n++]=t[o];return i}function Sl(s,r){for(let t=0;t<s.length;t++)csArray.prototype.push.call(r,s[t])}function ii(s){let r=s instanceof Map,t=[];return s.forEach((e,i)=>csArray.prototype.push.call(t,r?[i,e]:e)),t}var Gr=(()=>{class s{constructor(t,e=""){this.name=t,this.format=e}}return s})(),ws=(()=>{class s extends Gr{constructor(t){super(t,"Value: {count}"),this.count=0}increase(t=1){this.count+=t}decrease(){this.count>0&&this.count--}clear(){this.count=0}getData(){return{count:this.count}}}return s})(),vl=(()=>{class s extends Gr{constructor(t){super(t,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}"),this.added=0,this.removed=0}get value(){return this.added-this.removed}increase(){this.added++}decrease(){this.removed++}getData(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}}}return s})(),bs=(()=>{class s extends Gr{constructor(t){super(t,"Count: {count}<br/>Average: {average}ms<br/>Max: {max}ms<br/>Total: {total}ms"),this.total=0,this.count=0,this.max=0}get average(){return this.count?this.total/this.count:0}elapsed(t){return this.count++,this.max=Math.max(this.max,t),this.total+=t,t}measure(t){let e=K.elapsed();t(),this.count++;let i=K.elapsed()-e;return this.max=Math.max(this.max,i),this.total+=i,i}asyncMeasure(){let t=K.elapsed();return()=>{this.count++;let e=K.elapsed()-t;return this.max=Math.max(this.max,e),this.total+=e,e}}getData(){return{total:this.total,count:this.count,average:this.average,max:this.max}}}return s})(),af=(()=>{class s extends Gr{constructor(){super("INP","Value: {value}")}getData(){return{value:Ht.tasks.eventListener.max}}}return s})(),Ht={general:{category:"General",nbEvents:new ws("Nb of Events"),pendingTasks:new ws("Pending Tasks"),pendingEvents:new ws("Pending Tasks"),nbOfMutationObservers:new vl("Nb of Mutation Observers"),inp:new af},mutations:{category:"Mutations",initialDOM:new bs("Initial DOM"),pendingMutations:new ws("Nb of Mutations scheduled"),serializedMutations:new bs("Serialized Mutations"),count:new ws("Mutation Count"),elementMutationObserved:new vl("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new bs("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new ws("Nb of Hidden Elements "),nbElements:new ws("Nb of  Elements")},tasks:{category:"Tasks",tasks:new ws("Tasks"),errors:new ws("Errors"),timer:new bs("Timers"),microtask:new bs("Microtasks"),mutationObserver:new bs("MutationObserver"),monkeyPatch:new bs("MonkeyPatch"),eventListener:new bs("EventListener"),intersectionObserver:new bs("Intersection")}};function cf(){let s=null;sf(()=>{let r=n=>Object.keys(n),t=csArray.prototype.map.call(r(Ht),n=>Ht[n]),e=csArray.prototype.map.call(t,n=>csArray.prototype.filter.call(csArray.prototype.map.call(r(n),o=>n[o]),o=>o instanceof Gr));Va({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:csArray.prototype.map.call(t,(n,o)=>({category:n.category,performanceCounters:csArray.prototype.map.call(e[o],c=>({name:c.name,format:c.format}))}))}),!s&&(s=csSetInterval(()=>{Ri(()=>{let n=_c(Xe(e,o=>Xe(o,c=>c.getData())),o=>o);Va({type:"UXA_PERFORMANCE_COUNTER",event:n})},as.Timer)},1e3))})}var as=(()=>{let s;return function(r){r.Timer="timer",r.MonkeyPatch="monkeyPatch",r.MutationObserver="mutationObserver",r.EventListener="eventListener",r.IntersectionObserver="intersectionObserver",r.MicroTask="microtask"}(s||(s={})),s})(),Le=null;async function Ri(s,r,t=null){if(Le&&r!==as.MicroTask)return s();t&&(Le=t),Le||(Le={type:r,elapsed:0},Ht.tasks.tasks.increase());try{Le.elapsed+=lf(s)}catch(e){Ht.tasks.errors.increase(),Nt.critical(new Error(`Task error:  ${r}/${s.name}.
${e.message}
${e.stack}`,e),"TASK_ERROR")}finally{La<=0&&(Ht.tasks[Le.type].elapsed(Le.elapsed),Le.elapsed>50?at.counters.longTasks.push(Le.elapsed):at.counters.tasks.push(Le.elapsed),Le=null)}}function lf(s){let r=K.elapsed();return s(),K.elapsed()-r}var ra,Wh="cs-native-frame",Fs={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function Yh(s,r){let t=Ai(window,s);return function(e,i){return t(()=>Ri(e,r),i)}}window.csSetTimeout=Yh("setTimeout",as.Timer);window.csSetInterval=Yh("setInterval",as.Timer);window.csQueueMicrotask=(ra=Ai(window,"queueMicrotask"))!==null&&ra!==void 0?ra:setTimeout;window.csClearTimeout=Ai(window,"clearTimeout");window.csClearInterval=Ai(window,"clearInterval");window.csFileReader=Ai(window,"FileReader");(()=>{var s;let r=0;function t(i){return"cs$Symbol_"+i}function e(i){return t(i)+ ++r}e.for=t,window.csSymbol=(s=window.Symbol)!==null&&s!==void 0?s:e})();function hf(){let s=document.createElement("iframe");s.id=Wh,s.setAttribute("hidden",""),s.setAttribute("title","Intentionally blank"),s.setAttribute("sandbox","allow-same-origin");let r=document.createElement("cs-native-frame-holder");if(r.setAttribute("hidden",""),document.body.appendChild(r),!!Element.prototype.attachShadow){let e=r.attachShadow({mode:"closed"});return e.innerHTML=s.outerHTML,e.firstElementChild.contentWindow}return r.innerHTML=s.outerHTML,r.firstElementChild.contentWindow}function uf(s,r){let t,e=s;for(;e&&!(t=Object.getOwnPropertyDescriptor(e,r));)e=Object.getPrototypeOf(e);return t}function df(s,r,t){let e=uf(s,r);if(!e)return function(){return this[r]};switch(t){case"get":return e.get;case"set":return e.set;case"value":return e.value}}function Xh(s){var r,t;Object.keys(Fs.constructors).forEach(i=>{window[Fs.constructors[i]]=s[i]instanceof Function&&s[i].prototype==null?s[i].bind(window):s[i]}),gf(s);let e=s.MutationObserver;("Prototype"in window||ff())&&(e=(t=(r=Ai(window,"MutationObserver"))!==null&&r!==void 0?r:window.WebKitMutationObserver)!==null&&t!==void 0?t:window.MutationObserver),window.csIntersectionObserver=_l(window.IntersectionObserver,as.IntersectionObserver),window.csMutationObserver=_l(e,as.MutationObserver),Fi("csNode",Fs.nodeProperties,s.Node.prototype,"get"),Fi("csElement",Fs.elementProperties,s.Element.prototype,"get"),Fi("csElement",Fs.elementPropertiesValues,s.Element.prototype,"value",!1),Fi("csHTMLImageElement",Fs.imageProperties,s.HTMLImageElement.prototype,"set"),Fi("csEvent",Fs.eventProperties,s.Event.prototype,"get"),Fi("csNavigator",Fs.navigatorProperties,s.navigator,"value")}function Fi(s,r,t,e,i=!0){r.forEach(n=>{let o=typeof n!="string"&&"binding"in n,c=o?n.propertyName:n;(i||c in t)&&(window[`${s+c}`]=df(t,c,e),o&&(window[`${s+c}`]=window[`${s+c}`].bind(n.binding)))})}function wc(s,r){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[s]=r}function pf(){try{let s=hf();return s?(window.CSPureWindow=s,Xh(window.CSPureWindow),!0):!1}catch(s){return wc("Warning",`failed to copy references from pure iframe: ${s.message}`),!1}}if(!pf())try{Xh(_t)}catch(s){wc("Critical",`failed to copy references from window: ${s.message}`)}function ff(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function gf(s){window.csquerySelector={1:s.Element.prototype.querySelector,9:s.Document.prototype.querySelector,11:s.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:s.Element.prototype.querySelectorAll,9:s.Document.prototype.querySelectorAll,11:s.DocumentFragment.prototype.querySelectorAll}}function _l(s,r){try{let t=function(e,i){return new s((o,c)=>{Ri(()=>e(o,c),r)},i)};return t.base=s,t}catch{return wc("Warning",`failed to extends ${s.name}`),s}}var ge=(()=>{let s;return function(r){r.ELLIPSIS="\u2026";function t(o){return csString.prototype.replace.call(o,/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(o){return csString.prototype.replace.call(o,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}r.escapeInvalidCharacters=e;function i(o,c,u){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(o,c,u);let d=new csRegExp(t(c),"g");return csString.prototype.replace.call(o,d,u)}r.stringReplaceAll=i;function n(o,c,u=""){return o.length<=c?o:csString.prototype.slice.call(o,0,c-u.length)+u}r.truncate=n}(s||(s={})),s})();function Ua(s){return ge.escapeInvalidCharacters(csString.prototype.toLowerCase.call(s.localName))}function mf(s){let r=s.getAttribute("id");return r&&ge.escapeInvalidCharacters(r)}function Mt(s){return s.nodeType===1}function $n(s){return s.nodeType===3}function yf(s){return s.nodeType===8}function Kh(s){return Mt(s)&&s.localName==="link"}function Ef(s){return Mt(s)&&s.localName==="source"}function Jh(s){return Mt(s)&&s.localName==="a"}function bc(s){return Kh(s)&&csString.prototype.indexOf.call(s.rel,"stylesheet")!==-1}function Sf(s){return Mt(s)&&s.localName==="img"}function to(s){return Mt(s)&&s.localName==="style"}function eo(s){return Mt(s)&&s.localName==="input"}function Tc(s){return Mt(s)&&s.localName==="textarea"}function so(s){return Mt(s)&&s.localName==="script"}function vf(s){return Mt(s)&&s.localName==="button"}function nr(s){return Mt(s)&&"ownerSVGElement"in s}function Ac(s){return Mt(s)&&s.localName==="select"}function _f(s){return Mt(s)&&s.localName==="details"}function wf(s){return Mt(s)&&s.localName==="summary"}function bf(s){return nr(s)&&s.localName==="image"}function Tf(s){return nr(s)&&s.localName==="use"}function Af(s){return nr(s)&&s.localName==="feImage"}function Rf(s){switch(s.nodeType){case 9:case 11:return!0;default:return!1}}function Cf(s){switch(s.nodeType){case 9:case 11:case 1:return!0;default:return!1}}function zn(s){return s.nodeType===9}function Ji(s){return Rf(s)&&"host"in s&&"mode"in s}function Qh(s){return Mt(s)&&!!csElementshadowRoot.apply(s)&&Ji(csElementshadowRoot.apply(s))}var If=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];function Pf(s){return Mt(s)&&Ot(s.tagName)&&csString.prototype.indexOf.call(s.tagName,"-")>0&&csString.prototype.indexOf.call(s.tagName,":")===-1&&csString.prototype.indexOf.call(s.tagName,'"')===-1&&csString.prototype.indexOf.call(s.tagName,",")===-1&&csArray.prototype.indexOf.call(If,csString.prototype.toLocaleLowerCase.call(s.tagName))<0}var qr="detached";function Zh(s){let r=s,t=[r];for(;csNodeparentNode.apply(r)!==null;)r=csNodeparentNode.apply(r),csArray.prototype.push.call(t,r);return Gn(r)&&csArray.prototype.push.call(t,qr),{ancestors:t,selectionRoot:r}}function Of(s){let r=s,t=[r],e=null;for(;csNodeparentNode.apply(r)!==null;)e===null&&Jh(r)&&(e=r),csArray.prototype.push.call(t,csNodeparentNode.apply(r)),r=csNodeparentNode.apply(r);return Gn(r)&&csArray.prototype.push.call(t,qr),{firstAnchorParent:e,ancestors:t,selectionRoot:r}}function Gn(s){return ns.isValidElement(s)}var Si=(()=>{var s,r;return(r=(s=_t.Element)===null||s===void 0?void 0:s.prototype)!==null&&r!==void 0?r:{}})(),be=Si.matches||Si.matchesSelector||Si.mozMatchesSelector||Si.msMatchesSelector||Si.oMatchesSelector||Si.webkitMatchesSelector,wl=Si.closest,tu=9;function Nf(s,r){return r?csArray.prototype.some.call(r,t=>be.call(s,t)):!1}function Mf(s,r,t){if(s===qr||s.nodeType===tu)return 0;let e=t.dynamicElementNameRegex,i=!!(e!=null&&e.test(r.localName)),n=Ua(r),o=0,c=r.previousElementSibling;for(;c;)(Ua(c)===n||i&&(e!=null&&e.test(c.localName)))&&!Nf(c,t.reliableSelectors)&&(o+=1),c=c.previousElementSibling;return o}function kf(s,r,t){if(s===qr||s.nodeType===tu)return 0;let e=0,i=r.previousElementSibling;for(;i;)be.call(i,t)&&(e+=1),i=i.previousElementSibling;return e}var Df=[/\d{4}/,/^ember\d+$/],xf="@",Rc="data-cs-override-id",Lf="data-cs-dynamic-id";function eu(s,r,t,e){let i=e.dynamicIdRegex||null,n=e.dynamicElementNameRegex,o=Ua(s);if(n&&n.test(s.localName)&&(o=csString.prototype.replace.call(o,n,`$1${xf}`)),jf(s,t)){let _=Cc(s);return{hasUniqueIdentifier:!0,elementSelector:`${o}[${Rc}="${_}"]`}}let c=qf(s,t,e);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:`${o}#UA[${c.attributeName}="${c.attributeValue}"]`};let u=Vf(s,t,e);if(u)return{hasUniqueIdentifier:!0,elementSelector:`${o}#UCS[${u}]`};let d=mf(s);if(Bf(s,d,t,i))return{hasUniqueIdentifier:!0,elementSelector:`${o}#${d}`};let E=Uf(s,e);if(E){let _=kf(r,s,E);return{hasUniqueIdentifier:!1,elementSelector:`${o}[${E}](${_})`}}let f=Mf(r,s,e);return{hasUniqueIdentifier:!1,elementSelector:`${o}:eq(${f})`}}function Vf(s,r,t){if(t.uniqueCssSelectors){for(let e of t.uniqueCssSelectors)if(be.call(s,e)&&Gf(e,r))return e}}function Uf(s,r){if(r.reliableSelectors){for(let t of r.reliableSelectors)if(be.call(s,t))return t}}function jf(s,r){let t=Cc(s);return t&&csString.prototype.match.call(t,/^[\w-]+$/)&&Ic(Rc,t,r)}function Hf(s){return Cc(s)!==null}function Cc(s){return s.getAttribute(Rc)}function Bf(s,r,t,e){return r&&!Hf(s)&&!Ff(s,r,e)&&zf(r,t)}function Ff(s,r,t){return s.hasAttribute(Lf)||$f(r,t)}function $f(s,r){let t=!1;return s&&r&&(t=r.test(s)),s&&(csArray.prototype.some.call(Df,e=>e.test(s))||t)}function zf(s,r){return s&&Ic("id",s,r)}function Ic(s,r,t){try{return window.csquerySelectorAll[t.nodeType].call(t,`[${s}="${r}"]`).length===1}catch(e){if(e.name!=="SyntaxError")throw e}return!1}function Gf(s,r){try{return window.csquerySelectorAll[r.nodeType].call(r,s).length===1}catch(t){if(t.name!=="SyntaxError")throw t}return!1}function qf(s,r,t){if(!t.uniqueAttributes)return{success:!1};for(let e of t.uniqueAttributes){let i=s.getAttribute(e);if(i!==null&&Ic(e,i,r))return{attributeName:e,attributeValue:i,success:!0}}return{success:!1}}var ja=11;function qn(s,r,t){let e=csArray.prototype.shift.call(s);if(s.length===0)return bl(e,t);let i=e,n=s[0],{elementSelector:o,hasUniqueIdentifier:c}=eu(i,n,r,t);if(!t.fullPath&&c){let d=s[s.length-1];return`${bl(d,t)}${o}`}let u=qn(s,r,t);return`${u?`${u}>`:""}${o}`}function bl(s,r){if(s===qr)return"|detached|";if(s.host){let{ancestors:t,selectionRoot:e}=Zh(s.host);return`${qn(t,e,r)}|shadow-root|`}return s.nodeType===ja?"|fragment|":""}var su=(()=>{class s{constructor(t){this.options=t,this.done=!1,this.path=null}getPath(){if(this.path===null)throw new Error("getPath was called before serializeElement");return this.path}isDone(){return this.done}}return s})(),Wf=(()=>{class s extends su{constructor(){super(...arguments),this.mo=!1,this.yo=!1,this.pc=!1}cy(t,e){return this.mo&&!(e===null&&Gn(t))&&t.nodeType!==ja&&!t.host}ly(t){return!t.localName}serializeElement(t,e,i){var n;if((n=this.path)!==null&&n!==void 0||(this.path=""),this.cy(t,e))return;let o=!1;e===null&&Gn(t)&&(o=!0,this.done=!0);let c=this.yo&&!this.options.fullPath?"":">",u=!!t.host;if(u&&this.path&&(this.path="|shadow-root|"+c+this.path,this.pc=!0,this.mo=!1,this.yo=!1),!u&&e===null&&t.nodeType===ja){this.path="|fragment|"+c+this.path,this.done=!0;return}if(this.ly(t))return;let d=e!=null?e:"detached",{elementSelector:E,hasUniqueIdentifier:f}=eu(t,d,i,this.options);f&&(this.yo=!0,this.mo=!this.options.fullPath);let _=`${o?`|detached|${c}`:""}${this.mo&&!f?"":E}`,A=!f&&this.yo&&!this.options.fullPath?"":this.path&&!this.pc?">":"";this.pc=!1,this.path=`${_}${A}${this.path}`}}return s})();function _e(s,r=pe.SHOW_ALL){let t=r|pe.SHOW_ELEMENT,e=[document.createTreeWalker(s,t,null,!1)],i=Tl(s);i&&csArray.prototype.push.call(e,document.createTreeWalker(i,t,null,!1));let n=null;return{root:s,nextNode(){if(i){let o=i;return i=null,o}for(;e.length>0;){if(n){let d=n;return n=null,d}let c=e[e.length-1].nextNode();if(!c){csArray.prototype.pop.call(e);continue}let u=Tl(c);if(r&pe.SHOW_DOCUMENT_FRAGMENT&&u&&(n=u),u&&csArray.prototype.push.call(e,document.createTreeWalker(u,t,null,!1)),(oa[c.nodeType]&r)!==0)return c}return null},visitAll(o){oa[s.nodeType]&r&&o(s);let c=this.nextNode();for(;c;){if((oa[c.nodeType]&r)===0){c=this.nextNode();continue}o(c),c=this.nextNode()}},find(o){let c;return this.visitAll(u=>o(u)&&(c=u)),c},collectAll(o){let c=[];return this.visitAll(u=>csArray.prototype.push.call(c,o?o(u):u)),c}}}function Tl(s){return s&&Qh(s)?s.shadowRoot:null}var na=(()=>{var s;return(s=_t.Node)!==null&&s!==void 0?s:{}})(),pe=(()=>{var s;return(s=_t.NodeFilter)!==null&&s!==void 0?s:{}})(),oa={2:pe.SHOW_ATTRIBUTE,4:pe.SHOW_CDATA_SECTION,8:pe.SHOW_COMMENT,11:pe.SHOW_DOCUMENT_FRAGMENT,9:pe.SHOW_DOCUMENT,10:pe.SHOW_DOCUMENT_TYPE,1:pe.SHOW_ELEMENT,[na.ENTITY_NODE]:pe.SHOW_ENTITY,[na.ENTITY_REFERENCE_NODE]:pe.SHOW_ENTITY_REFERENCE,[na.NOTATION_NODE]:pe.SHOW_NOTATION,7:pe.SHOW_PROCESSING_INSTRUCTION,3:pe.SHOW_TEXT},iu=!1,Ha=5;function Yf(s=5){iu=Nt.isPerfLoggingActive(),Ha=s}function Ci(s,r){return function(){if(!iu)return s.apply(this,arguments);let t=K.elapsed(),e=s.apply(this,arguments);if(e!=null&&e.then)e.then(()=>{let i=K.elapsed()-t;i>=Ha&&at.counters.methodPerformance.add(r,i)});else{let i=K.elapsed()-t;i>=Ha&&at.counters.methodPerformance.add(r,i)}return e}}var ie=function(s){return function(r,t,e){let i=e.value;e.value=Ci(i,s)}},_i=(()=>{let s;return function(r){function t(){return!!Element.prototype.attachShadow}r.isSupported=t;function e(n){return n&&Qh(n)?n.shadowRoot:null}r.getShadowRoot=e;function i(n){return _e(n,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll(o=>o.host)}r.getAllShadowHosts=Ci(i,"getAllShadowHosts")}(s||(s={})),s})(),Yt=(()=>{let s;return function(r){function t(){let f=[i()];return document.documentElement&&csArray.prototype.push.call(f,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(f,document.body.scrollHeight,document.body.offsetHeight),Math.max(...f)}r.documentHeight=t;function e(){return document.documentElement.scrollWidth}r.documentWidth=e;function i(){return window.innerHeight}r.windowHeight=i;function n(){return window.innerWidth}r.windowWidth=n;function o(){let f=window.csScreen.width;return Os(f)&&f>0?f:window.screen.width}r.screenWidth=o;function c(){let f=window.csScreen.height;return Os(f)&&f>0?f:window.screen.height}r.screenHeight=c;function u(){return window.pageXOffset}r.windowOffsetX=u;function d(){return window.pageYOffset}r.windowOffsetY=d;function E(){return{dw:`${e()}`,dh:`${t()}`,ww:`${n()}`,wh:`${i()}`,sw:`${o()}`,sh:`${c()}`}}r.getRequestParameters=E}(s||(s={})),s})(),aa=(()=>{var s;return(s=_t.Node)!==null&&s!==void 0?s:Object})(),Ct=(()=>{let s;return function(r){let t="isConnected"in aa.prototype?O=>O.isConnected:O=>!O.ownerDocument||!(O.ownerDocument.compareDocumentPosition(O)&O.DOCUMENT_POSITION_DISCONNECTED);function e(O,z){for(let X=O;X;X=csNodenextSibling.apply(X))z(O)}r.forEachChild=e;function i(O){return t(O)}r.isConnected=i;function n(O,z){let X=[];for(let it of u(O,z))csArray.prototype.push.call(X,it);return X}r.getAncestors=n;let o=(O,z)=>{var X;return(X=csNodeparentNode.apply(O))!==null&&X!==void 0?X:z&&Ji(O)?O.host:null};function c(O,z,X=!1){let it=O;for(;it;){if(z(it))return it;let It=o(it,X);if(It&&It!==it)it=It;else break}return null}r.findAncestor=c;function*u(O,z=!1){let X=O;for(;X;){yield X;let it=o(X,z);if(it&&it!==X)X=it;else break}}r.walkUp=u;function d(O,z){if(O===z||z.contains(O))return!0;let X=r.getParentElement(O);return X&&X!==O?d(X,z):!1}r.isDescendantOf=d;function E(O){var z;return O.parentElement?O.parentElement:r.getRootNode(O)?(z=r.getRootNode(O))===null||z===void 0?void 0:z.host:null}r.getParentElement=E;function f(O,z=document){let X=Br(window.csquerySelectorAll[z.nodeType].call(z,O)),it=_i.getAllShadowHosts(z);for(let It of it){let Kt=_i.getShadowRoot(It);if(!Kt)continue;let ne=Br(window.csquerySelectorAll[Kt.nodeType].call(Kt,O));csArray.prototype.push.call(X,...ne)}return X}r.findAllElements=f,r.getRootNode=(()=>{if("getRootNode"in aa.prototype)return(X,it)=>X.getRootNode(it);function O(X){let it=z(X);return Ji(it)?O(it.host):it}function z(X){return csNodeparentNode.apply(X)!=null?z(csNodeparentNode.apply(X)):X}return(X,it)=>typeof it=="object"&&!!it.composed?O(X):z(X)})();function _(O){return O==="transparent"||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(O)}function w(O){let z=O.getBoundingClientRect();return z.right+Yt.windowOffsetX()<0||z.bottom+Yt.windowOffsetY()<0}function A(O){var z,X;if(((z=O.checkVisibility)===null||z===void 0?void 0:z.call(O,{checkOpacity:!0,checkVisibilityCSS:!0}))===!1)return!0;if(!O.offsetParent){if(!O.getBoundingClientRect)return Nt.warn(`SUP-11432: Element doesn't have getBoundingClientRect. Node: ${O instanceof aa} Ctor: ${(X=O==null?void 0:O.constructor)===null||X===void 0?void 0:X.name}`),!1;let Kt=O.getBoundingClientRect();if(Kt.width==0&&Kt.height==0)return!0}let it=window.getComputedStyle(O);return it?it.display==="none"||it.visibility==="hidden"||it.visibility==="collapse"||it.opacity==="0"||it.filter==="opacity(0)"||it.width==="0px"&&it.height==="0px"||_(it.color):!0}r.isHiddenByCSS=A;function V(O){if(A(O))return!0;let X=E(O);return X!=null&&V(X)}r.areAncestorsHiddenByCSS=V;function U(O){let z=null,X=O;do if(A(X))z=X;else break;while(X=E(X));return z}r.getTopAncestorHiddenByCSS=U;function P(O){let z=C(O);return z!==null&&!O.contains(z)&&!z.contains(O)}function C(O){let z=O.getBoundingClientRect(),X=z.left+.5*z.width,it=z.top+.5*z.height;return F(document,X,it)}r.getTopElement=C;function j(O){if(!O.getBoundingClientRect)return null;let z=O.getBoundingClientRect(),X=z.x+z.width/2,it=z.y+z.height/2;return r.getTopElementFromPoint(document,X,it)}r.getElementOnTop=j;function F(O,z,X){let it=O.elementFromPoint(z,X);if(!it)return null;let It=_i.getShadowRoot(it);return It&&It!=r.getRootNode(document.body)&&It!==O?F(It,z,X):it}r.getTopElementFromPoint=F;function M(O){return!w(O)&&!A(O)&&!P(O)}r.isVisibleInDocument=M;function tt(O){return A(O)?!1:ct(O)}r.isVisibleInViewportInForeground=tt;function ct(O){let z=C(O);return z===null?!1:O===z?!0:$t(O)?O.textContent!==""&&z.contains(O):O.contains(z)}r.isInViewPort=ct;function gt(O,z,X){let it=O.getAttributeNS(z,X);return it===""?O.hasAttributeNS(z,X)?it:null:it}r.getAttributeNS=gt;function Xt(O){return!!(O.hasAttribute("tabIndex")||O.getAttribute("contentEditable")==="true"||Jh(O)&&O.hasAttribute("href")||(Ac(O)||Tc(O)||eo(O)||vf(O))&&!O.hasAttribute("disabled")||_f(O)||wf(O))}r.isElementFocusable=Xt;function $t(O){return O.localName==="span"||O.localName==="a"||O.localName==="b"||O.localName==="i"||O.localName==="button"||O.localName==="input"||O.localName==="label"||O.localName==="cite"||O.localName==="small"||O.localName==="strong"||O.localName==="code"||O.localName==="abbr"||O.localName==="em"||O.localName==="dfn"||O.localName==="time"||O.localName==="output"||O.localName==="object"||O.localName==="sub"}r.isInlineElement=$t}(s||(s={})),s})(),Xf=(()=>{class s{constructor(t){this.hy=t}run(t){let e=[...this.hy],i=Ct.getAncestors(t,!1),n=i[i.length-1];for(;e.length>0&&i.length>0;){let o=csArray.prototype.shift.call(i),c=i[0]||null;if(this.uy(e,o,c,n),this.dy(e),e.length===0)break;i.length===0&&o.host&&(i=Ct.getAncestors(o.host,!1),n=i[i.length-1])}}uy(t,e,i,n){for(let o of t)o.serializeElement(e,i,n)}dy(t){for(let e=0;e<t.length;e++)t[e].isDone()&&(csArray.prototype.splice.call(t,e,1),e--)}}return s})(),Kf=(()=>{class s extends su{serializeElement(t){var e;if((e=this.path)!==null&&e!==void 0||(this.path=""),(t==="detached"||t.localName==="body")&&(this.done=!0,this.path.length>0))return;let i=this.py(t);if(i+=i.length>0?"|":"",this.path.length+i.length>this.options.hierarchyMaxLength){this.done=!0;return}this.path=i+this.path}py(t){if(!t.localName)return"";let e=`@${t.localName};`;return e+=this.fy(t.id),t.classList&&(e+=this.gy(csArray.from(t.classList))),t.attributes&&(e+=this.my(t)),e}fy(t){return t?`#${t};`:""}gy(t){return t.length>0?`.${csArray.prototype.join.call(csArray.prototype.sort.call(t),";.")};`:""}yy(t,e){var i,n;return((n=(i=this.options).isAttributeSensitive)===null||n===void 0?void 0:n.call(i,t,e))||csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,e)!==-1||nr(t)&&csString.prototype.indexOf.call(e,"data-")===-1&&e!=="aria-label"||eo(t)&&e==="value"}Ey(t,e){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(t)||e.length>this.options.attrMaxLength}Sy(t){let e={};for(let i of csArray.from(t.attributes))this.yy(t,i.name)||(e[i.name]=i.value);return e}my(t){var e,i;if(!((i=(e=this.options).isNodeSensitive)===null||i===void 0)&&i.call(e,t))return"";let n=Object.entries(this.Sy(t));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(n,([o])=>o.length<this.options.attrMaxLength),([o,c])=>this.Ey(o,c)?`[${o}]`:`[${o}=${c}]`)),";")+(n.length>0?";":"")}}return s})(),ns=(()=>{let s;return function(r){r.INVALID_ELEMENT="INVALID_ELEMENT";function t(c){return!!c&&"localName"in c&&"getAttribute"in c&&"hasAttribute"in c&&"parentNode"in c}r.isValidElement=t;function e(c,u,d={fullPath:!1,dynamicIdRegex:null}){let E=o(c);if(E===document)return{path:"",hierarchy:""};if(!t(E))return{path:r.INVALID_ELEMENT,hierarchy:r.INVALID_ELEMENT};let f=new Wf(d),_=new Kf(u);return new Xf([f,_]).run(E),{path:f.getPath(),hierarchy:_.getPath()}}r.getElementPathAndHierarchy=e;function i(c,u={fullPath:!1,dynamicIdRegex:null}){let d=o(c);if(d===document)return"";if(!t(d))return r.INVALID_ELEMENT;let{ancestors:E,selectionRoot:f}=Zh(d);return qn(E,f,u)}r.getElementPath=i;function n(c,u={fullPath:!1,dynamicIdRegex:null}){let d=o(c);if(d===document)return{path:"",firstAnchorParent:null};if(!t(d))return{path:r.INVALID_ELEMENT,firstAnchorParent:null};let{firstAnchorParent:E,ancestors:f,selectionRoot:_}=Of(d);return{path:qn(f,_,u),firstAnchorParent:E}}r.getElementPathAndFirstAnchorParent=n;function o(c){return c&&"jquery"in c&&c.length===1?c[0]:c}}(s||(s={})),s})();window.CSPathComputation=window.CSPathComputation||ns;var ru=["t.contentsquare.net","clicktale"],Jf=s=>{var r;if(typeof s.filename=="string"&&csArray.prototype.some.call(ru,t=>csString.prototype.indexOf.call(s.filename,t)>-1)&&!(csString.prototype.indexOf.call(s.filename,"blob")>-1&&(s.message==null?void 0:csString.prototype.indexOf.call(s.message,"importScripts"))>-1)){let t=new Error(s.message);t.stack=(r=s.error)===null||r===void 0?void 0:r.stack,q.critical(t)}};window.addEventListener("error",Jf);var q=(()=>{class s{constructor(){}static whiteListFilename(t){csArray.prototype.push.call(ru,t)}static setStrategy(t){s.Gi=t}static computeIsActive(t){s.Ue=os.boolean(t),s.Ue?s.fc=os.boolean(10):s.fc=!1}static isLoggingActive(){return s.Ue}static getStrategy(){return s.Gi}static debug(t,e=""){s.Ue&&this.Gi.send(t,e,yt.debug)}static warn(t,e=!0,i=""){var n;at.counters.errors.count("warning"),s.Ue&&e&&this.Gi.send(t,i,yt.warn),(n=window.UXAnalytics.Console)===null||n===void 0||n.warn(t)}static implementation(t,e=""){at.counters.errors.count("implementation"),s.Ue&&this.Gi.send(t,e,yt.implementation)}static error(t,e=""){var i;at.counters.errors.count("error"),s.Ue&&this.Gi.send(t,e,yt.error),(i=window.UXAnalytics.Console)===null||i===void 0||i.error(t)}static critical(t,e=""){at.counters.errors.count("critical"),this.Gi.send(t,e,yt.critical)}static tryToExecute(t,e){return function(...i){try{let n=e.apply(this,i);return mt(_t.Promise)&&n instanceof _t.Promise?n.then(o=>o,o=>s.error(ei(o)?o:new Error(o),t)):n}catch(n){try{s.error(ei(n)?n:new Error(n),t)}catch{}}}}static isPerfLoggingActive(){return s.fc}}return s.Ue=!1,s.fc=!1,s})(),Qf=function(){"use strict";var s={d:function(i,n){for(var o in n)s.o(n,o)&&!s.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:n[o]})},o:function(i,n){return Object.prototype.hasOwnProperty.call(i,n)}},r={};s.d(r,{H:function(){return t}});var t=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=i.tryCatch,o=i.exception,c=i.scriptDomain,u=i.hjHost,d=i.askUrl,E=i.surveysHost,f=i.surveyImagesHost,_=i.surveyImpressionsEndpoint;window.hj=window.hj||function(){(window.hj.q=window.hj.q||[]).push(arguments)},hj.q=window.hj.q||[],window._hjSettings=window._hjSettings||{},hj.isPreview=!!_hjSettings.preview,hj.settings=hj.isPreview||!window.hjSiteSettings?{}:window.hjSiteSettings,hj.scriptDomain=window.hj.scriptDomain||c||"https://script.hotjar.com/",hj.defaults={environment:"live",host:"in.hotjar.com",insightsHost:"insights.hotjar.com",identifyEndpoint:"https://identify.hotjar.com",surveysHost:"surveys.hotjar.com",surveyImagesHost:"survey-images.hotjar.com",surveyImpressionsEndpoint:"https://surveystats.hotjar.io/hit",askUrl:"https://ask.hotjar.io/"},hj.environment=_hjSettings.environment||hj.defaults.environment,hj.host=u||_hjSettings.host||hj.defaults.host,hj.insightsHost=_hjSettings.insightsHost||hj.defaults.insightsHost,hj.surveysHost=E||_hjSettings.surveysHost||hj.defaults.surveysHost,hj.surveyImagesHost=f||hj.defaults.surveyImagesHost,hj.apiUrlBase="https://"+hj.host+"/api/v1",hj.insightsHost=_hjSettings.insightsHost||hj.defaults.insightsHost,hj.identifyEndpoint=_hjSettings.identifyEndpoint||hj.defaults.identifyEndpoint,hj.askUrl=_hjSettings.askUrl||d||hj.defaults.askUrl,hj.surveyImpressionsEndpoint=_||_hjSettings.surveyImpressionsEndpoint||hj.defaults.surveyImpressionsEndpoint,hj.userDeviceType=null,hj.tryCatch=n||window.hj.tryCatch;var w=o&&{log:o};hj.exceptions=w||window.hj.exceptions},e=r.H;return{n:e}}(),Zf=Qf.n,tg="https://script.hj.contentsquare.net/",eg="https://ask.hj.contentsquare.net/",sg="in.hj.contentsquare.net",ig="surveystats.hj.contentsquare.net",rg="survey-images.hj.contentsquare.net",ng="https://surveystats.hj.contentsquare.net/hit",og={tryCatch:(s,r)=>q.tryToExecute(r,s),exception:(s,r)=>q.error(s,r),scriptDomain:tg,hjHost:sg,askUrl:eg,surveysHost:ig,surveyImagesHost:rg,surveyImpressionsEndpoint:ng};Zf(og);var ag=/^\d+\.\d+(?:\.\d+)?$/,cg=s=>{if(!ag.test(s))return;let[r,t,e]=csArray.prototype.map.call(csString.prototype.split.call(s,"."),Number);return{major:r,minor:t,patch:!e||Number.isNaN(e)?0:e}},lg=(s,r)=>s.major!==r.major?s.major-r.major:s.minor!==r.minor?s.minor-r.minor:s.patch-r.patch,hg=(s,r)=>lg(s,r)>=0;function Ye(s){return se(s,"data:")}function nu(s){return se(s,"#")}function Wn(s){return!!s&&(rr(s,".css")||se(s,"https://fonts.googleapis.com/css"))}var Al=/\bhttps?:\/\/[^\s<>"')\]]*[^\s<>"'),.;:…\])]/gi;function ug(s){Al.lastIndex=0;let r,t=0,e=[];for(;(r=Al.exec(s))!==null;){let i=r.index,n=r.index+r[0].length;if(i>t){let c=csString.prototype.slice.call(s,t,i);csArray.prototype.push.call(e,{content:c,isUrl:!1})}let o=csString.prototype.slice.call(s,i,n);csArray.prototype.push.call(e,{content:o,isUrl:!0}),t=n}if(t<s.length){let i=csString.prototype.slice.call(s,t);csArray.prototype.push.call(e,{content:i,isUrl:!1})}return e}var dg=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],ou=s=>{let r=new Set(dg);return csArray.prototype.forEach.call(s,t=>{r.add(t)}),r},pg=["svg","slot"],fg=(s,r,t)=>t==="radio"&&s==="input"&&r==="name"||csArray.prototype.indexOf.call(pg,s)>-1,au={href:new Set(["a"]),src:new Set(["iframe"])},gg=s=>au.hasOwnProperty(s),mg=(s,r,t)=>{var e;return((e=au[r])===null||e===void 0?void 0:e.has(s))&&!Ye(t)},yg=(s,r,t)=>(t==="submit"||t==="button")&&s==="input"&&r==="value";function ca(s){return s?Eg(s):null}function Eg(s){try{let r=/^\/(.*)\/([gim]*)$/.exec(s);if(r){let[,t,e]=r;return new csRegExp(`^${t}$`,e)}return new csRegExp(`^${s}$`)}catch{return null}}var Sg=1,vg="f553e78fb58e051e51fe8074c4c6e73e",Ba=(()=>{let s;return function(r){r[r.Disabled=0]="Disabled",r[r.ButtonAndLinkOnly=1]="ButtonAndLinkOnly",r[r.Enabled=2]="Enabled"}(s||(s={})),s})(),_g=(()=>{class s{constructor(t){var e,i,n,o,c,u,d,E,f,_,w,A,V,U;this.isChild=!1,this.isSMB=(e=t.isSMB)!==null&&e!==void 0?e:!1,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.settingsFileUri=t.settingsFileUri,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||Sc,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.collectionEnabled=!!(!((o=(i=t.collectionEnabled)!==null&&i!==void 0?i:(n=t.smbConfig)===null||n===void 0?void 0:n.record)!==null&&o!==void 0)||o),this.useSentry=!!((c=t.useSentry)!==null&&c!==void 0?c:!((u=t.smbConfig)===null||u===void 0)&&u.useSentry),this.apiErrors={enabled:(d=t.apiErrorsEnabled)!==null&&d!==void 0?d:0,...t.apiErrors},this.customErrors={enabled:(E=t.customErrorsEnabled)!==null&&E!==void 0?E:0,...t.customErrors},this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=ca(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=ca(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=ca(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.recordingUrlRules=(f=t.recordingUrlRules)!==null&&f!==void 0?f:[],this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex===""&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions={...t.taskSchedulerOptions,enabled:!!t.taskSchedulerOptions.enabled}),this.uxaDomain=t.uxaDomain,this.environment=((_=t.uxaDomain)===null||_===void 0?void 0:_.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc={...t.voc,enabled:!!t.voc.enabled}),this.vocData=t.vocData,t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=(w=t.anonymizeDigits)!==null&&w!==void 0?w:null,this.isHeapPresent=window.heap!==void 0,this.recordTargetingRules=(A=t.recordTargetingRules)!==null&&A!==void 0?A:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=t.emitRecordInfoEvents!=!1,this.collectHierarchy=!!t.collectHierarchy,this.collectSubmit=!!t.collectSubmit,this.collectTargetText=(V=t.collectTargetText)!==null&&V!==void 0?V:Ba.Disabled,this.identityEncryptionKey=t.identityEncryptionKey||null,this.tagVerificationDomain=t.tagVerificationDomain,this.tagVerificationEnabled=!!t.tagVerificationEnabled,this.trackingCodeVerified=!!t.trackingCodeVerified,this.quotas=(U=t.quotas)!==null&&U!==void 0?U:null}getTrackerUri(){return`${this.as()}://${this.trackerDomain}`}getSentryFileUri(){return`${this.as()}://${this.tagDomain}/uxa/smb/errors.js`}getSentryDSNUri(){return`https://${vg}@${this.loggerDomain}/4508608369131520`}getRecordingUri(){return`${this.as()}://${this.malkaRecordingDomain}`}getLoggerUri(){return`${this.as()}://${this.loggerDomain}`}getMetricsUri(){return`${this.as()}://${this.loggerDomain}/metrics`}getStaticResourceManagerUri(){return`${this.as()}://${this.staticResourceManagerDomain}`}getVerificationEndpoint(){return`${this.as()}://${this.tagVerificationDomain}`}getSettingsFileUri(){return this.settingsFileUri?this.settingsFileUri:`${this.as()}://${this.dynamicConfDomain}/${this.projectId}.json`}isQuotaEnabled(){return this.isSMB||this.quotas!==null}getPaProxyDomainUri(){return`${this.as()}://${this.paProxyDomainUri}`}as(){return this.useHttps?"https":"http"}isProjectActive(){return this.status===Sg}processOptionOverrides(t){t&&t.forEach&&t.forEach(([e,...i])=>{if(e==="setOption"){let[n,o]=i;this.vy(n,o)}})}vy(t,e){t==="trackerDomain"&&(this.trackerDomain=e),t==="loggerDomain"&&(this.loggerDomain=e),t==="malkaRecordingDomain"&&(this.malkaRecordingDomain=e),t==="staticResourceManagerDomain"&&(this.staticResourceManagerDomain=e),t==="minLogLevel"&&(this.minLogLevel=e),t==="useHttps"&&(this.useHttps=!!e),t==="isWebView"&&(this.isWebView=e),t==="dynamicConfDomain"&&(this.dynamicConfDomain=e),t==="paProxyDomainUri"&&(this.paProxyDomainUri=e)}getRequestParameters(){return{pid:`${this.projectId}`}}updateDynamicFields(t,e){t==="emitDebugEvents"&&(this.emitDebugEvents=e),t==="minLogLevel"&&(this.minLogLevel=e)}isCsSideloadingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_sideloads_heap"&&!this.isHeapPresent}isHeapSideloadsCs(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"}isHeapSideloadsCsV5(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"&&this.nd()}isHeapSideloadsStartDataCollection(){if(this.isHeapSideloadsCs()){if(this.nd())return!0;let t=cg(this.getHeapVersion()||"");if(t&&t.major===4&&hg(t,{major:4,minor:23,patch:5}))return!0}return!1}nd(){var t;return typeof((t=window.heap)===null||t===void 0?void 0:t.getUserId)=="function"}getHeapVersion(){var t,e,i,n,o,c;return typeof((t=window.heap)===null||t===void 0?void 0:t.getConfig)=="function"&&((n=(i=(e=window.heap)===null||e===void 0?void 0:e.getConfig())===null||i===void 0?void 0:i.sdk)===null||n===void 0?void 0:n.version)||((c=(o=window.heap)===null||o===void 0?void 0:o.version)===null||c===void 0?void 0:c.heapJsVersion)||void 0}isCsCrosswritingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_crosswrites_heap"}getHeapStorageLocation(){var t,e;return(e=(t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_storage_location)!==null&&e!==void 0?e:null}getHeapWebAppUri(){return this.getHeapStorageLocation()==="eu-west-1"?"https://eu.heapanalytics.com":"https://heapanalytics.com"}isCollectTargetTextEnabled(){return this.isSMB||this.collectTargetText!==Ba.Disabled}isNetworkDetailsEnabled(){return this.performanceTimingOptions?this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation:!1}hasRecordingUrlRules(){var t;return!!(!((t=this.recordingUrlRules)===null||t===void 0)&&t.length)}hasTargetingRules(){var t;return!!(!((t=this.recordTargetingRules)===null||t===void 0)&&t.length)}getHeapEnvId(){return this.heapEnvironment?this.heapEnvironment.env_id:""}}return s})(),wg=(()=>{class s{constructor(t,e){this.Eo=t,this.od=e}init(){this.ad=this.Eo!==this.Eo.top,this.cd=this.od.isWebView&&this.Eo===this.Eo.top,this.od.iframesTracking&&this.ad||this.cd?this.ld=!1:this.ld=!0}isInIframeContext(){return this.ad}isTopWindowTracker(){return this.ld}isInWebViewContext(){return this.cd}}return s})();function Rl(){}function Fa(s,r){return csString.prototype.lastIndexOf.call(s,r,0)===0}function bg(s,r){return csString.prototype.indexOf.call(s,r,s.length-r.length)!==-1}var la=csSymbol("cachedJson");function Tg(s){if(s[la])return s[la];if(csArray.isArray(s)){if(s.length===0)return"[]";let r="["+bi(s[0]);for(let t=1;t<s.length;t++)r+=","+bi(s[t]);return r+="]"}return s[la]=csJSON.stringify(s)}var bi=typeof window.Symbol!="undefined"?Tg:csJSON.stringify,Pc=(()=>{let s;return function(r){function t(e){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(e),i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`),"&")}r.toQuery=t}(s||(s={})),s})(),Oc=(()=>{class s{constructor(t,e){this.domainUri=t,this.path=e,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}setRequestParametersProviders(...t){this.requestParametersProviders=t}before(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)}after(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)}retrieveParameters(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,t=>t.getRequestParameters()),(t,e)=>({...t,...e})):{}}}return s})(),Qi=(()=>{class s extends Oc{constructor(t,e){super(t,e)}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,i=>i());let t=this.retrieveParameters();this.gc(t);let e=Pc.toQuery(t);this._y(e),csArray.prototype.forEach.call(this.afterRequestCallbacks,i=>i())}_y(t){let e=new window.Image(1,1);e.onload=Rl,e.onerror=Rl,csHTMLImageElementsrc.call(e,`${this.domainUri}${this.path?`/${this.path}`:""}?${t}`)}gc(t){t.r=csString.prototype.slice.call(`${Math.random()}`,2,8)}}return s})(),Ag=(()=>{class s extends Oc{constructor(){super("")}send(){}}return s})(),Rg=(()=>{class s{constructor(t,e){this.cs=t,this.wy=e}init(){this.ls=new Qi(this.cs.getLoggerUri()),this.ls.setRequestParametersProviders(this,this.wy)}send(t){this.So=t,this.ls.send()}getRequestParameters(){return{a:this.So.app,l:this.So.level,m:this.So.message,s:this.So.stacktrace}}}return s})(),Cg=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,Ig=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,Pg="CS_ANONYMIZED_EMAIL",ha="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",Og=new csRegExp(`(ey${ha}\\.ey${ha}\\.${ha})`,"g"),Ng="CS_ANONYMIZED_JWT",Mg=/[0-9]{4}/,kg=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Dg="CS_ANONYMIZED_PII",xg="\u2022",Lg=/\d/g,Vg=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,Ug=/(?:\d{1,3}\.){3}\d{1,3}/,jg=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,qe=(()=>{let s;return function(r){function t(E){return csString.prototype.replace.call(E,Cg,Pg)}r.replaceEmail=t;function e(E){return csString.prototype.replace.call(E,Og,Ng)}r.replaceJWT=e;function i(E,f){return csString.prototype.replace.call(E,kg,f)}r.replaceCreditCardNumber=i;function n(E){return csString.prototype.replace.call(E,Lg,xg)}r.replaceDigits=n;function o(E){return Ug.test(E)||jg.test(E)}r.mayHaveIPAddress=o;function c(E){return Vg.test(E)}r.mayHaveNumberSequence=c;function u(E){return Mg.test(E)}r.mayHaveCreditCardNumber=u;function d(E){return Ig.test(E)}r.mayHaveEmail=d}(s||(s={})),s})(),Ii=(()=>{class s{hasPII(t,e){let i=this.checkAndAnonymizePII(t,e);return t!==i}checkAndAnonymizePII(t,e=null){let i=this.by(this.mc(t));return e===!0?i=this.Ty(i):e===!1&&(i=this.Ay(i)),i}anonymizePII(t){return this.mc(t)}anonymizeJwt(t){return qe.replaceJWT(t)}anonymizeFields(t,e){return csArray.prototype.forEach.call(e,i=>{t[i]=this.mc(t[i])}),t}mc(t){if(qe.mayHaveEmail(t)){let e=qe.replaceEmail(t);return e!==t&&at.counters.redactedPII.count("email"),e}return t}Ty(t){return qe.replaceDigits(t)}Ay(t){return qe.mayHaveNumberSequence(t)?qe.replaceDigits(t):t}by(t){return qe.mayHaveCreditCardNumber(t)?qe.replaceCreditCardNumber(t,(e,i,n,o,c)=>{if(csString.prototype.indexOf.call(n,"*")===-1){let d=o.length?csArray.prototype.join.call(csString.prototype.split.call(n,o),""):n;if(!this.Ry(d))return e;at.counters.redactedPII.count("cc")}else at.counters.redactedPII.count("cc-partial");return`${i}${Dg}${c}`}):t}Ry(t){let e=parseInt(t[t.length-1]),i=0;for(let n=t.length-2;n>=0;n--){let o=parseInt(t[n]);n%2===0&&(o*=2),i+=Math.floor(o/10)+o%10}return 10-i%10===e}}return s})(),Nc="15.136.1";function Mc(){return{v:Nc}}var Hg=(()=>{class s{constructor(t,e){this.f=t,this.M=e}getRequestParameters(){return{d:`${K.now()}`,p:this.M.anonymizePII(window.location.href),...this.f.getRequestParameters(),...Mc()}}}return s})(),Bg="uxa",Cl=5,Fg="No stacktrace",cu="snippet-",lu="implementation-snippet-",Il=(()=>{let s;return function(r){r.IMPLEMENTATION="implementation",r.DYNAMIC="dynamic"}(s||(s={})),s})(),$g=(()=>{class s{constructor(t,e,i){this.hs=e,this.M=new Ii,this.ud=ia[yt.warn],this.ud=ia[t.minLogLevel||yt.warn],this.ls=i||new Rg(t,new Hg(t,this.M)),this.dd={[yt.debug]:[],[yt.warn]:[],[yt.implementation]:[],[yt.error]:[],[yt.critical]:[]},this.vo={implementation:{},dynamic:{}},this.ls.init()}send(t,e="",i=yt.warn){if(!this.Cy(i,e))return;csArray.prototype.push.call(this.dd[i],e||"");let n={message:this.Iy(t,e),stacktrace:this.Py(t),app:Bg,level:i};this.ls.send(n)}Iy(t,e){let i=ei(t)?this.M.anonymizePII(t.message||t.toString()):t;return e&&(i+=` ErrorCode: ${e}`),i}Py(t){return ei(t)?`${t.stack||Fg} ${this.Dr()}`:this.Dr()}Dr(){let t=this.hs.getVisitorService(),e=t==null?void 0:t.getVisitor();if(!e)return"No context";let i=this.hs.getSessionService(),n=i&&i.getSession(),o={userId:e.id,sessionNumber:e.visitsCount,pageNumber:n&&n.pageNumber};return csJSON.stringify(o)}Cy(t,e){if(ia[t]<this.ud)return!1;if((e==null?void 0:csString.prototype.indexOf.call(e,lu,0))===0)return this.pd(e,Il.IMPLEMENTATION);if((e==null?void 0:csString.prototype.indexOf.call(e,cu,0))===0)return this.pd(e,Il.DYNAMIC);let i=this.dd[t];return i.length>=Cl?!1:!(e&&csArray.prototype.some.call(i,n=>n===e))}pd(t,e){return t in this.vo[e]?this.vo[e][t]>=Cl?!1:(this.vo[e][t]+=1,!0):(this.vo[e][t]=1,!0)}}return s})(),ae=!$r&&document.createElement("a"),zg=/(:443|:80)$/;function Qs(s){return ae?(ae.href=s,ae.href):""}function hu(s,r){return new csURL(s,r).href}function uu(s){let r=Dc(s);return r===null?"":decodeURIComponent(r.hostname)}function kc(s,r){return csArray.prototype.some.call(r,t=>rr(s,`.${t}`)||s===t||t==="")}function Gg(s){return s[0]==="/"?s:`/${s}`}function Pl(s){return csString.prototype.replace.call(s,zg,"")}function Dc(s){return!ae||!se(s,"http://")&&!se(s,"https://")?null:(ae.href=s,{hash:ae.hash,host:Pl(ae.host),hostname:ae.hostname,href:ae.href,origin:ae.origin?ae.origin:Pl(`${ae.protocol}//${ae.host}`),pathname:Gg(ae.pathname),port:ae.port,protocol:ae.protocol,search:ae.search})}var Ol="CS_IFRAME_MESSAGE",Zi=(()=>{let s;return function(r){r.AfterPageView="afterPageView",r.GetSessionKey="getSessionKey"}(s||(s={})),s})(),Ce=(()=>{let s;return function(r){r.Parent="parent",r.Child="child"}(s||(s={})),s})(),$=(()=>{let s;return function(r){r.Discovery="discovery",r.Stop="stop",r.RecordingContext="recordingContext",r.SensitiveStatus="sensitiveStatus",r.RecordingEvent="recordingEvent",r.EndOfBufferedMessages="endOfBufferedMessages",r.ChildLogMessage="childLogMessage",r.AnalysisEvent="analysisEvent",r.JavascriptError="javascriptError",r.ApiError="apiError",r.Assets="assets",r.DetailedApiError="detailedApiError",r.EmerchandisingMessage="emerchandisingMessage",r.Commands="commands",r.IntegrationCallback="integrationCallback",r.StaticResource="staticResource",r.TrackingContextResultMessage="trackingContextResultMessage",r.TrackingContextRequestMessage="trackingContextRequestMessage",r.CustomError="customError"}(s||(s={})),s})(),Tt=(()=>{let s;return function(r){function t(u,d,E,f){let _={type:u,from:d,pid:E,signature:Ol};return f!==void 0&&f>=0&&(_.id=f),_}r.buildBaseMessage=t;function e(u,d,E,f){let _=uu(u.origin);return!!u.data&&!!u.data.type&&u.data.signature===Ol&&u.data.from===d&&u.data.pid===E&&kc(_,f)}r.isMessageValid=e;function i(u,d,E,f){f?u.postMessage(E,d,f):u.postMessage(E,d)}r.sendPostMessage=i;function n(){return new MessageChannel}r.getNewChannelMessage=n;function o(u,d){u.postMessage(d)}r.sendChannelMessage=o;function c(u){u.close()}r.closeChannelPort=c}(s||(s={})),s})(),qg=(()=>{class s{constructor(t){this.f=t}send(t,e="",i=yt.warn){let n={message:t,errorCode:e,level:i},o=Tt.buildBaseMessage($.ChildLogMessage,Ce.Child,this.f.projectId);o.content=n,Tt.sendPostMessage(window.parent,"*",o)}}return s})(),Wg=(()=>{class s{setContext(t,e){this.I=t,this.R=e}getVisitorService(){return this.I}getSessionService(){return this.R}}return s})(),$a=!1;function Yg(){$a=!0}function Pt(){return(s,r,t)=>{if(t){let e=t.value;t.value=function(i,n){(i==null?void 0:i.isTrusted)===!1&&$a||e.call(this,i,n)}}else{let e=s[r];if(typeof e!="function")return;s[r]=function(i,...n){(i==null?void 0:i.isTrusted)===!1&&$a||e.call(this,i,n)}}}}function Xg(s){if(document!=null&&document.prerendering){document.addEventListener("prerenderingchange",s,{once:!0});return}s()}function st(s,r,t,e){var i=arguments.length,n=i<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,r,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(n=(i<3?o(n):i>3?o(r,t,n):o(r,t))||n);return i>3&&n&&Object.defineProperty(r,t,n),n}function Kg(){let s=new MutationObserver(r=>{r.forEach(t=>{ht(t.removedNodes,e=>{e instanceof HTMLElement&&e.tagName==="CS-NATIVE-FRAME-HOLDER"&&(at.counters.pureWindowState.count("iframe-deletion"),Nt.warn("<cs-native-frame-holder> deleted"),s.disconnect())})})});s.observe(document.body,{childList:!0})}function Nl(s){return typeof s!="function"?!1:s.toString().indexOf("[native code]")!==-1}function Jg(){(!Nl(MutationObserver)||!Nl(MutationObserver.prototype.observe))&&at.counters.patchedNativeFunctions.count("MutationObserver")}function Qg(){try{window.CSPureWindow&&Kg(),Jg()}catch{}}var Bt=(()=>{let s;return function(r){r.CURRENT_DOMAIN="CURRENT_DOMAIN";function t(u){let E=new csRegExp(`(^|;)[ ]*${u}=([^;]*)`).exec(document.cookie);return E?decodeURIComponent(E[2]):null}r.get=t;function e(u,d,E,f,_,w){let A=encodeURIComponent(`${d}`),V=E===r.CURRENT_DOMAIN?void 0:E,U=i(f),P=U?`;expires=${U.toUTCString()}`:"",C=";path=/",j=Ot(V)?`;domain=${V}`:"",F=`${u}=${A}${P}${C}${j}`;return mt(_)&&_!==Ks.NotSet&&(F=`${F};SameSite=${_}`),mt(w)&&w===ss.Yes&&(F=`${F};Secure`),document.cookie=F,!0}r.set=e;function i(u){return Lt(u)?new csDate(K.now()+u):u}r.toExpireDate=i;function n(u,d){t(u)&&e(u,"",d,new csDate(0)),t(u)&&e(u,"",d,new csDate(0),Ks.None,ss.Yes)}r.remove=n;function o(){return document.cookie.length>0}r.isCookiePresent=o;function c(u,d){let E="_cs_root-domain",f=t(E);if(f!==null&&f!=="1")return f;let _=csString.prototype.split.call(window.location.hostname,"."),w=csArray.prototype.pop.call(_);for(;_.length&&(f===null||f==="1");)w=csArray.prototype.join.call([csArray.prototype.pop.call(_),w],"."),e(E,w,w,void 0,u,d),f=t(E);return n(E,w),w}r.getRootDomain=c}(s||(s={})),s})(),Zg=(()=>{let s;return function(r){function t(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}r.browserIsSafariV12=t}(s||(s={})),s})(),Ks=(()=>{let s;return function(r){r.None="None",r.Lax="Lax",r.NotSet="X"}(s||(s={})),s})(),ss=(()=>{let s;return function(r){r[r.Yes=1]="Yes",r[r.No=0]="No"}(s||(s={})),s})(),io=(()=>{class s{constructor(t,e,i){this.f=t,this.w=e,this.hi=i,this.yc=!1,this.gd=Ks.NotSet,this.Ec=ss.No}getSameSiteFlag(){return this.gd}getSecureFlag(){return this.Ec}getDomain(){return this.Sc}getRootDomain(){return this.md}init(){if(this.f.cookielessTrackingEnabled)return;let t=this.Oy(),e=this.Ny();this.yc=this.My(t,e),this.yc?(this.gd=t,this.Ec=e):this.f.secureCookiesEnabled&&this.w.getUrlProtocol()==="https:"&&(this.Ec=ss.Yes),this.md=this.ky(),this.Sc=this.Dy(this.md)}My(t,e){return Zg.browserIsSafariV12()?!1:(Bt.set(s.COOKIE_TEST_FOR_SAME_SITE,"Test same site",s.CURRENT_DOMAIN,void 0,t,e),Bt.get(s.COOKIE_TEST_FOR_SAME_SITE)?(Bt.remove(s.COOKIE_TEST_FOR_SAME_SITE,s.CURRENT_DOMAIN),!0):!1)}Oy(){return this.w.getUrlProtocol()==="http:"?Ks.Lax:this.hi.isSameSiteNoneSecureNeeded()||this.f.crossDomainTracking?Ks.None:Ks.Lax}Ny(){return this.w.getUrlProtocol()==="http:"?ss.No:this.f.secureCookiesEnabled||this.f.crossDomainTracking||this.hi.isSameSiteNoneSecureNeeded()?ss.Yes:ss.No}isSameSiteSupported(){return this.yc}set(t,e,i,n){let o=Bt.toExpireDate(i),c=n?ss.Yes:this.getSecureFlag();Bt.set(t,e,this.Sc,o,this.getSameSiteFlag(),c)}get(t){let i=new csRegExp(`(^|;)[ ]*${t}=([^;]*)`).exec(document.cookie);return i?decodeURIComponent(i[2]):null}delete(t,e){let i=e||this.Sc;Bt.remove(t,i)}ky(){let t=this.hi.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),e=t?Ks.None:void 0,i=t?ss.Yes:void 0;return Bt.getRootDomain(e,i)}Dy(t){return this.f.allowSubdomains?t:Bt.CURRENT_DOMAIN}}return s.CURRENT_DOMAIN="CURRENT_DOMAIN",s.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",s})(),$i="_cs_t",Ml="1",tm=(()=>{class s{constructor(t,e){this.mt=t,this.f=e,this._o=!1,this.wo=!1}init(){if(!this.f.cookielessTrackingEnabled&&this.mt.isTopWindowTracker()&&"cookie"in document){if(!this.mt.isInIframeContext()&&Bt.isCookiePresent()){this._o=!0,this.wo=!1;return}if(Bt.set($i,Ml,Bt.CURRENT_DOMAIN),Bt.get($i)!==null){this._o=!0,this.wo=!1,Bt.remove($i,Bt.CURRENT_DOMAIN);return}Bt.set($i,Ml,Bt.CURRENT_DOMAIN,void 0,Ks.None,ss.Yes),Bt.get($i)!==null&&(this._o=!0,this.wo=!0,Bt.remove($i,Bt.CURRENT_DOMAIN))}}areCookiesEnabled(){return this._o}isSameSiteNoneSecureNeeded(){return this.wo}}return s})();function em(){let s="CSSessionStorageTest";try{return sessionStorage.setItem(s,s),sessionStorage.getItem(s)!==s?!1:(sessionStorage.removeItem(s),!0)}catch{return!1}}var sm=(()=>{class s{constructor(t,e){this.f=t,this.hi=e}canTrack(){return this.f.isProjectActive()&&this.xy()&&this.yd()&&this.Ly()}canTrackInChild(){return this.f.isProjectActive()&&this.Vy()&&(this.yd()||this.Uy())}Ly(){return this.f.cookielessTrackingEnabled?em():this.hi.areCookiesEnabled()}yd(){return kc(window.location.hostname,this.f.hostnames)}xy(){return!this.Ed()&&this.jy()}Vy(){return!this.Ed()&&this.Hy()}Uy(){return window.location.protocol==="about:"&&window.location.hostname===""}Ed(){return"visibilityState"in document&&document.visibilityState==="prerender"}jy(){return this.Sd()&&this.By()}Hy(){return this.Sd()}By(){try{return!!window.localStorage}catch{return!1}}Sd(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window}}return s})(),im=(()=>{class s{constructor(t,e){this.vc=!1,this.vd=new Map,this._d=new Map,this.wd=new Map,this.bd="CS_WORKER_SIGNATURE";let i=`
    const algorithm = ${t.algorithm};
    const compressor = (${t.getCompressorSourceCode()})();
    (()=>{"use strict";function e(e,t,r,s){return new(r||(r=Promise))((function(o,a){function i(e){try{c(s.next(e))}catch(e){a(e)}}function n(e){try{c(s.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}c((s=s.apply(e,t||[])).next())}))}var t,r;Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.UNCOMPRESSED="0",e.GZIP="2"}(t||(t={})),function(e){e.debug="debug",e.warn="warn",e.implementation="implementation",e.error="error",e.critical="critical"}(r||(r={})),r.debug,r.warn,r.implementation,r.error,r.critical;let s={debug(...e){},warn(...e){},implementation(...e){},error(...e){},critical(...e){},isPerfLoggingActive:()=>!1};class o{constructor(e){var t;this.queryParams={},this.headers={},this.handleRecoveredRequests=e=>{for(const t of e){const{metadata:e,events:r}=t;this.send(r,e)}},this.endpoint=e.endpoint,this.compressionOpts=e.compressionOpts,this.recoveryStorage=e.recoveryStorage,this.mandatoryParameters=null!==(t=e.mandatoryParameters)&&void 0!==t?t:[],this.contentType=e.contentType,this.worker=!!e.worker,this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests)}setQueryParams(e){Object.keys(e).forEach((t=>{this.queryParams[t]=e[t]}))}removeQueryParams(e){e?e.forEach((e=>{delete this.queryParams[e]})):this.queryParams={}}send(e,r){const o=r||Object.assign({},this.queryParams),a=!("ct"in o),i="application/json"===this.contentType||"string"!=typeof e&&!this.isArrayBuffer(e);"ct"in o||(this.compressionOpts&&a?o.ct=this.compressionOpts.compressionType:o.ct=t.UNCOMPRESSED);const n=i?JSON.stringify(e):e,c=Object.keys(o).map((e=>\`\${encodeURIComponent(e)}=\${encodeURIComponent(o[e])}\`)).join("&"),h=\`\${this.endpoint}?\${c}\`;!function(e,t){const r=e.length;for(let s=0;s<r;s++)if(t(e[s],s))return!0;return!1}(this.mandatoryParameters,(e=>null==o[e]))?this.compressionOpts&&a&&"string"==typeof n?this.compressionOpts.compressor(n,this.compressionOpts.compressionOutputType,(e=>this.doSend(h,o,e))):this.doSend(h,o,n):s.warn(\`[\${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on \${h}\`)}onLoad(e){this.onLoadCallback=e}onError(e){this.onErrorCallback=e}onTimeout(e,t){this.onTimeoutCallback=e,this.timeout=t}abort(){this.abortCurrentXhrCall&&this.abortCurrentXhrCall()}setRequestHeader(e,t){this.headers[e]=t}getQueryParams(){return this.queryParams}isArrayBuffer(e){return e&&void 0!==e.byteLength}doSend(e,t,r){const s=new XMLHttpRequest,o=Object.keys(t).map((e=>\`\${encodeURIComponent(e)}=\${encodeURIComponent(t[e])}\`)).join("&");s.open("POST",e),this.contentType&&s.setRequestHeader("Content-Type",this.contentType),s.onload=()=>{if(this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests),this.onLoadCallback){const e={params:t,responseText:s.responseText,status:s.status};this.onLoadCallback(e)}},s.onerror=()=>{this.recoveryStorage&&this.recoveryStorage.save({key:o,metadata:t,events:r}),this.onErrorCallback&&this.onErrorCallback({params:t})},this.timeout&&this.onTimeoutCallback&&(s.timeout=this.timeout,s.ontimeout=()=>{this.onTimeoutCallback()}),this.abortCurrentXhrCall=()=>s.abort(),Object.keys(this.headers).forEach((e=>{s.setRequestHeader(e,this.headers[e])})),s.send(r)}}class a{constructor(e){this.maxStoredBytes=e,this.storageBytesUsed=0}addString(e){this.storageBytesUsed+=2*e.length}addArrayBuffer(e){this.storageBytesUsed+=e.byteLength}isThresholdReached(){return this.storageBytesUsed>this.maxStoredBytes}reset(){this.storageBytesUsed=0}}class i{constructor(e){this.ramStorage={},this.byteSizeCounter=new a(e)}save({key:e,metadata:t,events:r}){this.byteSizeCounter.isThresholdReached()||(this.byteSizeCounter.addString(e),"string"==typeof r?this.byteSizeCounter.addString(r):this.byteSizeCounter.addArrayBuffer(r),this.byteSizeCounter.isThresholdReached()||(this.ramStorage[e]={metadata:t,events:r}))}recover(e){const t=[];this.getStorageKeys().forEach((e=>{const r=this.ramStorage[e];void 0!==r&&(delete r.metadata.datatype,t.push(r),this.removeItem(e))})),0!==t.length&&(e(t),this.byteSizeCounter.reset())}getStorageKeys(){return Object.keys(this.ramStorage)}removeItem(e){delete this.ramStorage[e]}}var n;!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.READY=3]="READY"}(n||(n={}));class c{constructor(e,t,r){this.storageName=e,this.onOpenError=r,this.cacheState=n.NOT_STARTED,this.toBeSavedBuffer=[],this.recoveryInProgress=0,this.origin=self.origin,this.context="object"==typeof window?"":"worker-",this.byteSizeCounter=new a(t),this.init()}init(){return e(this,void 0,void 0,(function*(){yield this.openCache(),this.cacheState===n.READY?this.flushToBeSavedBuffer():this.onOpenError(this.toBeSavedBuffer)}))}flushToBeSavedBuffer(){this.toBeSavedBuffer.forEach((e=>{this.save(e)})),this.toBeSavedBuffer=[]}save(t){return e(this,void 0,void 0,(function*(){try{if(this.cacheState===n.OPEN_IN_PROGRESS)return void this.toBeSavedBuffer.push(t);if(this.cacheState!==n.READY)return;if(this.byteSizeCounter.isThresholdReached())return;const{key:e,metadata:r,events:s}=t;if(this.byteSizeCounter.addString(e),"string"==typeof s?this.byteSizeCounter.addString(s):this.byteSizeCounter.addArrayBuffer(s),this.byteSizeCounter.isThresholdReached())return;yield this.cache.put(\`\${this.origin}/\${e}\`,new Response(s,{headers:r}))}catch(e){}}))}recover(t){return e(this,void 0,void 0,(function*(){(this.cache||(yield this.openCache(),this.cacheState===n.READY))&&this.doRecover(t)}))}openCache(){return e(this,void 0,void 0,(function*(){try{this.cacheState=n.OPEN_IN_PROGRESS,this.cache=yield self.caches.open(\`\${this.context}\${this.storageName}\`),this.cacheState=n.READY}catch(e){this.cacheState=n.OPEN_FAILED}}))}doRecover(t){return e(this,void 0,void 0,(function*(){try{if(this.recoveryInProgress++,this.recoveryInProgress>1)return;const e=yield this.cache.keys();if(0===e.length)return;const r=(yield this.cache.matchAll()).map((e=>{const t={};e.headers.forEach(((e,r)=>{t[r]=e})),delete t["content-type"];const r=t.datatype;return delete t.datatype,"json"===r||"base64"===r?e.text().then((e=>({metadata:t,events:e}))):e.arrayBuffer().then((e=>({metadata:t,events:e})))})),s=yield Promise.all(r);yield Promise.all(e.map((e=>this.cache.delete(e)))),t(s),this.byteSizeCounter.reset()}catch(e){}finally{this.recoveryInProgress--}}))}}class h{constructor(e){try{this.initializeStorageStrategy(e)}catch(e){this.setRamStorageStrategy()}}initializeStorageStrategy(e){self.caches?this.setCachesStrategy(e):this.setRamStorageStrategy()}save(e){this.storageStrategy.save(e)}recover(e){this.storageStrategy.recover(e)}setCachesStrategy(e){this.storageStrategy=new c(e,h.MAX_SIZE,(e=>{this.setRamStorageStrategy(e)}))}setRamStorageStrategy(e){this.storageStrategy=new i(h.MAX_SIZE),e&&e.forEach((e=>{this.storageStrategy.save(e)}))}}h.MAX_SIZE=16777216,function(){const t="CS_WORKER_SIGNATURE",r=new Map,s=new h("csPersisted");function a(e){var a;if((a=e)&&a.WORKER_SIGNATURE===t)switch(e.type){case"CreatePostRequest":{const{endpoint:a,compressionOutputType:i,useRetry:n,mandatoryParameters:c}=e,h={endpoint:a,mandatoryParameters:c,worker:!0};i&&(h.compressionOpts={compressor,compressionOutputType:i,compressionType:algorithm}),n&&(h.recoveryStorage=s);const d=new o(h);r.set(a,d),d.onLoad((e=>{const r={type:"onLoad",endpoint:a,response:e,WORKER_SIGNATURE:t};self.postMessage(r)})),d.onError((e=>{const r={type:"onError",endpoint:a,response:e,WORKER_SIGNATURE:t};self.postMessage(r)}))}break;case"SetQueryParams":{const{endpoint:t,queryParams:s}=e,o=r.get(t);o&&o.setQueryParams(s)}break;case"RemoveQueryParams":{const{endpoint:t,queryParams:s}=e,o=r.get(t);o&&o.removeQueryParams(s)}break;case"Send":{const{endpoint:t,payload:s,queryParams:o}=e,a=r.get(t);a&&a.send(s,o)}break;case"Abort":{const{endpoint:t}=e,s=r.get(t);s&&s.abort()}break;case"SetHeader":{const{endpoint:t,headerName:s,headerValue:o}=e,a=r.get(t);a&&a.setRequestHeader(s,o)}break;case"SetTimeout":{const{endpoint:s,timeout:o}=e,a=r.get(s);a&&a.onTimeout((()=>{const e={type:"onTimeout",endpoint:s,WORKER_SIGNATURE:t};self.postMessage(e)}),o)}break;default:throw new Error(JSON.stringify(e))}}self.addEventListener("message",(function(t){t.data.getReader?function(t,r){e(this,void 0,void 0,(function*(){const e=t.getReader();for(;;){const{done:t,value:s}=yield e.read();if(t)break;r(s)}}))}(t.data,a):a(t.data)}))}()})();`;try{this.us=this.Fy(e||i),this.vc=!0,s.isTransferableStreamSupported()&&(this.Td=new ReadableStream({start:n=>{this._c=n},cancel:()=>{this._c=null}}),this.us.postMessage(this.Td,[this.Td]))}catch(n){n.name==="SecurityError"&&at.counters.cspErrors.count("network-worker"),this.vc=!1}}postMessage(t){t.WORKER_SIGNATURE=this.bd,this._c?this._c.enqueue(t):this.us.postMessage(t)}Fy(t){let e=window.csURL||window.webkitURL,i=window.Blob,n=window.Worker,o=new i([t],{type:"application/javascript"}),c=e.createObjectURL(o);q.whiteListFilename(c);let u=new n(c);return u.onmessage=d=>{let{type:E,endpoint:f,WORKER_SIGNATURE:_}=d.data;if(_===this.bd){if(E==="onLoad"){let{response:w}=d.data,A=this.vd.get(f);A&&A(w)}else if(E==="onError"){let{response:w}=d.data,A=this._d.get(f);A&&A(w)}else if(E==="onTimeout"){let w=this.wd.get(f);w&&w()}}},u}registerOnLoadCallback(t,e){this.vd.set(t,e)}registerOnErrorCallback(t,e){this._d.set(t,e)}registerOnTimeoutCallback(t,e){this.wd.set(t,e)}isSupported(){return this.vc}static isTransferableStreamSupported(){try{let t=new ReadableStream;return structuredClone(t,{transfer:[t]}),!0}catch{return!1}}}return s})(),rm=(()=>{class s{constructor(t){var e;this.Yt={},this.Xt=t.endpoint,this.Ee=t.networkWorker,this.$y=t.compressionOutputType,this.zy=t.useRetry,this.Ee.postMessage({type:"CreatePostRequest",endpoint:this.Xt,compressionOutputType:this.$y,useRetry:this.zy,mandatoryParameters:(e=t.mandatoryParameters)!==null&&e!==void 0?e:[]})}setQueryParams(t){this.Ee.postMessage({type:"SetQueryParams",endpoint:this.Xt,queryParams:t}),csArray.prototype.forEach.call(Object.keys(t),e=>{this.Yt[e]=t[e]})}getQueryParams(){return this.Yt}removeQueryParams(t){this.Ee.postMessage({type:"RemoveQueryParams",endpoint:this.Xt,queryParams:t}),t&&csArray.prototype.forEach.call(t,e=>{delete this.Yt[e]})}send(t,e){this.Ee.postMessage({type:"Send",endpoint:this.Xt,payload:t,queryParams:e})}abort(){this.Ee.postMessage({type:"Abort",endpoint:this.Xt})}onLoad(t){this.Ee.registerOnLoadCallback(this.Xt,t)}onError(t){this.Ee.registerOnErrorCallback(this.Xt,t)}setRequestHeader(t,e){this.Ee.postMessage({type:"SetHeader",endpoint:this.Xt,headerName:t,headerValue:e})}onTimeout(t,e){this.Ee.registerOnTimeoutCallback(this.Xt,t),this.Ee.postMessage({type:"SetTimeout",endpoint:this.Xt,timeout:e})}}return s})(),ro=(()=>{let s;return function(r){r.UNCOMPRESSED="0",r.GZIP="2"}(s||(s={})),s})(),du=(()=>{class s{constructor(t){this.onError=t}}return s})(),nm=(()=>{class s{constructor(t){var e;this.Yt={},this.wc={},this.Ad=i=>{for(let n of i){let{metadata:o,events:c}=n;this.send(c,o)}},this.Xt=t.endpoint,this.xr=t.compressionOpts,this.Kt=t.recoveryStorage,this.mandatoryParameters=(e=t.mandatoryParameters)!==null&&e!==void 0?e:[],this.bc=t.contentType,this.worker=!!t.worker,this.Kt&&this.Kt.recover(this.Ad)}setQueryParams(t){Object.keys(t).forEach(e=>{this.Yt[e]=t[e]})}removeQueryParams(t){t?t.forEach(e=>{delete this.Yt[e]}):this.Yt={}}send(t,e){let i=e||{...this.Yt},n=!("ct"in i),o=this.bc==="application/json"||typeof t!="string"&&!this.Gy(t);"ct"in i||(!this.xr||!n?i.ct=ro.UNCOMPRESSED:i.ct=this.xr.compressionType);let c=o?JSON.stringify(t):t,u=Object.keys(i).map(E=>`${encodeURIComponent(E)}=${encodeURIComponent(i[E])}`).join("&"),d=`${this.Xt}?${u}`;if(Gh(this.mandatoryParameters,E=>i[E]==null)){Nt.warn(`[${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on ${d}`);return}this.xr&&n&&typeof c=="string"?this.xr.compressor(c,this.xr.compressionOutputType,E=>this.Rd(d,i,E)):this.Rd(d,i,c)}onLoad(t){this.qi=t}onError(t){this.Lr=t}onTimeout(t,e){this.pi=t,this.Vr=e}abort(){this.Cd&&this.Cd()}setRequestHeader(t,e){this.wc[t]=e}getQueryParams(){return this.Yt}Gy(t){return t&&t.byteLength!==void 0}Rd(t,e,i){let n=new XMLHttpRequest,o=Object.keys(e).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(e[c])}`).join("&");n.open("POST",t),this.bc&&n.setRequestHeader("Content-Type",this.bc),n.onload=()=>{if(this.Kt&&this.Kt.recover(this.Ad),this.qi){let c={params:e,responseText:n.responseText,status:n.status};this.qi(c)}},n.onerror=()=>{this.Kt&&this.Kt.save({key:o,metadata:e,events:i}),this.Lr&&this.Lr({params:e})},this.Vr&&this.pi&&(n.timeout=this.Vr,n.ontimeout=()=>{this.pi()}),this.Cd=()=>n.abort(),Object.keys(this.wc).forEach(c=>{n.setRequestHeader(c,this.wc[c])}),n.send(i)}}return s})(),pu=(()=>{class s{constructor(t){this.Tc=t,this.Ee=new im(this.Tc)}create(t,e,i,n,o=[]){if(this.Ee.isSupported()&&e)return new rm({networkWorker:this.Ee,endpoint:t,compressionOutputType:i,useRetry:!!n,mandatoryParameters:o});{let c=i?{compressor:this.Tc.compress,compressionOutputType:i,compressionType:this.Tc.algorithm}:void 0;return new nm({endpoint:t,compressionOpts:c,recoveryStorage:n})}}}return s})(),om=(()=>{class s{constructor(t,e,i,n,o){this.I=t,this.R=e,this.Ye=i,this.vt=n,this.f=o}get(){return{exclusion:this.Ye.getAppliedTrackingDraw(),visitor:this.I.getVisitor(),session:this.R.getSession(),cvars:this.vt.getCustomVariablesSession()}}apply(t){t&&(t.exclusion?this.exclude():this.include(t))}exclude(){this.Ye.exclude(this.f),this.I.removeVisitor(),this.R.removeSession(),this.vt.removeCustomVariablesSession()}include(t){this.Ye.removeExclusion(),this.I.setVisitor(t.visitor),t.session?this.R.setSession(t.session):this.R.removeSession(),t.cvars?this.vt.setCustomVariableSession(t.cvars):this.vt.removeCustomVariablesSession()}}return s})(),Yn=".",xc="__DOT__",am=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,fu="x";function cm(s){let[r,t,e,i,n,o,c,u,d]=pm(s);return{id:r,creationTimestamp:Number(t),visitsCount:Number(e),hitTimestamp:Number(i),lastVisitTimestamp:Number(n),appliedTrackingDraw:Number(o),expires:Number(c),allowSubdomains:u===void 0?void 0:!!Number(u),identityPrint:d===void 0||d===fu?null:d}}function lm(s){var r;return csArray.prototype.join.call(csArray.prototype.map.call(csArray.prototype.map.call([s.id,s.creationTimestamp,s.visitsCount,s.hitTimestamp,s.lastVisitTimestamp,s.appliedTrackingDraw,s.expires,s.allowSubdomains?1:0,(r=s.identityPrint)!==null&&r!==void 0?r:fu],csString),um),Yn)}function hm(s){return am.test(s)}function um(s){return csString.prototype.replace.call(s,/\./g,xc)}function dm(s){return csString.prototype.replace.call(s,new csRegExp(xc,"g"),Yn)}function pm(s){return csString.prototype.indexOf.call(s,xc)!==-1?csArray.prototype.map.call(csString.prototype.split.call(s,Yn),dm):csString.prototype.split.call(s,Yn)}var Z=(()=>{let s;return function(r){r.QUOTA_REACHED="X",r.RECORDING_RULES_TARGETING="8",r.ANALYTICS_ONLY_RULES_TARGETING="9",r.ANALYTICS_ONLY="0",r.RECORDING_GLOBAL_SAMPLING="5",r.RECORDING_TEMPORARILY="T",r.RECORDING_URL_SAMPLING="6",r.RECORDING_ETR_SAMPLING="7",r.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",r.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(s||(s={})),s})(),Se=(()=>{let s;return function(r){r.ETR_OFF="0",r.ETR_ON="1"}(s||(s={})),s})(),Zs=(()=>{let s;return function(r){r.ETR_LEGACY="0",r.ETR_SESSION="1",r.ETR_PAGE="2"}(s||(s={})),s})(),Ve=(()=>{let s;return function(r){r.ETR_DISABLED="0",r.ETR_PENDING="1",r.ETR_SAVED_PAGE="2",r.ETR_SAVED_SESSION="3",r.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),za=(()=>{let s;return function(r){r.UNNECESSARY="U",r.NOT_EXPRESSED="N",r.WITHDRAWN="W",r.GRANTED="G"}(s||(s={})),s})(),fm=(()=>{let s;return function(r){r.ETR_DISABLED="0",r.ETR_PENDING="1",r.ETR_SAVED_PAGE="2",r.ETR_SAVED_SESSION="3",r.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),gu=/^(\d+\.[01356789TBWX](\.[01UNWG])?(\.[39])?)(\.\d+)?$/,mu=".";function gm(s){return csArray.prototype.join.call([s.pageNumber,s.collectState,s.replayConsent,s.etrStatus],mu)}function mm(s){if(!Lc(s))return null;let r=Ga(s);return r!==null?yu(r):null}function yu(s){var r,t;let[e,i,n,o]=csString.prototype.split.call(s,mu);return{collectState:i,replayConsent:(r=n)!==null&&r!==void 0?r:za.UNNECESSARY,etrStatus:(t=o)!==null&&t!==void 0?t:fm.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}}function Lc(s){return gu.test(s)}function Ga(s){if(!s)return null;let r=(()=>{var t;return(t=csString.prototype.match.call(s,gu))===null||t===void 0?void 0:t[1]})();return r!=null?r:null}var As="_cs_ex",kl=2592e6,ym=/^[0-9]+$/,Em=(()=>{class s{constructor(t,e,i){this.f=t,this.N=e,this.K=i}onCookieToSet(t){this.fi=t}onCookieToRemove(t){this.gi=t}get(){return this.f.cookielessTrackingEnabled?Number(this.K.getItem(As)):Number(this.N.get(As))}set(t){var e;this.f.cookielessTrackingEnabled?this.K.setItem(As,t):(this.N.set(As,t,kl),(e=this.fi)===null||e===void 0||e.call(this,As,t,kl))}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(As):(this.N.delete(As),(t=this.gi)===null||t===void 0||t.call(this,As))}static isValidExclusionString(t){return ym.test(t)}}return s})(),$s="_cs_cvars",Sm=(()=>{class s{constructor(t,e,i){this.f=t,this.N=e,this.K=i}onCookieToSet(t){this.fi=t}onCookieToRemove(t){this.gi=t}get(){return this.f.cookielessTrackingEnabled?this.K.getItem($s):this.N.get($s)}set(t){var e;this.f.cookielessTrackingEnabled?this.K.setItem($s,t):(this.N.set($s,t),(e=this.fi)===null||e===void 0||e.call(this,$s,t))}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem($s):(this.N.delete($s),(t=this.gi)===null||t===void 0||t.call(this,$s))}static isValidCustomVarString(t){return typeof t=="string"}}return s})();function Ms(s,r,t,e){var i=arguments.length,n=i<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,r,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(n=(i<3?o(n):i>3?o(r,t,n):o(r,t))||n);return i>3&&n&&Object.defineProperty(r,t,n),n}var no=(()=>{class s{constructor(){this.set=new Set}add(t){this.set.add(t),this.set.size===1&&csSetTimeout(()=>{this.set.clear()})}has(t){return this.set.has(t)}del(t){this.set.delete(t)}clear(){this.set.clear()}values(){return ii(this.set)}get count(){return this.set.size}}return s})(),vm=(()=>{class s extends no{constructor(t="high"){super(),this.Ky=t}add(t){this.set.add(t),this.set.size===1&&ve(()=>{this.set.clear()},this.Ky)}}return s})();function oo(s,r=!1){let t=new no;return{push(e){t.count===0&&(r?ve:csSetTimeout)(()=>{s(t.values()),t.clear()}),t.add(e)}}}function _m(){let s=new Error,r=s.stack?csArray.prototype.filter.call(csString.prototype.split.call(s.stack,`
`),e=>e!=="Error"&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(e),"promise ")===-1&&csString.prototype.indexOf.call(e,"[native code]")===-1&&csString.prototype.indexOf.call(e,"(<anonymous>)")===-1):[];if(r.length===0)return"";let t=bm(r);return t===""||(r=Tm(r,t),r.length===0)?"":Eu(r[0])}function wm(s){return csString.prototype.indexOf.call(s,"@")!==-1}function bm(s){return s.length>0?Eu(s[0]):""}function Tm(s,r){return csArray.prototype.filter.call(s,t=>csString.prototype.indexOf.call(t,r)===-1)}function Eu(s){let r="",t;wm(s)?t=new csRegExp("@(.+):(\\d+):(\\d+)$"):t=new csRegExp("\\((.+):(\\d+):(\\d+)\\)");let e=t.exec(s);return e&&(r=e[1]),r}var Am=s=>s;function Rm(s,r,t,e){let i=csSymbol.for("propertyProxy");Object.defineProperty(s,r,{get(){var n;if(this[i])return this[i];let o=(n=t.get)===null||n===void 0?void 0:n.apply(this);return typeof o!="object"?o:(typeof Proxy=="function"?this[i]=new Proxy(o,{get(c,u){let d=Reflect.get(c,u);return typeof d=="function"?d.bind(c):d},set:(c,u,d)=>{let E=c[u],f=Reflect.set(c,u,d);return e.forEach(_=>_(this,d,E,"subproperty")),f}}):this[i]=o,this[i])},set(){var n;let o=arguments,c=this[r],u=(n=t.set)===null||n===void 0?void 0:n.apply(this,o);delete this[i];try{e.forEach(d=>d(this,o[0],c,"property"))}catch(d){Nt.error(d)}return u}})}function Cm(s,r,t){let e=Im(s,r);if(!e)return null;let i=(n,o,c,u)=>t(n,o,c,u);return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function Im(s,r){let t=csSymbol.for(r);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,r);return i?i.configurable?(s[t]=e,Rm(s,r,i,e),e):(Nt.warn(`Cannot intercept non configurable property '${csString(r)}' of object '${s}'`),null):(Nt.warn(`Cannot intercept property '${csString(r)}' because it does not exist directly on the target object '${s}'`),null)}function Pm(s,r){let t=csSymbol.for(r);if(s[t])return s[t];let e=Object.getOwnPropertyDescriptor(s,r);if(!(e!=null&&e.writable)&&!(e!=null&&e.set))return Nt.warn(`Cannot intercept read only function '${csString(r)}' of object '${s}'`),null;let i=new Set;s[t]=i;let n=s[r];if(typeof n=="function"){let o=function(){let c=arguments,u=[];try{u=csArray.prototype.map.call(ii(i),E=>E(c))}catch(E){Nt.critical(E)}let d=n.apply(this,c);return Ri(()=>{let E={result:d,context:this,args:c};csArray.prototype.forEach.call(u,f=>f(E))},as.MonkeyPatch),d};Nm(o,n),s[r]=o}return i}function Rs({target:s,methodName:r,hook:t,hookPrepareArgs:e=Am,options:i}){let n=Pm(s,r);if(!n)return null;let o=c=>{let u=e(c),d=i!=null&&i.withCallerName?{callerName:_m()}:{};return E=>t({...E,...d,args:u})};return{activate:()=>{n.add(o)},deactivate:()=>{n.delete(o)}}}function Om(s,r){let t=csSymbol.for(r);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,r);return i?i.configurable?(s[t]=e,Object.defineProperty(s,r,{set(){var n;let o=this[r],c=arguments;return Ri(()=>{e.forEach(u=>u(this,c[0],o,"property"))},as.MonkeyPatch),(n=i.set)===null||n===void 0?void 0:n.apply(this,c)}}),e):(Nt.warn(`Cannot intercept read only property '${csString(r)}' of object '${s}'`),null):e}function Xn(s,r,t){let e=Om(s,r);if(!e)return null;let i=(n,o,c)=>t(n,o,c,"property");return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function Nm(s,r){s.prototype=r.prototype,Object.defineProperty(s,"toString",{value:()=>r.toString()})}var or=(()=>{var s;class r{static Jy(e){this.ks.forEach(i=>{e(i,"initial")})}static Ur(e){if(this.D||(this.D=new csMutationObserver(i=>{for(let n of i)n.target.isConnected&&ht(n.addedNodes,this.Qy),ht(n.removedNodes,this.Zy)})),csArray.prototype.push.call(this.ve,e),!this.F){this.F=!0,this.D.observe(document,this.jr);for(let i of _i.getAllShadowHosts(document)){let n=csElementshadowRoot.apply(i);this.ks.add(n),this.D.observe(n,this.jr)}this.Pc||(this.Pc=Rs({target:Element.prototype,methodName:"attachShadow",hook:i=>this.tE(i.result)&&this.Od(i.result)})),this.Pc.activate()}this.Jy(e)}static tE(e){return e.isConnected&&e.ownerDocument===document}static Hr(e){var i,n;this.ve=csArray.prototype.filter.call(this.ve,o=>o!==e),this.ve.length===0&&(this.ve=[],this.F=!1,(i=this.D)===null||i===void 0||i.disconnect(),(n=this.Pc)===null||n===void 0||n.deactivate(),this.ks.clear())}constructor(e){this.A=e,this.A=si("DocumentShadowRootObserver:callback",(i,n)=>e(i,n))}get shadowRoots(){return ii(s.ks)}takeRecords(){var e,i;return(i=(e=s.D)===null||e===void 0?void 0:e.takeRecords())!==null&&i!==void 0?i:[]}observe(){_i.isSupported()&&s.Ur(this.A)}disconnect(){_i.isSupported()&&s.Hr(this.A)}}return s=r,r.ve=[],r.ks=new Set,r.F=!1,r.jr={childList:!0,subtree:!0},r.Od=t=>{s.ks.has(t)||(s.D.observe(t,s.jr),s.ks.add(t),ht(s.ve,e=>e(t,"added")))},r.Qy=t=>{_e(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(s.Od)},r.Zy=t=>{t.isConnected||_e(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(e=>{s.ks.has(e)&&(s.ks.delete(e),ht(s.ve,i=>i(e,"removed")))})},St([G()],r.prototype,"observe",null),St([G()],r.prototype,"disconnect",null),r})(),Dl={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},Je=(()=>{var s;class r{static setShadowRootFilter(e){csArray.prototype.push.call(s.shadowRootFilters,e)}static Oc(e){if(s.shadowRootFilters.length>0&&Ji(e))for(let i=0;i<s.shadowRootFilters.length;i++){let n=s.shadowRootFilters[i];if(n(e))return}this.observedTargets.add(e),this.mutationObserver.observe(e,Dl)}static disconnectShadowRoot(e){this.observedTargets.has(e)&&(this.observedTargets.delete(e),this.isRefreshing||(this.isRefreshing=!0,ve(()=>{this.isRefreshing=!1;let i=this.mutationObserver.takeRecords();i.length&&s.mutationCallback(i),this.mutationObserver.disconnect(),this.observedTargets.forEach(n=>{this.mutationObserver.observe(n,Dl)})})))}static observe(e,i){csArray.prototype.push.call(this.callbacks,e),i&&csArray.prototype.push.call(this.shadowRootCallbacks,i),this.started?i&&csArray.prototype.forEach.call(_i.getAllShadowHosts(document),n=>i(csElementshadowRoot.apply(n),"initial")):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.Oc(document),this.shadowRootObserver=new or(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,ht(this.shadowRootObserver.shadowRoots,n=>{this.Oc(n)}))}static disconnect(e,i){var n,o;this.callbacks=csArray.prototype.filter.call(this.callbacks,c=>c!==e),i&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,c=>c!==i)),this.callbacks.length===0&&(this.callbacks=[],this.shadowRootCallbacks=[],s.shadowRootFilters=[],(n=this.shadowRootObserver)===null||n===void 0||n.disconnect(),(o=this.mutationObserver)===null||o===void 0||o.disconnect(),this.observedTargets.clear(),this.started=!1)}constructor(e,i){this.A=e,this.Nd=i;let n=oo(o=>e(o,this),!0);this.A=si("DocumentMutationObserver:callback",o=>{ht(o,c=>n.push(c))})}get shadowRoots(){var e,i;return(i=(e=s.shadowRootObserver)===null||e===void 0?void 0:e.shadowRoots)!==null&&i!==void 0?i:[]}takeRecords(){var e;let i=(e=s.mutationObserver)===null||e===void 0?void 0:e.takeRecords(),n=s.shadowRootObserver.takeRecords();return i!=null&&i.length&&n.length?of(i,n):i!=null?i:n}observe(){s.observe(this.A,this.Nd)}disconnect(){s.disconnect(this.A,this.Nd)}}return s=r,r.callbacks=[],r.shadowRootCallbacks=[],r.started=!1,r.observedTargets=new Set,r.shadowRootFilters=[],r.mutationCallback=t=>{Ht.mutations.count.increase(t.length),csArray.prototype.forEach.call(s.callbacks,e=>e(t,s.mutationObserver))},r.onShadowRoot=(t,e)=>{ht(s.shadowRootCallbacks,i=>i(t,e)),e!=="removed"?s.Oc(t):s.disconnectShadowRoot(t)},r.isRefreshing=!1,St([G()],r.prototype,"observe",null),St([G()],r.prototype,"disconnect",null),r})(),ua;function ee(s){if(ua||(ua=document.createElement("div")),!(!!s&&L(s)))return Nt.warn(`isValidSelector: invalid selector provided '${s}'`),!1;try{return be.call(ua,s),!0}catch{return Nt.warn(`isValidSelector: invalid selector provided '${s}'`),!1}}function tr(s,r){if(wl)return wl.call(s,r);let t=s;do{if(be.call(t,r))return t;t=t==null?void 0:t.parentElement}while(t!==null&&t.nodeType===1);return null}var Ke=(()=>{class s{get selectors(){return this.je===""?null:this.je}constructor(t,e={closest:!1}){this.A=t,this.At=e,this.je="",this.Br=new no,this.bo=Ci(i=>{if(this.je==="")return;let n=[];for(let o of _c(i,c=>c.addedNodes)){if(!(Cf(o)||this.At.closest&&$n(o)))continue;let c=this.At.closest?this.eE(o,this.je):this.findMatchingElements(o,this.je);Sl(c,n)}n.length&&this.A(n,"added")},"SelectorObserver.processMutations"),this.sE=(i,n)=>{if(this.je===""||n!=="added")return;let o=this.findMatchingElements(i,this.je);o.length&&this.A(o,"added")},this.z=new Je(this.bo,this.sE)}observe(t){this.je===""?this.z.observe():this.je+=",",this.je+=t;let e=this.findMatchingElements(document,t);for(let i of this.z.shadowRoots){let n=this.findMatchingElements(i,t);Sl(n,e)}e.length&&(ht(e,i=>{this.Br.add(i)}),this.A(e,"initial"))}processPendingMutations(){this.bo(this.z.takeRecords())}disconnect(){this.z.disconnect(),this.Br.clear(),this.je=""}eE(t,e){let i=[];if($n(t)){if(t.parentElement){let n=tr(t.parentElement,e);n&&csArray.prototype.push.call(i,n)}return csArray.prototype.filter.call(i,n=>this.Br.has(n)===!1)}else{if(Ns(t)){let n=tr(t,e);if(n)return csArray.prototype.push.call(i,n),csArray.prototype.filter.call(i,o=>this.Br.has(o)===!1)}return this.findMatchingElements(t,e)}}findMatchingElements(t,e){let i=Br(window.csquerySelectorAll[t.nodeType].call(t,e));return Mt(t)&&be.call(t,e)&&csArray.prototype.push.call(i,t),csArray.prototype.filter.call(i,n=>this.Br.has(n)===!1)}}return St([G()],s.prototype,"observe",null),St([G()],s.prototype,"disconnect",null),St([ie("SelectorObserver.findMatchingElements")],s.prototype,"findMatchingElements",null),s})();function Mm(){let s=csSymbol.for("propStore");return{getStore(r){return r[s]},get(r,t){let e=r[s];return e==null?void 0:e[t]},set(r,t,e){let i=r[s];i||(i={},r[s]=i),i[t]=e}}}var Ln=Mm(),lt=(()=>{let s;return function(r){function t(u,d,E){var f;if(typeof Node!="undefined"&&u instanceof Node)Ln.set(u,d,E);else{let _=u;(f=_.props)!==null&&f!==void 0||(_.props={}),_.props[d]=E}}r.setProperty=t;function e(u,d){var E;return typeof Node!="undefined"&&u instanceof Node?Ln.get(u,d):(E=u.props)===null||E===void 0?void 0:E[d]}r.getProperty=e;function i(u){return typeof Node!="undefined"&&u instanceof Node?Ln.getStore(u):u.props}r.getProperties=i;function n(u,d){let E=null;return o(u,(f,_,w)=>d(f)&&(E=f)&&!!w()),E}r.findDescendant=n;function o(u,d){c(u,void 0,d)}r.traverse=o;function c(u,d,E){let f=!1;if(E(u,d,()=>f=!0),f)return;let w=u.shadowRoot;w&&c(w,u,E);let A=u.children;if(A!=null&&A.length){for(let V of A)if(V&&(c(V,u,E),f))break}}}(s||(s={})),s})(),Y=(()=>{let s;return function(r){let t;(function(P){P[P.NotMasked=0]="NotMasked",P[P.Parent=1]="Parent",P[P.Child=2]="Child"})(t=r.MaskedElementState||(r.MaskedElementState={})),r.maskedProp="masked",r.maskedAttributeProp="maskedAttribute";function e(P){return He(P)&&"Attributes"in P&&"PIISelectors"in P?P.Attributes instanceof Array&&P.PIISelectors instanceof Array:!1}r.isSelectorUserInput=e;function i(P){if(!He(P)||P===null)throw new Error("Command misuse: setPIISelectors");return"Attributes"in P||(P.Attributes=[]),"PIISelectors"in P||(P.PIISelectors=[]),P}r.sanitizeSelectorUserInput=i;function n(P){var C;return(C=lt.getProperty(P,r.maskedProp))!==null&&C!==void 0?C:{state:t.NotMasked}}r.getMaskedElementDetails=n;function o(P){var C;return(C=lt.getProperty(P,r.maskedAttributeProp))!==null&&C!==void 0?C:{attributes:[]}}r.getMaskedAttributeDetails=o;function c(P){let C=lt.getProperty(P,r.maskedProp);return(C==null?void 0:C.state)===t.Parent}r.isMaskedElement=c;function u(P){let C=lt.getProperty(P,r.maskedProp);return(C==null?void 0:C.state)===t.Child}r.isMaskedElementChild=u;function d(P,C){let j=lt.getProperty(P,r.maskedAttributeProp);return((j==null?void 0:j.attributes)==null?void 0:csArray.prototype.indexOf.call(j==null?void 0:j.attributes,C))>-1}r.isMaskedAttribute=d;function E(P,C){lt.setProperty(P,r.maskedProp,C)}r.setMaskedElementProperty=E;function f(P){lt.setProperty(P,r.maskedProp,void 0)}r.unsetMaskedElementProperty=f;function _(P,C){lt.setProperty(P,r.maskedAttributeProp,C)}r.setMaskedAttributeProperty=_;function w(P,C){let j=csArray.prototype.filter.call(P.PIISelectors,tt=>ee(tt));C.elementSelector.length>0&&csArray.prototype.push.call(j,...csString.prototype.split.call(C.elementSelector,","));let F=U([...j]),M={elementSelector:csArray.prototype.join.call(F,","),attrSelector:C.attrSelector,attrSelectors:C.attrSelectors};return csArray.prototype.forEach.call(P.Attributes,tt=>{tt!=null&&tt.attrName&&(tt!=null&&tt.selector)&&ee(tt.selector)&&!A(M.attrSelectors,tt)&&csArray.prototype.push.call(M.attrSelectors,tt)}),M.attrSelector=V(M.attrSelectors),M}r.getComputedSelectorSettings=w;function A(P,C){return csArray.prototype.some.call(P,j=>j.selector===C.selector&&j.attrName===C.attrName)}function V(P){let C="";return csArray.prototype.forEach.call(P,j=>{let F=csString.prototype.split.call(j.selector,",");csArray.prototype.forEach.call(F,M=>{ee(M)&&(C&&(C+=","),C+=M)})}),C}function U(P){if(P.length<=1)return P;let C=[];for(let j of P){let F=csString.prototype.split.call(j,",");for(let M of F)csArray.prototype.indexOf.call(C,M)===-1&&csArray.prototype.push.call(C,M)}return C}}(s||(s={})),s})(),ks=(()=>{class s{constructor(){this.ne=[],this.isStarted=!1}produceEvent(t){var e;this.isStarted&&(t.timestamp=(e=t.timestamp)!==null&&e!==void 0?e:K.now(),t.timestamp==null&&(t.timestamp=K.now()),csArray.prototype.forEach.call(this.ne,i=>i(t)))}onStop(){}start(){this.isStarted||(this.isStarted=!0,this.onStart())}stop(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.ne=[])}stopForInactivity(){this.isStarted&&(this.isStarted=!1,this.onStop())}subscribe(t){return csArray.prototype.push.call(this.ne,t),()=>{let e=csArray.prototype.indexOf.call(this.ne,t);csArray.prototype.splice.call(this.ne,e,1)}}}return s})(),Su=1,Nr=csSymbol("nodeIdentifier");function km(s=!1){s&&(Su=1),Nr=csSymbol("nodeIdentifier")}function Dm(s){return lt.getProperty(s,Nr)}function Rt(s){let r=lt.getProperty(s,Nr);return r!=null?r:(lt.setProperty(s,Nr,Su++),lt.getProperty(s,Nr))}var Vc=(()=>{class s extends ks{constructor(t){super(),this.B=null,this.To=null,this.D=null,this.Ds=null,this.Md=["value","checked","src","data","alt"],this.Ao={state:Y.MaskedElementState.Child},this.iE=e=>{for(let i of e){if(Y.isMaskedElement(i.target)||Y.isMaskedElementChild(i.target))for(let n=0;n<i.addedNodes.length;n+=1){let o=i.addedNodes[n];Y.isMaskedElement(o)||Y.isMaskedElementChild(o)||Mt(o)&&this.kd(o)}for(let n=0;n<i.removedNodes.length;n+=1){let o=i.removedNodes[n];Ct.isConnected(o)||this.Dd(o)}}},this.rE=t}setMaskedElementSettings(t){this.ds=t}startIdentifier(){this.isStarted||(this.isStarted=!0,this.onStart())}stopIdentifier(){return this.isStarted=!1,this.onStop()}start(){}stop(){}onStart(){var t,e,i,n;this.ds||(Nt.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.ds={elementSelector:"",attrSelector:"",attrSelectors:[]});let{elementSelector:o,attrSelector:c,attrSelectors:u}=this.ds;(t=this.Ds)!==null&&t!==void 0||(this.Ds=this.nE()),o.length!==0&&((e=this.B)!==null&&e!==void 0||(this.B=this.oE()),this.B.observe(o)),c.length!==0&&((i=this.To)!==null&&i!==void 0||(this.To=this.aE(u)),this.To.observe(c)),(n=this.D)!==null&&n!==void 0||(this.D=new Je(this.iE,(d,E)=>E==="added"&&this.cE(d))),this.D.observe(),csSetTimeout(this.rE)}onStop(){var t,e,i;this.B&&(this.Dd(document),this.B.disconnect()),(t=this.To)===null||t===void 0||t.disconnect(),(e=this.D)===null||e===void 0||e.disconnect(),(i=this.Ds)===null||i===void 0||i.disconnect()}nE(){return window.ResizeObserver?new ResizeObserver(t=>{csArray.prototype.forEach.call(t,e=>{this.resizeObserverCallback(e)})}):null}oE(){return new Ke(t=>{csArray.prototype.forEach.call(t,e=>{this.lE(e)?this.kd(e):(this.hE(e),this.uE(e))})})}aE(t){return new Ke(e=>{csArray.prototype.forEach.call(e,i=>this.dE(i,t))})}resizeObserverCallback(t){let e=t.target.getBoundingClientRect(),i=Y.getMaskedElementDetails(t.target);if(i.state!==Y.MaskedElementState.Parent||e.width===i.width&&e.height===i.height)return;let n={state:Y.MaskedElementState.Parent,width:e.width,height:e.height};Y.setMaskedElementProperty(t.target,n),this.produceEvent({type:"ResizeMaskedElement",target:Rt(t.target),width:e.width,height:e.height})}uE(t){!this.Ds||!Mt(t)||so(t)||this.Ds.observe(t)}lE(t){let e=csNodeparentNode.apply(t);return e?Y.isMaskedElement(e)||Y.isMaskedElementChild(e):Ji(t)?Y.isMaskedElement(t.host)||Y.isMaskedElementChild(t.host):!1}cE(t){(Y.isMaskedElement(t.host)||Y.isMaskedElementChild(t.host))&&Y.setMaskedElementProperty(t,this.Ao)}Dd(t){_e(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{Y.unsetMaskedElementProperty(i)})}hE(t){let e=t.getBoundingClientRect(),i={state:Y.MaskedElementState.Parent,width:e.width,height:e.height};Y.setMaskedElementProperty(t,i),this.pE(t),_e(t).visitAll(n=>n!=t&&Y.setMaskedElementProperty(n,this.Ao))}kd(t){Y.setMaskedElementProperty(t,this.Ao),_e(t).visitAll(e=>e!=t&&Y.setMaskedElementProperty(e,this.Ao))}pE(t){var e;let i=(e=lt.getProperty(t,Y.maskedAttributeProp))!==null&&e!==void 0?e:{attributes:[]};for(let n=0;n<this.Md.length;n+=1){let o=this.Md[n];csArray.prototype.indexOf.call(i.attributes,o)===-1&&csArray.prototype.push.call(i.attributes,o)}i.attributes.length!==0&&Y.setMaskedAttributeProperty(t,i)}dE(t,e){var i;let n=(i=lt.getProperty(t,Y.maskedAttributeProp))!==null&&i!==void 0?i:{attributes:[]};for(let o=0;o<t.attributes.length;o+=1){let c=t.attributes[o].name;csArray.prototype.indexOf.call(n.attributes,c)===-1&&csArray.prototype.some.call(e,u=>csString.prototype.indexOf.call(u.attrName,c)>-1&&be.call(t,u.selector))&&csArray.prototype.push.call(n.attributes,c)}n.attributes.length!==0&&Y.setMaskedAttributeProperty(t,n)}}return Ms([G()],s.prototype,"resizeObserverCallback",null),s})(),is=(()=>{let s;return function(r){r.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",r.WHITELISTED_STATUS="whitelisted";function t(n){return lt.getProperty(n,r.ANONYMIZED_TEXT_STATUS_PROP)===r.WHITELISTED_STATUS}r.isWhitelistedElement=t;function e(n){lt.setProperty(n,r.ANONYMIZED_TEXT_STATUS_PROP,r.WHITELISTED_STATUS)}r.whitelistElement=e;function i(n){lt.setProperty(n,r.ANONYMIZED_TEXT_STATUS_PROP,void 0)}r.removeWhitelistElement=i}(s||(s={})),s})(),Uc=(()=>{class s{constructor(){this.Nc=0,this.V=!1,this.xd="data-cs-capture",this.xs=t=>{for(let e of t){if(is.isWhitelistedElement(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let n=e.addedNodes[i];is.isWhitelistedElement(n)||Mt(n)&&this.Ld(n)}for(let i=0;i<e.removedNodes.length;i+=1){let n=e.removedNodes[i];Ct.isConnected(n)||this.Vd(n)}}}}start(){this.Nc++,!this.V&&(this.V=!0,this.fE())}fE(){this.B||(this.B=new Ke(e=>ht(e,i=>this.Ld(i))));let t=this.Mc?`[${this.xd}], ${this.Mc}`:`[${this.xd}]`;this.B.observe(t),this.D||(this.D=new Je(this.xs,(e,i)=>i==="added"&&this.gE(e))),this.D.observe()}stop(){this.V&&(this.Nc--,this.Nc===0&&(this.V=!1,this.mE()))}mE(){this.B&&(this.Vd(document),this.B.disconnect()),this.D&&this.D.disconnect()}setWhitelistedElementsSelector(t,e=!0){if(ee(t))this.Mc=t;else if(e)throw new Error("Command misuse: setCapturedElementsSelector")}getWhitelistedElementsSelector(){return this.Mc}Ld(t){_e(t).visitAll(e=>{is.whitelistElement(e)})}gE(t){is.isWhitelistedElement(t.host)&&is.whitelistElement(t)}Vd(t){_e(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{is.removeWhitelistElement(i)})}}return s})(),Cs=(()=>{let s;return function(r){r.EDITABLE_NODE_PROP="editableNode";function t(n){return lt.getProperty(n,r.EDITABLE_NODE_PROP)===!0}r.isEditableNode=t;function e(n){lt.setProperty(n,r.EDITABLE_NODE_PROP,!0)}r.markEditableNode=e;function i(n){lt.setProperty(n,r.EDITABLE_NODE_PROP,void 0)}r.unmarkEditableNode=i}(s||(s={})),s})(),vu=(()=>{class s{constructor(){this.B=null,this.D=null,this.V=!1,this.xs=t=>{for(let e of t)if(Cs.isEditableNode(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let n=e.addedNodes[i];if(!Cs.isEditableNode(n)){if($n(n)||yf(n)){Cs.markEditableNode(n);continue}Mt(n)&&this.Ud(n)}}}}start(){this.V||(this.V=!0,this.B=new Ke(t=>ht(t,e=>{this.Ud(e)})),this.B.observe("[contenteditable]"),this.D=new Je(this.xs,(t,e)=>e==="added"&&this.yE(t)),this.D.observe())}stop(){var t,e;this.V&&(this.V=!1,(t=this.B)===null||t===void 0||t.disconnect(),this.B=null,(e=this.D)===null||e===void 0||e.disconnect(),this.D=null)}Ud(t){_e(t).visitAll(e=>{Cs.markEditableNode(e)})}yE(t){Cs.isEditableNode(t.host)&&Cs.markEditableNode(t)}}return s})(),_u=(()=>{let s;return function(r){r.ENCRYPTED_NODE_PROP="toEncrypt";function t(n){return lt.getProperty(n,r.ENCRYPTED_NODE_PROP)===!0}r.shouldEncrypt=t;function e(n){lt.setProperty(n,r.ENCRYPTED_NODE_PROP,!0)}r.markEncryptedNode=e;function i(n){lt.setProperty(n,r.ENCRYPTED_NODE_PROP,void 0)}r.unmarkEncryptedNode=i}(s||(s={})),s})(),xm="spki",xl="RSA-OAEP",Lm="SHA-256",Ll="AES-CTR",Vm="SHA-1",Vl=190,wi=(()=>{let s;return function(r){var t;let e=!1,i=null,n,o=typeof TextEncoder!="undefined"?new TextEncoder:null,c;r.crypto=(t=_t.crypto)===null||t===void 0?void 0:t.subtle,r.MAX_DIGEST_INPUT_SIZE=100;function u(){return!e}r.isKeyImported=u;function d(){return i}r.getCryptoKey=d;function E(){var F,M;return((M=(F=_t.self.crypto)===null||F===void 0?void 0:F.subtle)===null||M===void 0?void 0:M.encrypt)!=null&&_t.self.CryptoKey!=null}r.isSupported=E;async function f(F){n=r.crypto.importKey(xm,Hh(F),{name:xl,hash:Lm},!1,["encrypt"]).catch(()=>(e=!0,null)),i=await n,n=void 0,i||Nt.warn(`Fail to import public key '${F}'`)}r.importKey=f;async function _(F){if(!E()||e)return null;await n;let M=Ec(F);M.byteLength>Vl&&(M=M.slice(0,Vl));try{let tt=await r.crypto.encrypt({name:xl},i,M);return dl(tt)}catch{return null}}r.asymmetricEncrypt=_;async function w(F,M){if(!E()||e)return null;let tt={counter:M.initializationVector,name:Ll,length:64},ct=o.encode(F);try{let gt=await r.crypto.encrypt(tt,M.cryptoKey,ct);return dl(gt)}catch{return null}}r.symmetricEncrypt=w;async function A(F){let M=await V(F);if(!M)throw new Error("Export secret failed");let tt=await _(M);if(!tt)throw new Error("Encrypt secret failed");return tt}r.encryptSecret=A;async function V(F){var M;if(!E())return null;try{return(M=(await r.crypto.exportKey("jwk",F)).k)!==null&&M!==void 0?M:null}catch{return null}}async function U(){if(!E()||e)return null;try{return{cryptoKey:await r.crypto.generateKey({name:Ll,length:128},!0,["encrypt","decrypt"]),initializationVector:_t.crypto.getRandomValues(new Uint8Array(16))}}catch{return null}}r.generateSymmetricKey=U;function P(F){c=F}r.setDigestSalt=P;async function C(F){F=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(F)),c&&(F=`${F}:${c}`);let M=o.encode(F);try{let tt=await r.crypto.digest(Vm,M);return xa(tt)}catch{return null}}r.digest=C;function j(){return _t.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}r.generateKeyPair=j}(s||(s={})),s})(),Ts=(()=>{let s;return function(r){r.REGEX="regex",r.START="start",r.NOT_START="not-start",r.END="end",r.NOT_END="not-end",r.CONTAIN="contain",r.NOT_CONTAIN="not-contain",r.EXACT="exact",r.NOT_EXACT="not-exact"}(s||(s={})),s})(),zs=(()=>{let s;return function(r){r.START="start",r.NOT_START="not-start",r.END="end",r.NOT_END="not-end",r.CONTAIN="contain",r.NOT_CONTAIN="not-contain",r.EXACT="exact",r.NOT_EXACT="not-exact"}(s||(s={})),s})(),yi=(()=>{let s;return function(r){r.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",r.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",r.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",r.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(s||(s={})),s})(),Wr=(()=>{class s{constructor(){this.Dc=[]}setRegexRules(t){this.Dc=csArray.prototype.filter.call(csArray.prototype.map.call(t,e=>this.SE(e)),e=>e!==null)}evaluateUrl(t){return csArray.prototype.some.call(this.Dc,e=>this.Hd(t,e))}getMatchingRules(t){return csArray.prototype.filter.call(this.Dc,e=>this.Hd(t,e))}Hd(t,e){var i,n;let o=this.vE(t,e);return!this._E(e)||!this.wE(e)?!1:!!(e!=null&&e.notOperator?!(!((i=e.regex)===null||i===void 0)&&i.test(o)):!((n=e.regex)===null||n===void 0)&&n.test(o))}_E(t){let e=new csDate,i=t.startDate&&t.startDate>e,n=t.endDate&&t.endDate<e;return!i&&!n}wE(t){let e=t.samplingRate!==100,i=e&&os.boolean(t.samplingRate);return!e||i}Ro(t){return!se(t,"http://")&&!se(t,"https://")?`https://${t}`:t}vE(t,e){let i=Dc(this.Ro(t));return i?e.ignoreQueryParams&&e.ignoreURIFragments?`${i.origin}${i.pathname}`:e.ignoreQueryParams?`${i.origin}${i.pathname}${i.hash}`:e.ignoreURIFragments?`${i.origin}${i.pathname}${i.search}`:t:t}Co(t){return t!=null&&t.ignoreCaseSensitivity?"i":""}SE(t){let e=null,i=!1;switch(t.operator){case zs.NOT_START:case Ts.NOT_START:i=!0;case zs.START:case Ts.START:e=new csRegExp(`^${t.value}`,this.Co(t));break;case zs.NOT_END:case Ts.NOT_END:i=!0;case zs.END:case Ts.END:e=new csRegExp(`${t.value}$`,this.Co(t));break;case zs.NOT_CONTAIN:case Ts.NOT_CONTAIN:i=!0;case zs.CONTAIN:case Ts.CONTAIN:case Ts.REGEX:e=new csRegExp(`${t.value}`,this.Co(t));break;case zs.NOT_EXACT:case Ts.NOT_EXACT:i=!0;case zs.EXACT:case Ts.EXACT:e=new csRegExp(`^${t.value}$`,this.Co(t));break;default:Nt.warn(`compileRegexRule, unknown operator: ${t.operator}`)}if(e===null)return null;let n=t.startDate?this.Bd(t.startDate):void 0,o=t.endDate?this.Bd(t.endDate):void 0;return{regex:e,ignoreQueryParams:t.ignoreQueryParams,ignoreURIFragments:t.ignoreURIFragments,notOperator:i,maskMedia:t.maskMedia,samplingRate:t.samplingRate!==void 0?t.samplingRate:100,startDate:n,endDate:o}}Bd(t){let e=new csDate(t);return isNaN(e.getTime())?void 0:e}}return s})(),ao=(()=>{class s{constructor(t,e,i,n){this.oe=t,this.Fr=e,this.$r=i,this._t=n}init(){this.bE()}shouldMaskNonTextElements(){if(this.oe.anonymisationMethod!==yi.replayRecordingMaskedUrlRegexRules)return!1;if(this.oe.isSMB)return this.shouldUseAnonymization();let t=this.$r.getMatchingRules(this.Fr.getAnonymizedUrl());return csArray.prototype.some.call(t,e=>e.maskMedia)}shouldUseAnonymization(){if(this._t&&!this._t.isReplayUnanonymizedAllowedByConsent()){switch(this.oe.anonymisationMethod){case null:case yi.replayRecordingUnmaskedUrlRegex:return!(this.oe.replayRecordingUnmaskedUrlRegex&&this.oe.replayRecordingUnmaskedUrlRegex.test(this.Fr.getAnonymizedUrl()));case yi.replayRecordingUnmaskedUrlRegexRules:return!this.$r.evaluateUrl(this.Fr.getAnonymizedUrl())}return!0}else{switch(this.oe.anonymisationMethod){case null:case yi.replayRecordingMaskedUrlRegex:return!!(this.oe.replayRecordingMaskedUrlRegex&&this.oe.replayRecordingMaskedUrlRegex.test(this.Fr.getAnonymizedUrl()));case yi.replayRecordingMaskedUrlRegexRules:return this.$r.evaluateUrl(this.Fr.getAnonymizedUrl())}return!1}}bE(){this.oe.anonymisationMethod===yi.replayRecordingMaskedUrlRegexRules&&this.oe.replayRecordingMaskedUrlRegexRules?this.$r.setRegexRules(this.oe.replayRecordingMaskedUrlRegexRules):this.oe.anonymisationMethod===yi.replayRecordingUnmaskedUrlRegexRules&&this.oe.replayRecordingUnmaskedUrlRegexRules&&this.$r.setRegexRules(this.oe.replayRecordingUnmaskedUrlRegexRules)}}return s})();function Um(s){return s.nodeType===1}function te(s){let r=csEventtarget.apply(s);return r&&Um(r)&&csElementshadowRoot.apply(r)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:r}function jm(s){return s.composedPath&&Object.defineProperty(s,"__csOriginalTarget",{value:s.composedPath()[0],writable:!1,enumerable:!1}),s}function Hm(){return(s,r,t)=>{let e=t.value;return e&&(t.value=function(i){if(te(i)===csEventtarget.apply(i))return e.call(this,i)}),t}}var Wt=(()=>{let s;return function(r){r[r.TAP=0]="TAP",r[r.LONG_PRESS=1]="LONG_PRESS",r[r.DRAG=2]="DRAG",r[r.FLICK=3]="FLICK",r[r.PINCH_IN=4]="PINCH_IN",r[r.PINCH_OUT=5]="PINCH_OUT"}(s||(s={})),s})(),Rn=(()=>{let s;return function(r){r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r[r.LEFT=3]="LEFT",r[r.RIGHT=4]="RIGHT"}(s||(s={})),s})(),Bm=(()=>{class s{compute(t,e){let i=this.Ls(e.x)-this.Ls(t.x),n=this.Ls(e.y)-this.Ls(t.y),o=e.time-t.time;return{duration:o,distance:this.Fd(i,n),direction:this.TE(i,n),velocity:this.AE(i,n,o)}}computePinchMetrics(t,e){let i=this.Ls(e.x)-this.Ls(t.x),n=this.Ls(e.y)-this.Ls(t.y);return{duration:e.time-t.time,distance:this.Fd(i,n)}}getScale(t,e){return Math.abs(e/t-1)}Ls(t){return t/window.devicePixelRatio}Fd(t,e){return Math.round(Math.sqrt(t*t+e*e))}AE(t,e,i){let n=i/1e3,o=t/n,c=e/n;return Math.round(Math.abs(o)+Math.abs(c))}TE(t,e){return Math.abs(t)>Math.abs(e)?t>0?Rn.RIGHT:Rn.LEFT:e>0?Rn.DOWN:Rn.UP}}return s})(),wu=typeof performance!="undefined"&&!!performance.now,Ul=wu?()=>performance.now():()=>csDate.now(),Fm=(()=>{var s;return wu?(s=performance.timing)===null||s===void 0?void 0:s.navigationStart:0})(),Cn={now(){return Math.round(Ul()+Fm)},elapsed(){return Ul()}};function jl(s,r=0){let t=Math.pow(10,r);return Math.round(s*t)/t}var $m=1e3,zm=100,Gm=.1,qa=(()=>{class s{constructor(){this.Ht={},this.xc=()=>{},this.Io=new Bm,this._e()}static isGestureDetectionSupported(){return typeof devicePixelRatio!="undefined"}onGesture(t){this.xc=t}isValidTouchEvent(t){return"touches"in t&&"changedTouches"in t}processActionDown(t){if(!this.RE(t))return;this.CE(t)&&this._e();let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:Cn.now()};if(t.touches.length===1)this.Ht.startPinchTime=e.time,this.Ht.firstTouch=e;else if(t.touches.length===2&&(this.Ht.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:Cn.now()},this.Ht.firstTouch&&this.Ht.secondTouch)){let i=this.Io.computePinchMetrics(this.Ht.firstTouch,this.Ht.secondTouch);this.Wi=i.distance}csArray.prototype.push.call(this.zr,e),this.Po=te(t)}processActionMove(){this.Lc=!0}processActionUp(t){if(this.IE(t)){if(csArray.prototype.push.call(this.zr,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Cn.now()}),this.PE(t)&&this.Ht.startPinchTime){let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Ht.startPinchTime},i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Cn.now()};this.Ht.firstTouch&&(this.Ht.firstTouch=e,this.Ht.secondTouch=i),this.OE(t)}this.Wi||this.NE()&&this.ME(t)}}_e(){this.zr=[],this.Po=null,this.Lc=!1,this.Wi=null,this.Gr=!0}ME(t){let e=this.Io.compute(this.zr[0],this.zr[1]);this.Gr=t.isTrusted;let i=this.Lc?this.kE(e):this.DE(e);if(this.xE(i.type,t.changedTouches)){let n=t.changedTouches[0];i.pageX=jl(n.pageX,1),i.pageY=jl(n.pageY,1)}this.xc(i,t)}OE(t){if(!(this.Ht.firstTouch&&this.Ht.secondTouch))return;let e=this.Io.computePinchMetrics(this.Ht.firstTouch,this.Ht.secondTouch);this.Gr=t.isTrusted;let i=this.LE(e);i&&this.xc(i,t)}LE(t){return!this.Wi||this.Io.getScale(this.Wi,t.distance)<Gm?void 0:{type:this.Wi>t.distance?Wt.PINCH_IN:Wt.PINCH_OUT,target:this.Po,distance:t.distance,isTrusted:this.Gr}}kE(t){return{type:t.velocity<zm?Wt.DRAG:Wt.FLICK,target:this.Po,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.Gr}}DE(t){return{type:t.duration<$m?Wt.TAP:Wt.LONG_PRESS,target:this.Po,isTrusted:this.Gr}}xE(t,e){return t===Wt.TAP&&e&&e.length===1}CE(t){return t.touches.length===1}NE(){return this.zr.length===2}RE(t){return t.touches.length>0}IE(t){return t.changedTouches.length>0}PE(t){return this.Lc&&!!this.Wi&&t.changedTouches.length===1&&t.touches.length===1}}return s})(),qm=(()=>{class s{constructor(){this.subscriptions={}}subscribe(t,e){this.subscriptions[t]=e,Object.keys(this.subscriptions).length===1&&this.onStartTracking()}unsubscribe(t){delete this.subscriptions[t],Object.keys(this.subscriptions).length===0&&this.onStopTracking()}}return s})(),bu=!0,Vn=csSymbol("safe"),Hl=csSymbol("task");function Dt(s,r=bu){var t;(t=s[Vn])!==null&&t!==void 0||(s[Vn]=function(e){let i=arguments;Ri(()=>(e[Hl]=Le,s.listener.apply(s.boundElement,i)),as.EventListener,e[Hl])}),s.boundElement.addEventListener(s.type,s[Vn],r)}function xt(s,r=bu){s.boundElement.removeEventListener(s.type,s[Vn],r)}var Tu=(()=>{class s extends qm{constructor(t){super(),this.VE=t,this.Vs=[{boundElement:document,type:"touchstart",listener:e=>this.J(e)},{boundElement:document,type:"touchmove",listener:e=>this.J(e)},{boundElement:document,type:"touchend",listener:e=>this.J(e)}],this.qr=new qa,this.qr.onGesture((e,i)=>this.Vc(e,i))}Vc(t,e){for(let i in this.subscriptions){let n=this.subscriptions[i];n(t,e)}}onStartTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.Vs,t=>Dt(t))}onStopTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.Vs,t=>xt(t))}canDetectGesture(){return typeof devicePixelRatio!="undefined"}J(t){this.VE.tryToExecute("process gesture event",()=>{if(this.qr.isValidTouchEvent(t))switch(t.type){case"touchstart":this.qr.processActionDown(t);break;case"touchmove":this.qr.processActionMove();break;case"touchend":this.qr.processActionUp(t);break}})()}static isSwipe(t){return t.type===Wt.FLICK||t.type===Wt.DRAG}}return s})(),Wa=class{constructor(r){this.we=r}send(r){hj.log.debug(`Sending tags: ${csJSON.stringify(r)}`),this.we.pushInternalEvents(r)}tag(r,t,e,i,n){let o=this;return function(c){if(c){let u=csArray.prototype.reduce.call(e,function(d,E){let f=r,_="",w=Object.keys(E);return csArray.prototype.forEach.call(w,function(A){let V=E[A],U=c[V];U==null&&(U=""),i&&(U=i(V,U)),V===t&&(_=U),V===t&&!n?f+=`.${A}`:U!==""&&(f+=`.${A}:${U}`)}),csArray.prototype.push.call(d,{key:f,val:_}),d},[]);o.send(u)}}}setup({vocEnabled:r,integrationsEnabled:t}){let e=function(d,E){return typeof E=="string"?csString.prototype.replace.call(E,/\.|:/g,"_"):E},i=function(d,E){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.toString.call(E),".e:",".E:"),".v:",".V:"),".c:",".C:")},n=function(d,E){if(d==="answer"){let _=parseInt(E);return isNaN(_)?(q.warn(`Poll question answer should be a number type, received ${E} instead`),E):_}return d!=="type"?E:{"rating-scale-5":"rating5","rating-scale-7":"rating7","net-promoter-score":"nps","single-close-ended":"singleClose","multiple-close-ended":"multiClose","single-open-ended-multiple-line":"singleOpenMulti","single-open-ended-single-line":"singleOpenSingle"}[E]||E},o={"poll.show":this.tag("poll.show","id",[{id:"id"}]),"poll.send":this.tag("poll.send","response_id",[{id:"id",r_id:"response_id"}]),"poll.question":this.tag("poll.q","answer",[{t:"type",a:"answer",id:"id",qid:"questionUuid"}],n),"feedback.show":this.tag("feedback.show","id",[{id:"id"}]),"feedback.send":this.tag("feedback.send","id",[{id:"id"}]),"feedback.sentiment":this.tag("feedback.sentiment","emotion",[{e:"emotion",id:"id",r_id:"response_id"}]),"survey.show":this.tag("survey.show","id",[{id:"id"}]),"survey.open":this.tag("survey.open","id",[{id:"id"}])},c={"exp.opt":this.tag("exp.opt","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.ub":this.tag("exp.ub","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.abt":this.tag("exp.abt","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.go":this.tag("exp.go","variantId",[{e:"experimentId",v:"variantId",c:"containerId"}],i),"int.ga":this.tag("int.ga","action",[{a:"action"}],e,!0),"int.mp":this.tag("int.mp","event",[{event:"event"}],e,!0),"int.hubspot":this.tag("int.hubspot","utk",[{utk:"utk"}])};return Object.assign({},r?o:{},t?c:{})}listen(r){let t=this.setup(r);csArray.prototype.forEach.call(Object.keys(t),function(e){hj.event.listen(e,t[e])})}},Au=Wa,Pi=function(){"use strict";var s={d:function(h,l){for(var p in l)s.o(l,p)&&!s.o(h,p)&&Object.defineProperty(h,p,{enumerable:!0,get:l[p]})}};s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=function(h,l){return Object.prototype.hasOwnProperty.call(h,l)};var r={};s.d(r,{u6:function(){return Ro},b2:function(){return Ao},Vv:function(){return Ko},pF:function(){return Vi},XA:function(){return pn},fd:function(){return ys},ec:function(){return fi}});var t=function(h){return h.replace(/%u[\dA-F]{4}|%[\dA-F]{2}/gi,function(l){return l.startsWith("%u")?String.fromCharCode(parseInt(l.slice(2),16)):String.fromCharCode(parseInt(l.slice(1),16))})};function e(h){return t(encodeURIComponent(h))}function i(h){return btoa(e(h))}function n(h){return function(l){return decodeURIComponent(function(p){return p.replace(/[^a-zA-Z0-9@*_+-./]/g,function(m){var y=m.charCodeAt(0);return y<256?"%"+y.toString(16).padStart(2,"0").toUpperCase():"%u"+y.toString(16).padStart(4,"0").toUpperCase()})}(l))}(atob(h))}var o={isOn:function(){var h;return _hjSettings.hjdebug===void 0&&(_hjSettings.hjdebug=((h=hj.bridge.storage.items.DEBUG_FLAG)===null||h===void 0?void 0:h.get())==="true"),_hjSettings.hjdebug},on:function(h){_hjSettings.hjdebug=!0,h&&hj.bridge.storage.items.DEBUG_FLAG.set(!0)},off:function(){_hjSettings.hjdebug=!1,hj.bridge.storage.items.DEBUG_FLAG.clear()},emit:function(h,l){typeof _hjEmitters!="undefined"&&_hjEmitters.includes&&_hjEmitters.includes(h)&&window.postMessage({data:l,message:hj.bridge.storage.items.DEBUG_FLAG.getKey(),type:h},"*")}};function c(h){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},c(h)}var u=!1,d="",E={autotag:"#ff0099",command:"#0079a4",cookies:"#5a2c22",data:"#009bd2",event:"#ff7000",events:"#ffc000",exception:"#e63946",heatmap:"#700000",init:"#6600cc",integration:"#2a9072",poll:"#00a000",property:"#ff33cc",recording:"#dd0000",rendering:"#bd00ea",sampling:"#efb0a1",survey:"#007000",targeting:"#00ee00",visitdata:"#00668a",websocket:"#0dc0ff"},f={init:function(){window.console===void 0&&(window.console={debug:function(){},trace:function(){},log:function(){},info:function(){},warn:function(){},error:function(){}})},debug:function(h,l,p){var m=l&&E[l.toLowerCase()]||"#2a9d8f";d!=h&&u&&(console.groupEnd(),u=!1),d=h,hj.debug!==void 0&&hj.debug.isOn()&&(c(h)==="object"?hj.hq.each(h,function(y,T){hj.log.debug(y+": "+T,l,null)}):(h=l&&typeof h=="string"?l.toUpperCase()+": "+h:h,h="%c"+new Date().toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")+":%c "+h,p?(u||(console.groupCollapsed(h+":","color: #999;","color: "+m+";"),u=!0),console.log(p)):console.log(h,"color: #999;","color: "+m+";")))},info:function(h){console.log("%c"+h,"color: #006EFF")},warn:function(h){console.log("%c"+h,"color: #E8910C")},error:function(h){console.error("Hotjar error: "+h)},warnIfEmpty:function(h,l){if(Array.isArray(h)?h.length===0:hj.hq.isNullOrUndefined(h)){var p=h===null?"null":h===void 0?"undefined":"no value";hj.log.debug("WARNING: [".concat(l,"] a value was expected but ").concat(p," was found!"))}}},_={},w={},A={};function V(h,l,p){var m;h[l]||(h[l]=[]),(m=h[l])===null||m===void 0||m.push(p)}_={listen:hj.tryCatch(function(h,l){V(w,h,l),function(p){var m;A[p]&&((m=A[p])===null||m===void 0||m.forEach(function(y){_.signal(p,y)}),delete A[p])}(h)},"hj.event.listen"),removeListener:hj.tryCatch(function(h,l){var p=w[h];if(p){var m=p.indexOf(l);m!==-1&&p.splice(m,1)}},"hj.event.removeListener"),signal:hj.tryCatch(function(h,l,p){var m;w[h]?(m=w[h])===null||m===void 0||m.forEach(function(y){y(l)}):p?V(A,h,l):A[h]=[l]},"hj.event.signal"),clearAllListeners:hj.tryCatch(function(){w={},A={}},"hj.event.clearAllListeners")};var U,P,C=((P=function(){return U()}).test=U=function(){var h;if(!navigator)return"No User-Agent Provided";if((h=navigator.userAgentData)!==null&&h!==void 0&&h.mobile)return"mobile";var l=function(p){return navigator.userAgent.match(p)};return l(/GoogleTV|SmartTV|Internet.TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE\-HTML/i)||l(/Xbox|PLAYSTATION.3|Wii/i)?"tv":l(/iPad/i)||l(/tablet/i)&&!l(/RX-34/i)||l(/FOLIO/i)||l(/Linux/i)&&l(/Android/i)&&!l(/Fennec|mobi|HTC.Magic|HTCX06HT|Nexus.One|SC-02B|fone.945|Chromebook/i)||l(/Kindle/i)||l(/Mac.OS/i)&&l(/Silk/i)||l(/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC(.Flyer|\_Flyer)|Sprint.ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos.S7|Dell.Streak.7|Advent.Vega|A101IT|A70BHT|MID7015|Next2|nook/i)||l(/MB511/i)&&l(/RUTEM/i)?"tablet":l(/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google.Wireless.Transcoder/i)||l(/Opera/i)&&l(/Windows.NT.5/i)&&l(/HTC|Xda|Mini|Vario|SAMSUNG\-GT\-i8000|SAMSUNG\-SGH\-i9/i)?"mobile":l(/Windows.(NT|XP|ME|9)/)&&!l(/Phone/i)||l(/Win(9|.9|NT)/i)||l(/Macintosh|PowerPC/i)&&!l(/Silk/i)||l(/Linux/i)&&l(/X11/i)||l(/Solaris|SunOS|BSD/i)||l(/Bot|Crawler|Spider|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|TinEye/i)&&!l(/Mobile/i)||l(/\b(CrOS|Chromebook)\b/i)?"desktop":"mobile"},P);function j(h){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},j(h)}var F=hj.tryCatch(function(h){var l,p,m;for(l=h.length-1;l>0;l-=1)p=Math.floor(Math.random()*(l+1)),m=h[l],h[l]=h[p],h[p]=m;return h},"utils.shuffle"),M=(hj.tryCatch(function(h){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(h)},"utils.validateEmail"),hj.tryCatch(function(){return hj.userDeviceType||(hj.userDeviceType=C(),hj.userDeviceType==="mobile"&&(hj.userDeviceType="phone")),hj.userDeviceType},"utils.deviceType")),tt=hj.tryCatch(function(){var h=function(){try{return window.self!==window.top}catch{return!0}}(),l={width:!h&&window.screen?window.screen.width:document.body.clientWidth,height:!h&&window.screen?window.screen.height:document.body.clientHeight};return{width:window.innerWidth||document.documentElement.clientWidth||l.width,height:window.innerHeight||document.documentElement.clientHeight||l.height}},"utils.getWindowSize"),ct=function(h,l,p,m,y){var T=1;if(y!==void 0&&hj.log.debug("Retry iteration ".concat(T," of ").concat(y)),h())return l(!0);var x=setInterval(function(){return T++,h()?(clearInterval(x),l(!0)):T>=m?(clearInterval(x),l(!1)):void 0},p)},gt=function(h,l){return function(p,m){hj.log.debug("[".concat(h,"] ").concat(p),l,m)}},Xt=function(h){return h&&typeof h=="string"?h.replace(/[\W_]+/g,"-"):""};function $t(h){try{return decodeURIComponent(h)}catch{return h}}function O(h){for(var l,p=[],m=new RegExp("[^?&]?"+h.replace(/\[/,"\\[").replace(/]/,"\\]")+"=([^&]+)","g");l=m.exec(location.search);)p.push($t(l[1]));switch(p.length){case 0:return"";case 1:return p[0];default:return p}}var z={},X={};function it(h,l){var p;if(!z.matchOperations[h.match_operation])return hj.exceptions.log(new Error('Targeting error - "'.concat(h.match_operation,'" match operation does not exist.')),"hj.targeting.matchPatternWithRule"),!1;h.rule_type=h.rule_type||h.component;var m=function(y,T){return!T||y.rule_type!=="date"||y.match_operation!=="less_than"&&y.match_operation!=="greater_than"?T:(new Date(T).valueOf()/1e3).toFixed(0)}(h,l);return(p=z.matchOperations[h.match_operation](h,m)).error?(hj.exceptions.log(new Error("Targeting error - ".concat(h.match_operation," - ").concat(p.error)),"hj.targeting.matchPatternWithRule"),!1):(h.component!=="url"&&h.negate&&(p=!p),function(y,T,x){var D=x?"Match ":"No Match ";!x||y.component!=="url"&&y.component!=="device"||(D+=y.component+"|"+y.match_operation+"|"+y.pattern+(y.negate?" [NEGATE]":""),hj.log.debug(D,"targeting")),y.component!=="attribute"&&y.component!=="event"||(D+=y.component+"|"+y.name+" ("+y.rule_type+")|"+y.match_operation+"|"+y.pattern+"|compared with: "+T+(y.negate?" [NEGATE]":""),hj.log.debug(D,"targeting"))}(h,l,p),p)}function It(h){var l,p=M();return(l=h.length===0||h.length===3||h.some(function(m){return it(m,p)}))?hj.log.debug("Device match found","targeting"):hj.log.debug("No device match found","targeting"),l}var Kt=function(h){var l,p,m;return h==null||(l=h.toLowerCase())===null||l===void 0||(p=l.split("#")[0])===null||p===void 0||(m=p.split("?")[0])===null||m===void 0?void 0:m.replace("http://www.","").replace("https://www.","").replace("http://","").replace("https://","").replace(/\/$/,"")},ne=function(h,l,p){return function(){return h.apply(null,arguments)?l.apply(null,arguments):p.apply(null,arguments)}},Qe=function(h,l){return h!==void 0&&l!==void 0&&h!==null&&l!==null},Ds=function(h,l){return!isNaN(h.pattern)&&!isNaN(l)&&l!==""&&typeof l!="boolean"},le=function(h,l){if(!l||l.toString()===parseInt(l,10).toString())return!1;var p=new Date(l);return p!=="Invalid Date"&&!isNaN(p)},Vt=function(h){return ne(Qe,h,function(){return!1})},Oe=function(h){return Vt(ne(Ds,h,function(l,p){return{error:p?"Cannot compare non-numeric values (rule: { name: '".concat(l.name,`' },
                        pattern: '`).concat(p,"')."):void 0}}))},hs=function(h){return Vt(ne(le,h,function(l,p){return{error:"Cannot compare dates. Given pattern is not a date (rule: { name: '".concat(l.name,"' }, pattern: '").concat(p,"').")}}))};z.matchUrl=function(h,l){var p,m=!1,y=!1,T=!1;if(h.length===0)return hj.log.debug("No URL targeting rules set","targeting"),!1;for(var x=0;x<h.length;x+=1){var D,R;if(!(m=!!(p=h[x])&&it(p,l))||(D=p)!==null&&D!==void 0&&D.negate||(T=!0),m&&(R=p)!==null&&R!==void 0&&R.negate){y=!0;break}}return(m=T&&!y)?hj.log.debug("URL match found without any negate rules","targeting"):y?hj.log.debug("Negate URL rule match found","targeting"):hj.log.debug("No URL match found","targeting"),m},z.matchRules=hj.tryCatch(function(h,l,p){for(var m,y,T,x,D,R=h.rules,H=h.userAttributeMatchLogic,W={device:{rules:[],isMatch:null,doMatch:It},url:{rules:[],isMatch:null,doMatch:z.matchUrl},attribute:{rules:[]},trigger:{rules:[]}},J=0;J<R.length;J+=1){var rt=R[J];if(rt!==void 0){var a=W[rt.component];a!==void 0?a.rules.push(rt):hj.exceptions.log(new Error("Targeting error - ".concat(W[rt.component]," targeting component is not supported.")),"hj.targeting.matchRules")}}hj.log.debug("-- Matching rules for new item --");var S=function(I,k){var ot;l!=="__proto__"&&l!=="constructor"&&(X[l]===void 0&&(X[l]=[]),(ot=X[l])===null||ot===void 0||ot.push({eventName:I,callback:k}),hj.event.listen(I,k))};if(Object.keys(X).forEach(function(I){var k;I!==l&&((k=X[I])===null||k===void 0||k.forEach(function(ot){hj.event.removeListener(ot.eventName,ot.callback)}),delete X[I])}),(m=W.device)!==null&&m!==void 0&&m.doMatch&&((y=W.device)===null||y===void 0||!y.doMatch(W.device.rules)))return!1;var v=function(){var I;return function(k,ot){function et(de){hj.log.debug(de,"targeting")}if(k===void 0||k.length===0)return et("No specific user attribute targeting rules set."),!0;var Zt=function(de){return it(de,hj.userAttributes.get(de.name))};return ot==="and"&&k.every(Zt)?(et("All user attributes matched. (AND logic)"),!0):ot==="or"&&k.some(Zt)?(et("A user attribute matched. (OR logic)"),!0):(et("User attributes set do not match current visitor."),!1)}((I=W.attribute)===null||I===void 0?void 0:I.rules,H!=null?H:"and")},b=(T=W.trigger)===null||T===void 0?void 0:T.rules;if(b!=null&&b.length){hj.log.debug("Setting up targeting listeners for trigger rules","targeting");var g=function(){v()&&(p==null||p(!0))};b.forEach(function(I){var k="trigger:"+I.pattern;S(k,g)})}var N=W.url&&W.url.doMatch&&((x=W.url)===null||x===void 0?void 0:x.doMatch(W.url.rules,l));return((D=W.attribute)===null||D===void 0?void 0:D.rules.length)===0||v()?!!N&&(p==null||p(),!0):(hj.log.debug("Setting up targeting listeners for attribute rules","targeting"),S("user-attributes-set",function(){N&&v()&&(p==null||p(!0))}),!1)},"hj.targeting.matchRules"),z.matchOperations={exact:function(h,l){return h.rule_type==="string"?Vt(function(p,m){return m.toLowerCase()===p.pattern.toLowerCase()})(h,l):h.rule_type==="boolean"?(h.pattern=String(h.pattern)==="true",l===h.pattern):h.rule_type==="number"?l!=null&&Number(l)===Number(h.pattern):l===h.pattern},starts_with:Vt(function(h,l){return(l=l||"").indexOf(h.pattern)===0}),ends_with:Vt(function(h,l){var p=l.length-h.pattern.length==-1?0:l.length-h.pattern.length;return l.substring(p,l.length)===h.pattern}),contains:Vt(function(h,l){return(l=l||"").indexOf(h.pattern)!==-1}),regex:Vt(function(h,l){try{return new RegExp(h.pattern).test(l)}catch{return hj.log.error(`The regular expression used for page targeting was invalid. Please provide a valid regular
                        expression.

Read more here: https://help.hotjar.com/hc/en-us/articles/115012727628`),!1}}),simple:Vt(function(h,l){return Kt(l)===Kt(h.pattern)}),greater_than:Oe(function(h,l){return Number(l)>Number(h.pattern)}),less_than:Oe(function(h,l){return Number(l)<Number(h.pattern)}),unknown:function(h,l){return(l=typeof l=="string"?l.trim():l)!==0&&l!==!1&&!l},exact_date:hs(function(h,l){var p=new Date(1e3*h.pattern);return new Date(l).toDateString()===p.toDateString()}),exact_days_ago:hs(function(h,l){var p,m=new Date;return p=m.setDate(m.getDate()-Number(h.pattern)),p=new Date(p),new Date(l).toDateString()===p.toDateString()}),more_than_days_ago:hs(function(h,l){var p=Number(h.pattern)+1,m=new Date().getTime()/1e3;return m-=86400*p,new Date(l).getTime()/1e3<=m}),less_than_days_ago:hs(function(h,l){if(Number(h.pattern)===0)return z.matchOperations.exact_days_ago(h,l);var p=new Date().getTime()/1e3;return p-=86400*Number(h.pattern),new Date(l).getTime()/1e3>=p})};var Ne={getFeatures:hj.tryCatch(function(){return hj.settings.features||[]},"hj.features.getFeatures"),hasFeature:hj.tryCatch(function(h){var l;try{var p=window.localStorage.getItem("HJ_OVERRIDE_FEATURE:".concat(h));l=p==="true"||p==="1"}catch{l=!1}return Ne.getFeatures().indexOf(h)>-1||l},"hj.features.hasFeature")};function At(h){return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},At(h)}var wt=function(h){var l,p,m,y=window._hjDocument||document;if(B.selector=h,B.isWindow(h))return this[0]=window,this.length=1,this;if(B.isDocument(h,y))return this[0]=y,this.length=1,this;if(At(h)==="object")return this[0]=h,this.length=1,this;if(typeof h=="string"&&h.charAt(0)==="<"&&h.charAt(h.length-1)===">"&&h.length>=3)return(l=y.createElement("div")).innerHTML=h,this[0]=l.childNodes[0],this.length=1,this;if(typeof h=="string"){isNaN(h.charAt(1))||h.charAt(0)!=="."&&h.charAt(0)!=="#"||(h=h.charAt(0)+"\\3"+h.charAt(1)+" "+h.slice(2));try{p=y.querySelectorAll(h)}catch{return this.length=0,this}for(m=0;m<p.length;m+=1)this[m]=p[m];return this.length=p.length,this}return this};wt.prototype.val=function(h){return h!==void 0&&this.length>0&&(this[0].value=h),this[0]===void 0?void 0:this[0]?this[0].value:""},wt.prototype.each=function(h,l){Array.prototype.forEach.call(this,function(p,m,y){l(m,p,y)})},wt.prototype.hasClass=function(h){return this[0].classList?this[0].classList.contains(h):new RegExp("(^| )"+h+"( |$)","gi").test(this[0].className)},wt.prototype.remove=function(){var h;for(h=0;h<this.length;h+=1)this[h].parentNode.removeChild(this[h])},wt.prototype.trigger=function(h){var l,p,m,y=h.split(" ");for(l=0;l<this.length;l+=1)for(p=0;p<y.length;p+=1)(m=document.createEvent("HTMLEvents")).initEvent(y[p],!0,!1),this[l].dispatchEvent(m)},wt.prototype.on=function(h,l,p,m){var y,T,x,D,R,H,W,J,rt=h.split(" ");if(m=!!m,B.isDocument(this[0])&&typeof l=="string")for(T=0;T<rt.length;T+=1)typeof l=="string"?(typeof p=="boolean"&&p===!1&&(p=function(a){return a.preventDefault(),!1}),x=l+"."+rt[T],D=function(a){if(R=document.querySelectorAll(l)){for(H=a.target,W=-1;H&&(W=Array.prototype.indexOf.call(R,H))===-1;)H=H.parentElement;W>-1&&p.call(H,a)}},Array.isArray(B.eventHandlers[x])||(B.eventHandlers[x]=[]),B.eventHandlers[x].push(D),document.addEventListener(rt[T].split(".")[0],D,!0)):(typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),Array.isArray(B.eventHandlers.document)||(B.eventHandlers.document=[]),B.eventHandlers.document.push(l),this[0].addEventListener(rt[T].split(".")[0],l,m));else if(B.isDocument(this[0]))for(T=0;T<rt.length;T+=1)typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),x="document."+rt[T],Array.isArray(B.eventHandlers[x])||(B.eventHandlers[x]=[]),B.eventHandlers[x].push(l),document.addEventListener(rt[T].split(".")[0],l,m);else if(B.isWindow(this[0]))for(T=0;T<rt.length;T+=1)typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),x="window."+rt[T],Array.isArray(B.eventHandlers[x])||(B.eventHandlers[x]=[]),B.eventHandlers[x].push(l),window.addEventListener(rt[T].split(".")[0],l,m);else for(y=0;y<this.length;y+=1)for(T=0;T<rt.length;T+=1)At(l)==="object"?(J=l,l=function(a){a.data=J,p.call(this[y],a)}):typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),x=B.selector+"."+rt[T],Array.isArray(B.eventHandlers[x])||(B.eventHandlers[x]=[]),B.eventHandlers[x].push(l),this[y].addEventListener(rt[T].split(".")[0],l,m);return this},wt.prototype.off=function(h,l,p,m){var y,T,x,D=h.split(" ");for(m=!!m,y=0;y<this.length;y+=1)for(T=0;T<D.length;T+=1)if(B.isDocument(this[y])&&typeof l=="string")if(p===void 0){if(At(B.eventHandlers[l+"."+D[T]])==="object"){for(x=0;x<B.eventHandlers[l+"."+D[T]].length;x+=1)document.removeEventListener(D[T].split(".")[0],B.eventHandlers[l+"."+D[T]][x],!0);delete B.eventHandlers[l+"."+D[T]]}}else document.removeEventListener(D[T].split(".")[0],p,m);else if(B.isDocument(this[y]))if(l===void 0){if(At(B.eventHandlers["document."+D[T]])==="object"){for(x=0;x<B.eventHandlers["document."+D[T]].length;x+=1)document.removeEventListener(D[T].split(".")[0],B.eventHandlers["document."+D[T]][x],m);delete B.eventHandlers["document."+D[T]]}}else document.removeEventListener(D[T].split(".")[0],l,m);else if(B.isWindow(this[y]))if(l===void 0){if(At(B.eventHandlers["window."+D[T]])==="object"){for(x=0;x<B.eventHandlers["window."+D[T]].length;x+=1)window.removeEventListener(D[T].split(".")[0],B.eventHandlers["window."+D[T]][x],m);delete B.eventHandlers["window."+D[T]]}}else window.removeEventListener(D[T].split(".")[0],l,m);else if(l===void 0){if(At(B.eventHandlers[B.selector+"."+D[T]])==="object"){for(x=0;x<B.eventHandlers[B.selector+"."+D[T]].length;x+=1)this[y].removeEventListener(D[T].split(".")[0],B.eventHandlers[B.selector+"."+D[T]][x],m);delete B.eventHandlers[B.selector+"."+D[T]]}}else this[y].removeEventListener(D[T].split(".")[0],l,m);return this},wt.prototype.scrollTop=function(){return B.isWindow(this[0])||B.isDocument(this[0])?window.document.body.scrollTop||window.document.documentElement.scrollTop:this[0].scrollTop},wt.prototype.scrollLeft=function(){return B.isWindow(this[0])||B.isDocument(this[0])?document.body.scrollLeft||document.documentElement.scrollLeft:this[0].scrollLeft},wt.prototype.height=function(){var h;return B.isWindow(this[0])?document.documentElement.clientHeight:this[0].nodeType===9?(h=this[0].documentElement,Math.max(this[0].body.scrollHeight,h.scrollHeight,this[0].body.offsetHeight,h.offsetHeight,h.clientHeight)):Math.max(this[0].scrollHeight,this[0].offsetHeight)},wt.prototype.width=function(){var h;return B.isWindow(this[0])?document.documentElement.clientWidth:this[0].nodeType===9?(h=this[0].documentElement,Math.max(this[0].body.scrollWidth,h.scrollWidth,this[0].body.offsetWidth,h.offsetWidth,h.clientWidth)):Math.max(this[0].scrollWidth,this[0].offsetWidth)},wt.prototype.attr=function(h,l){var p;if(l||l===""){for(p=0;p<this.length;p+=1)this[p].setAttribute(h,l);return this}return this[0]&&At(this[0])==="object"&&this[0].getAttribute(h)!==null?this[0].getAttribute(h):void 0},wt.prototype.parent=function(){var h;return((h=this[0].parentNode)===null||h===void 0?void 0:h.nodeName)==="#document-fragment"?B(this[0].parentNode.host):B(this[0].parentNode)},wt.prototype.get=function(h){return this[h]},wt.prototype.removeAttr=function(h){var l;for(l=0;l<this.length;l+=1)this[l].removeAttribute(h);return this};var B=function(h){return new wt(h)};B.isFunction=function(h){return typeof h=="function"},B.isWindow=function(h){return h===s.g},B.isDocument=function(h,l){return h===(l||document)},B.noop=function(){},B.stringify=function(h){if(Array.prototype.toJSON===void 0)return JSON.stringify(h);var l=Array.prototype.toJSON;delete Array.prototype.toJSON;try{return JSON.stringify(h)}finally{Array.prototype.toJSON=l}},B.stringify=function(h){if(Array.prototype.toJSON===void 0)return JSON.stringify(h);var l=Array.prototype.toJSON;delete Array.prototype.toJSON;try{return JSON.stringify(h)}finally{Array.prototype.toJSON=l}},B.each=function(h,l){var p,m,y;if(At(h)==="object"&&Object.prototype.toString.call(h)!=="[object Array]"){if((m=h[Object.keys(h)[0]])&&m.nodeName!==void 0){for(p in h)if(Object.prototype.hasOwnProperty.call(h,p)&&p!=="length"&&l(p,h[p],h)===!1)break}else for(p in h)if(Object.prototype.hasOwnProperty.call(h,p)&&l(p,h[p],h)===!1)break}else if(h!==void 0)for(y=0;y<h.length&&l(y,h[y],h)!==!1;y+=1);},wt.prototype.append=function(h){var l;At(h)==="object"?B.selector==="body"?document.body.appendChild(h.get(0)):this[0].appendChild(h.get(0)):B.selector==="body"?((l=document.createElement("div")).innerHTML=h,document.body.appendChild(l)):((l=document.createElement("div")).innerHTML=h,this[0].appendChild(l))},B.ajax=function(h){var l=new XMLHttpRequest;h.type=h.type||"GET",h.timeout_ms=h.timeout_ms||15e3,h.withCredentials&&(l.withCredentials=!0),l.open(h.type,h.url,!0),l.timeout=h.timeout_ms,h.type!=="POST"&&h.type!=="PUT"||!h.contentType||l.setRequestHeader("Content-Type",h.contentType),l.onload=function(){l.status>=200&&l.status<400?B.isFunction(h.success)&&h.success(l.responseText&&JSON.parse(l.responseText),l):B.isFunction(h.error)&&h.error(l)},l.onerror=function(){B.isFunction(h.error)&&h.error(l)},l.ontimeout=function(){B.isFunction(h.timeout)&&h.timeout(l)},B.isFunction(h.requestAnnotator)&&h.requestAnnotator(l),h.type!=="POST"&&h.type!=="PUT"||!h.data?l.send():l.send(h.data)},B.eventHandlers={},B.selector="",B.trim=function(h){return typeof h=="string"?h.replace(/^\s+|\s+$/gm,""):""},B.isUndefined=function(h){return h===void 0},B.isNullOrUndefined=function(h){return h===null||B.isUndefined(h)};var rn={get:function(h,l,p){l=l||B.noop,p=p||B.noop,B.ajax({url:h,success:hj.tryCatch(l,"Data"),error:hj.tryCatch(p,"Data")})},post:function(h,l,p,m){var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{contentType:"json"};p=p||B.noop,m=m||B.noop;var T=y!=null&&y.query?"".concat(h,"?").concat(y.query):h;return B.ajax({url:T,type:"POST",data:(y==null?void 0:y.contentType)==="json"?B.stringify(l):l,contentType:"text/plain; charset=UTF-8",success:hj.tryCatch(p,"Data"),error:hj.tryCatch(m,"Data")})},putAsJSON:function(h,l,p,m){p=p||B.noop,m=m||B.noop,B.ajax({url:h,type:"PUT",data:B.stringify(l),contentType:"text/plain; charset=UTF-8",success:hj.tryCatch(p,"Data"),error:hj.tryCatch(m,"Data")})},postAsJSON:function(h,l,p,m){return p=p||B.noop,m=m||B.noop,B.ajax({url:h,type:"POST",data:B.stringify(l),contentType:"application/json; charset=UTF-8",success:hj.tryCatch(p,"Data"),error:hj.tryCatch(m,"Data")})}},Ni=[],ni=[];function nn(h,l){hj.tryCatch(l,"Rendering")(h)}function on(h,l){hj.widgetDelay.set(function(){hj.tryCatch(l,"Rendering")(h)},1e3*h.display_delay)}function an(h,l,p){var m=hj.hq(document),y=hj.hq(window),T=[];function x(){hj.tryCatch(l,"Rendering")(h),m.off("mousemove."+p),m.off("mouseout."+p)}Ni.push(p),m.off("mousemove."+p),m.off("mouseout."+p),m.on("mousemove."+p,hj.tryCatch(function(D){var R,H,W,J;T.push({x:D.clientX,y:D.clientY}),T.length>2&&(((R=T[1])===null||R===void 0?void 0:R.x)===((H=T[2])===null||H===void 0?void 0:H.x)&&((W=T[1])===null||W===void 0?void 0:W.y)===((J=T[2])===null||J===void 0?void 0:J.y)?T.pop():T.shift())},"Rendering")),m.on("mouseout."+p,hj.tryCatch(function(D){var R=this;D.relatedTarget&&(!R||D.relatedTarget===R||R.compareDocumentPosition(D.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||function(H){var W=T[1],J=T[0];if(H|=0,W!==void 0&&!(J&&W.y>=J.y||H>0)){if(J&&J.x===W.x)x();else if(J){var rt=J.y-W.y/J.x-W.x,a=-(J.y-rt*J.x)/rt;a>0&&a<y.width()&&x()}}}(D.clientY)},"Rendering"))}function yo(h,l,p){var m=hj.hq(document),y=hj.hq(window);ni.push(p),y.off("scroll."+p),y.on("scroll."+p,hj.tryCatch(function(){var T=m.height();(m.scrollTop()+tt().height)/T>=.5&&(y.off("scroll."+p),l(h))},"Rendering"))}var xs={clearAllAbandonEvents:hj.tryCatch(function(){Ni.forEach(function(h){hj.log.debug("Removing abandon events for "+h,"rendering"),hj.hq(document).off("mousemove."+h),hj.hq(document).off("mouseout."+h)}),Ni=[]},"hj.rendering.clearAllAbandonEvents"),clearAllScrollEvents:hj.tryCatch(function(){ni.forEach(function(h){hj.log.debug("Removing scroll events for "+h,"rendering"),hj.hq(window).off("scroll."+h)}),ni=[]},"hj.rendering.clearAllScrollEvents"),callAccordingToCondition:hj.tryCatch(function(h,l,p){var m={immediate:nn,delay:on,abandon:an,scroll:yo}[h.display_type==="inline"?"immediate":h.display_condition];if(hj.log.debug("Calling active item ("+l+"): "+h.display_condition,"rendering"),!m)throw new Error('Unhandled display condition: "'+h.display_condition+'"');hj.tryCatch(m,"Rendering")(h,p,l)},"hj.rendering.callAccordingToCondition")},Te=function(h,l){return h+l&4294967295};function Mi(h,l){var p=zt(p=h[0],T=h[1],y=h[2],m=h[3],l[0],7,-680876936),m=zt(m,p,T,y,l[1],12,-389564586),y=zt(y,m,p,T,l[2],17,606105819),T=zt(T,y,m,p,l[3],22,-1044525330);p=zt(p,T,y,m,l[4],7,-176418897),m=zt(m,p,T,y,l[5],12,1200080426),y=zt(y,m,p,T,l[6],17,-1473231341),T=zt(T,y,m,p,l[7],22,-45705983),p=zt(p,T,y,m,l[8],7,1770035416),m=zt(m,p,T,y,l[9],12,-1958414417),y=zt(y,m,p,T,l[10],17,-42063),T=zt(T,y,m,p,l[11],22,-1990404162),p=zt(p,T,y,m,l[12],7,1804603682),m=zt(m,p,T,y,l[13],12,-40341101),y=zt(y,m,p,T,l[14],17,-1502002290),p=Gt(p,T=zt(T,y,m,p,l[15],22,1236535329),y,m,l[1],5,-165796510),m=Gt(m,p,T,y,l[6],9,-1069501632),y=Gt(y,m,p,T,l[11],14,643717713),T=Gt(T,y,m,p,l[0],20,-373897302),p=Gt(p,T,y,m,l[5],5,-701558691),m=Gt(m,p,T,y,l[10],9,38016083),y=Gt(y,m,p,T,l[15],14,-660478335),T=Gt(T,y,m,p,l[4],20,-405537848),p=Gt(p,T,y,m,l[9],5,568446438),m=Gt(m,p,T,y,l[14],9,-1019803690),y=Gt(y,m,p,T,l[3],14,-187363961),T=Gt(T,y,m,p,l[8],20,1163531501),p=Gt(p,T,y,m,l[13],5,-1444681467),m=Gt(m,p,T,y,l[2],9,-51403784),y=Gt(y,m,p,T,l[7],14,1735328473),p=Jt(p,T=Gt(T,y,m,p,l[12],20,-1926607734),y,m,l[5],4,-378558),m=Jt(m,p,T,y,l[8],11,-2022574463),y=Jt(y,m,p,T,l[11],16,1839030562),T=Jt(T,y,m,p,l[14],23,-35309556),p=Jt(p,T,y,m,l[1],4,-1530992060),m=Jt(m,p,T,y,l[4],11,1272893353),y=Jt(y,m,p,T,l[7],16,-155497632),T=Jt(T,y,m,p,l[10],23,-1094730640),p=Jt(p,T,y,m,l[13],4,681279174),m=Jt(m,p,T,y,l[0],11,-358537222),y=Jt(y,m,p,T,l[3],16,-722521979),T=Jt(T,y,m,p,l[6],23,76029189),p=Jt(p,T,y,m,l[9],4,-640364487),m=Jt(m,p,T,y,l[12],11,-421815835),y=Jt(y,m,p,T,l[15],16,530742520),p=Qt(p,T=Jt(T,y,m,p,l[2],23,-995338651),y,m,l[0],6,-198630844),m=Qt(m,p,T,y,l[7],10,1126891415),y=Qt(y,m,p,T,l[14],15,-1416354905),T=Qt(T,y,m,p,l[5],21,-57434055),p=Qt(p,T,y,m,l[12],6,1700485571),m=Qt(m,p,T,y,l[3],10,-1894986606),y=Qt(y,m,p,T,l[10],15,-1051523),T=Qt(T,y,m,p,l[1],21,-2054922799),p=Qt(p,T,y,m,l[8],6,1873313359),m=Qt(m,p,T,y,l[15],10,-30611744),y=Qt(y,m,p,T,l[6],15,-1560198380),T=Qt(T,y,m,p,l[13],21,1309151649),p=Qt(p,T,y,m,l[4],6,-145523070),m=Qt(m,p,T,y,l[11],10,-1120210379),y=Qt(y,m,p,T,l[2],15,718787259),T=Qt(T,y,m,p,l[9],21,-343485551),h[0]=Te(p,h[0]),h[1]=Te(T,h[1]),h[2]=Te(y,h[2]),h[3]=Te(m,h[3])}function Ls(h,l,p,m,y,T){return l=Te(Te(l,h),Te(m,T)),Te(l<<y|l>>>32-y,p)}function zt(h,l,p,m,y,T,x){return Ls(l&p|~l&m,h,l,y,T,x)}function Gt(h,l,p,m,y,T,x){return Ls(l&m|p&~m,h,l,y,T,x)}function Jt(h,l,p,m,y,T,x){return Ls(l^p^m,h,l,y,T,x)}function Qt(h,l,p,m,y,T,x){return Ls(p^(l|~m),h,l,y,T,x)}function Eo(h){var l,p=[];for(l=0;64>l;l+=4)p[l>>2]=h.charCodeAt(l)+(h.charCodeAt(l+1)<<8)+(h.charCodeAt(l+2)<<16)+(h.charCodeAt(l+3)<<24);return p}var dr="0123456789abcdef".split("");function So(h){for(var l="",p=0;4>p;p++)l+=dr[h>>8*p+4&15]+dr[h>>8*p&15];return l}var pr=function(h,l){var p="";try{p=function(m){for(var y=0;y<m.length;y++)m[y]=So(m[y]);return m.join("")}(function(m){var y,T=m.length,x=[1732584193,-271733879,-1732584194,271733878];for(y=64;y<=m.length;y+=64)Mi(x,Eo(m.substring(y-64,y)));m=m.substring(y-64);var D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(y=0;y<m.length;y++)D[y>>2]|=m.charCodeAt(y)<<(y%4<<3);if(D[y>>2]|=128<<(y%4<<3),55<y)for(Mi(x,D),y=0;16>y;y++)D[y]=0;return D[14]=8*T,Mi(x,D),x}(e(h)))}catch(m){l?p="":hj.exceptions.log(m,"md5")}return p};pr("hello")!="5d41402abc4b2a76b9719d911017c592"&&(Te=function(h,l){var p=(65535&h)+(65535&l);return(h>>16)+(l>>16)+(p>>16)<<16|65535&p});var vt={id:void 0,attributes:{},init:hj.tryCatch(function(){if(hj.settings.user_attributes_enabled){var h=function(){var l=hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.get()==="true"?hj.bridge.storage.localStorage.USER_ATTRIBUTES.get():void 0;if(l)try{var p=function(m){try{var y=JSON.parse(m);if(y&&j(y)==="object")return!0}catch{}return!1}(l)?l:hj.b64DecodeUnicode(l);return JSON.parse(p)}catch{return}}();h&&(vt.id=h.userId,vt.attributes=h.attributes,delete vt.attributes.contentsquare_replay_link)}},"userAttributes.init"),reset:hj.tryCatch(function(){vt.id=void 0,vt.attributes={},hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.clear(),hj.bridge.storage.localStorage.USER_ATTRIBUTES.clear()},"userAttributes.reset"),set:hj.tryCatch(function(h,l){var p,m,y,T,x;l&&l.contentsquare_replay_link&&(hj.log.debug("Storing contentsquare_replay_link user attribute: ".concat(l.contentsquare_replay_link),"userAttributes"),vt.attributes.contentsquare_replay_link=l.contentsquare_replay_link),hj.settings.user_attributes_enabled?(vt.id!==void 0&&vt.id!==null&&vt.id!==h&&(hj.log.debug("User ID changed, resetting all attributes before continuing.","userAttributes"),vt.reset()),vt.id=h,vt.attributes=(p=vt.attributes,m={},y={},[p,l].forEach(function(D){if(D)for(var R in D)Object.prototype.hasOwnProperty.call(D,R)&&R!=="length"&&(m[R]=D[R])}),Object.keys(m).sort().forEach(function(D){y[D]=m[D]}),y),T={attributes:vt.attributes,userId:vt.id},x=hj.b64EncodeUnicode(JSON.stringify(T)),hj.bridge.storage.localStorage.USER_ATTRIBUTES.set(x),hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.set("true",!0),hj.event.signal("user-attributes-set"),hj.bridge.isRecordingEnabled()?vt.flush():hj.log.debug("No recording in progress. Not sending.","userAttributes")):hj.log.debug("User attributes not enabled. Doing nothing.","userAttributes")},"userAttributes.set"),flush:hj.tryCatch(function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hj.hq.noop;if(vt.id!==void 0||Object.keys(vt.attributes).length){var l=hj.bridge.storage.items.USER_ATTRIBUTES_HASH.get({resetExpiry:!0}),p=hj.md5(JSON.stringify({allAttributes:vt.attributes,userId:vt.id}));if(l===p)return h(null,vt.id,vt.attributes),void hj.log.debug("No changed user attributes. Not sending.","userAttributes");hj.bridge.storage.items.USER_ATTRIBUTES_HASH.set(p),hj.debug.isOn()&&function(m,y){hj.ajax.post("".concat(hj.identifyEndpoint,"/sites/").concat(hj.settings.site_id,"/users/").concat(hj.bridge.getSessionUserId(!0),"/validate"),{user_id:m,attributes:y},hj.tryCatch(function(T){T.errors&&Object.keys(T.errors).length>0?hj.log.debug("User validation API call PARTIALLY successful (some errors).","userAttributes",T):hj.log.debug("User validation API call successful.","userAttributes",T)},"userAttributes"),hj.tryCatch(function(T){hj.log.debug("User Attributes validation API call failed.","userAttributes",T.responseText&&JSON.parse(T.responseText)||"unknown_failure")},"userAttributes"))}(vt.id,vt.attributes),hj.bridge.flushUserAttributes(vt.id,vt.attributes),h(null,vt.id,vt.attributes)}else h(Error("no_user"))},"userAttributes.flush"),get:hj.tryCatch(function(h){return h==="user_id"?vt.id:h&&vt.attributes[h]},"userAttributes.get")},oi={},ki={"user.id":void 0},vo={get:function(h){return ki[h]},set:function(h,l){ki[h]=l;var p=oi[h];typeof p=="function"&&l&&(p(l),delete oi[h])},on:function(h,l){oi[h]=l;var p=ki[h];p&&(l(p),delete oi[h])},reset:function(){oi={},ki={"user.id":void 0}}},cn=hj.tryCatch(function(){var h=function(){try{return window.self!==window.top}catch{return!0}}(),l={width:!h&&window.screen?window.screen.width:document.body.clientWidth,height:!h&&window.screen?window.screen.height:document.body.clientHeight};return{width:window.innerWidth||document.documentElement.clientWidth||l.width,height:window.innerHeight||document.documentElement.clientHeight||l.height}},"common"),_o=hj.tryCatch(function(){var h,l;if(document&&document.documentElement&&document.documentElement.clientWidth)h=document.documentElement.clientWidth,l=document.documentElement.clientHeight;else{var p=cn();h=p.width,l=p.height}return{width:h,height:l}},"common"),wo=hj.tryCatch(function(h){return h=h||window,{left:hj.hq(h).scrollLeft(),top:hj.hq(h).scrollTop()}},"common"),bo=hj.tryCatch(function(){var h=parseInt(1e3*(hj.hq(window).scrollTop()+hj.ui.getWindowSize().height)/hj.hq(document).height(),10);return Math.min(1e3,h)},"common"),To=hj.tryCatch(function(h){var l=hj.ui.getScrollPosition();hj.hq(document).on("scroll.hotjarDisable resize.hotjarDisable mousewheel.hotjarDisable DOMMouseScroll.hotjarDisable touchmove.hotjarDisable",hj.tryCatch(function(p){p.preventDefault(),window.scrollTo(l.left,l.top),h&&h()},"common"))},"common"),hl=hj.tryCatch(function(){hj.hq(document).off("scroll.hotjarDisable"),hj.hq(document).off("resize.hotjarDisable"),hj.hq(document).off("mousewheel.hotjarDisable"),hj.hq(document).off("DOMMouseScroll.hotjarDisable"),hj.hq(document).off("touchmove.hotjarDisable")},"common"),ln={getWindowSize:cn,getDocumentSize:_o,getScrollPosition:wo,getBottomAsPercentage:bo,disableScrolling:To,enableScrolling:hl},Ao=function(){var h=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).uuid;hj.debug=o,hj.log=f,hj.hq=B,hj.ajax=rn,hj.uuid=h||window.hj.uuid,hj.encodeAsUtf8=e,hj.b64EncodeUnicode=i,hj.b64DecodeUnicode=n,hj.md5=pr,hj.event=_,hj.userAttributes=vt,hj.targeting=z,hj.features=Ne,hj.rendering=xs,hj.ui=ln,hj.store={session:vo}},Ro=hj.tryCatch(function(){var h=O("hjDebug");h&&(h==="1"||h==="true"?hj.debug.on(!0):hj.debug.off())},"init"),hn={storage:{},set:hj.tryCatch(function(h){hn.storage.events=h},"sessionEvents.set"),get:hj.tryCatch(function(){return hn.storage.events},"sessionEvents.get")};function Me(h){return Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Me(h)}function us(){return us=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(h[m]=p[m])}return h},us.apply(this,arguments)}function un(h,l){return function(p){if(Array.isArray(p))return p}(h)||function(p,m){var y=p==null?null:typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(y!=null){var T,x,D,R,H=[],W=!0,J=!1;try{if(D=(y=y.call(p)).next,m===0){if(Object(y)!==y)return;W=!1}else for(;!(W=(T=D.call(y)).done)&&(H.push(T.value),H.length!==m);W=!0);}catch(rt){J=!0,x=rt}finally{try{if(!W&&y.return!=null&&(R=y.return(),Object(R)!==R))return}finally{if(J)throw x}}return H}}(h,l)||function(p,m){if(p){if(typeof p=="string")return fr(p,m);var y=Object.prototype.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?fr(p,m):void 0}}(h,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fr(h,l){(l==null||l>h.length)&&(l=h.length);for(var p=0,m=new Array(l);p<l;p++)m[p]=h[p];return m}var gr,ds,he,dn={getAsNumber:function(){var h=hj.bridge.getSessionUserId(!0);return(parseInt((h==null?void 0:h.slice(-10))||"",16)+1)/Math.pow(2,40)},compareRatio:hj.tryCatch(function(h,l){return dn.getAsNumber()*(l?100:1)<=h},"identifier.compareRatio")},ps=["af","ar","bg","ca","cs","cy","da","de","el","en","es","et","fa","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","mis","nb","nl","pl","pt_BR","pt","ro","ru","sk","sl","sq","sr","sv","sw","th","tl","tr","uk","vi","zh_CN","zh_TW"],Vs=Object.freeze({POPOVER:"popover",FULL_SCREEN:"full_screen",EXTERNAL:"external_link",BUTTON:"button",INLINE_EMBEDDED:"inline",BUBBLE:"bubble",MOBILE_POPOVER:"mobile_popover"}),pn=hj.tryCatch(function(){hj.widget=function(){var h,l={},p=["ar","fa","he"],m=[],y=[],T=[],x=[],D=!1;return l.ctrl=void 0,l.data=void 0,l.model={},l.activeLanguageDirection="ltr",l.widgetAttributePrefix="_hj-f5b2a1eb-9b07",l.getCtaLinks=function(){return{polls:"https://www.hotjar.com/feedback-surveys?utm_source=client&utm_medium=poll&utm_campaign=insights",surveys:"https://www.hotjar.com/?utm_source=client&utm_medium=survey&utm_campaign=insights"}},l.getActiveLanguage=function(){var R;return(R=h)!==null&&R!==void 0?R:"en"},l.addMatchingWidget=function(R,H,W,J,rt,a,S,v){var b=S===Vs.INLINE_EMBEDDED;if(J===void 0||hj.isPreview||dn.compareRatio(J,!0)){var g={type:R,id:H,created:W,runCallback:rt,removeCallback:a,isInlineEmbedded:b,targetingRules:v,displayType:S};D?l.setActiveWidget(g):((b?y:m).push(g),b&&x.push(g))}else hj.log.debug("Session identifier not in targeting percentage. Widget will not match.","targeting")},l.clearWidget=hj.tryCatch(function(){var R="#_hj_poll_container,._hj-widget-container";hj.hq(R).length>0&&(hj.log.debug("Removing previously shown widget from DOM","widgets"),hj.hq(R).remove())},"widgets"),l.emptyMatchingWidgets=function(){m=[],y=[],T.forEach(function(R){R()}),T=[],D=!1},l.isPhoneOrTablet=hj.tryCatch(function(){return hj.widget.isVeryNarrowScreen()||M()==="phone"||M()==="tablet"},"common"),l.isVeryNarrowScreen=hj.tryCatch(function(){return hj.hq(window).width()<=450},"common"),l.removeActiveWidget=function(R){hj.widgetDelay.clear(),xs.clearAllAbandonEvents(),xs.clearAllScrollEvents(),R=R||function(){},l.activeWidget?(l.activeWidget.removeCallback&&l.activeWidget.removeCallback(R),delete l.activeWidget):R()},l.runLatestMatchingWidget=function(){var R,H;m.forEach(function(W){var J=function(rt){return rt.type==="incoming"||rt.displayType==="button"||rt.displayType==="bubble"?0:1}(W);(!R||J>H||J===H&&W.created>R.created)&&(R=W,H=J)}),R?l.setActiveWidget(R):l.removeActiveWidget(),D=!0},l.runInlineEmbeddedWidgets=function(){x=x.filter(function(R){var H=hj.targeting.matchUrl(R.targetingRules,location.href);return H||R.removeCallback(),H}),y.forEach(function(R){R.runCallback()})},l.setActiveWidget=function(R){l.activeWidget&&R.type===l.activeWidget.type&&R.id===l.activeWidget.id||l.removeActiveWidget(function(){R.runCallback(),l.activeWidget=R})},l.setLanguage=hj.tryCatch(function(R){var H=(R||"en").replace("-","_");if(!ps.includes(H))throw new Error('Invalid language "'+R+'"');h=H,hj.widget.activeLanguageDirection=p.indexOf(H)>-1?"rtl":"ltr",hj.widget.isActiveLanguageDirectionRtl=hj.widget.activeLanguageDirection==="rtl"},"common"),l.registerCleanupForInlineWidget=function(R){T.push(R)},l}(),hj.widgetDelay=function(){var h={},l=null;return h.clear=hj.tryCatch(function(){clearTimeout(l),l=null},"hj.widgetDelay.clear"),h.set=hj.tryCatch(function(p,m){h.clear(),l=setTimeout(p,m)},"hj.widgetDelay.set"),h}()},"widgets"),Et=Object.freeze({LIVE:"LIVE",REVIEW_WEBAPP:"REVIEW_WEBAPP",REVIEW:"REVIEW",STAGING:"STAGING",DEV:"DEV",DEV_OLD:"DEV_OLD"}),ai=(gr=(he=document.location.host.match(/^(insights-webapp|surveys-webapp|insights|surveys)-(.*?)((?:\.[^.]+)?(?:\.hotjarians\.net)|(?:\.[^.]+)?(?:\.eks\.hotjar\.com))$/))&&{component:he[1],reviewId:he[2],domain:he[3],reviewUrlSuffix:he[2]+he[3]})===null||gr===void 0?void 0:gr.reviewUrlSuffix,qt=Object.freeze(((ds={})[Et.LIVE]={INSIGHTS:"insights.hotjar.com",SURVEYS:"surveys.hotjar.com"},ds[Et.REVIEW]={INSIGHTS:"insights-".concat(ai),SURVEYS:"surveys-".concat(ai)},ds[Et.REVIEW_WEBAPP]={INSIGHTS:"insights-webapp-".concat(ai),SURVEYS:"surveys-webapp-".concat(ai)},ds[Et.STAGING]={INSIGHTS:"insights-staging.hotjar.com",SURVEYS:"surveys-staging.hotjar.com"},ds[Et.DEV]={INSIGHTS:"local.hotjar.com:8443",SURVEYS:"surveys.local.hotjar.com:8443"},ds[Et.DEV_OLD]={INSIGHTS:"local.hotjar.com",SURVEYS:"surveys.local.hotjar.com"},ds)),fs=function(h){return function(l,p){return l===qt[h][p]}},me=fs(Et.DEV),Co=fs(Et.DEV_OLD),mr=fs(Et.LIVE),Io=fs(Et.REVIEW_WEBAPP),Po=fs(Et.REVIEW),Di=fs(Et.STAGING),fn=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.location.href,l=[qt[Et.LIVE].SURVEYS,qt[Et.REVIEW_WEBAPP].SURVEYS,qt[Et.REVIEW].SURVEYS,qt[Et.STAGING].SURVEYS,qt[Et.DEV].SURVEYS,qt[Et.DEV_OLD].SURVEYS],p=document.createElement("a");return p.href=h,l.indexOf(p.hostname)>=0},gn={popover:{isExternal:!1,allowsScreenshots:!0},full_screen:{isExternal:!1,allowsScreenshots:!0},inline:{isExternal:!1,allowsScreenshots:!0},button:{isExternal:!1,allowsScreenshots:!0},bubble:{isExternal:!1,allowsScreenshots:!0},external_link:{isExternal:!0,allowsScreenshots:!1},mobile_popover:{isExternal:!0,allowsScreenshots:!1}},mn=function(h){return gn[h].isExternal},Oo=(Object.freeze({LAST_RECORDING_ACTIVITY_STORE_DEBOUNCE:5e3,MAX_TIME_SINCE_LAST_RECORDING_ACTIVITY_IN_SESSION:12e4}),window.hjLazyModules,"js"),gs=(Object.freeze({id:null,selector_version:2}),function(h){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ko,m=0,y=!1;function T(){--m!=0||y||l.bind(this)()}function x(){y=!0,p.bind(this)()}Object.keys(h).forEach(function(D){var R=h[D];typeof R=="string"&&(R=[R]),m+=R.length,R.forEach(function(H){No(H,D,T,x)})})}),No=function(h,l,p,m){var y;l===Oo?(y=document.createElement("script")).src="".concat(hj.scriptDomain).concat(h):l==="css"&&((y=document.createElement("link")).href="".concat(hj.scriptDomain).concat(h),y.rel="stylesheet"),y.onload=p,y.onerror=m,document.getElementsByTagName("head")[0].appendChild(y)};function Mo(){}function ko(){var h=this.src||this.href;hj.exceptions.log(new Error("Failed to load module: ".concat(h,".")),"loader")}var Do=function(h,l){var p,m;if(hj.isPreview)return!1;var y=((p=h.targeting)===null||p===void 0?void 0:p.filter(function(R){return R.component==="url"}))||[],T=(m=h.targeting)===null||m===void 0?void 0:m.some(function(R){return R.component==="trigger"}),x=h.display_type===Vs.EXTERNAL||h.display_type===Vs.MOBILE_POPOVER,D=T||x||hj.targeting.matchUrl(y,hj.currentUrl)===!0;return hj.tryCatch(function(){if(!D)throw new Error("Rendered survey out of URL targeting in ".concat(l," with ID: ").concat(h.id))},"render-out-of-targeting")(),!D};function xo(h,l){for(var p=h.querySelectorAll(l),m=0;m<p.length;m++){var y=p[m];y&&y.parentElement&&y.parentElement.removeChild(y)}}var yr=hj.tryCatch(function(){hj.surveyImpressionsMoved=!0,hj.polls=function(){var h,l={},p=window.hjLazyModules,m=hj.tryCatch(function(R,H){Do(R,"doRenderSurvey")||hj.widget.renderSurvey(R,H)},"polls");function y(){return p.SURVEY_V2}var T=hj.tryCatch(function(R,H){if(!Do(R,"renderWidget")){hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[R.id]=R,hj.widget.pollsResponsesUUID=hj.widget.pollsResponsesUUID||{},hj.widget.pollsResponsesUUID[R.id]=hj.uuid(),hj.widget.setLanguage(R.language),hj.log.debug("Rendering poll widget.","poll");var W=y();W!==h?gs(y(),function(){h=W,m(R,H)}):m(R,H)}},"polls"),x=hj.tryCatch(function(R){var H=JSON.parse(JSON.stringify(R));return function(W){hj.hq.each(W.content.questions,function(J,rt){rt.answers&&hj.hq.each(rt.answers,function(a,S){S.index=a})})}(H),function(W){hj.hq.each(W.content.questions,function(J,rt){rt.randomize_answer_order&&(rt.pin_last_to_bottom?rt.answers=F(rt.answers.slice(0,-1)).concat(rt.answers.slice(-1)):F(rt.answers))})}(H),H},"polls"),D=hj.tryCatch(function(R,H){hj.widget.pollsData=hj.widget.pollsData||{};var W=x(R);hj.widget.pollsData[R.id]=W,hj.settings.legal_name=R.legal_name,hj.settings.privacy_policy_url=R.privacy_policy_url,H&&(hj.settings.features=H),hj.tryCatch(function(){T(W)},W,"polls")()},"polls");return l.add=hj.tryCatch(function(R){hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[R.id]=x(R),hj.tryCatch(xs.callAccordingToCondition,"polls")(hj.widget.pollsData[R.id],"poll",T)},"polls"),l.addEmbedded=hj.tryCatch(function(R,H){hj.widget.emptyMatchingWidgets();var W=R.display_type==="external_link"?void 0:R.targeting_percentage;hj.widget.addMatchingWidget("poll",R.id,R.created_epoch_time,W,function(){var J=x(R),rt=J.display_type===Vs.MOBILE_POPOVER;rt||(J.skin="light",J.background="#ffffff",J.pageBackground=R.background),hj.bridge.storage.items.POLL_DONE.exists(R.id)&&R.persist_condition!=="always"&&(hj.log.debug("Offsite poll "+R.id+" was already submitted.","poll"),J.is_submitted=!0),hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[J.id]=J,T(J,H[0]),typeof window.hjRenderCallback!="function"||rt||window.hjRenderCallback({background:R.background})},l.remove,R.display_type)},"polls"),l.handleSurveyEvent=hj.tryCatch(function(R){var H;R.detail.event==="surveyClosed"&&R.detail.surveyId===((H=hj.widget.activeWidget)===null||H===void 0?void 0:H.id)&&hj.widget.removeActiveWidget()}),l.remove=hj.tryCatch(function(R,H){hj.widget.pollsData[H]?(xo(document.body,".".concat("_hj-widget-container")),xo(document.body,".".concat("_hj-widget-iframe")),delete hj.widget.pollsData[H],R&&setTimeout(function(){R()},1)):R&&R()},"polls"),l.run=hj.tryCatch(function(R){var H;if(hj.hq("._hj-survey-embed-container").length>0){var W,J=hj.hq("._hj-survey-embed-container"),rt=J.attr("data-survey-id"),a=(W=hj.settings.polls)===null||W===void 0?void 0:W.find(function(v){return mn(v.display_type)&&v.uuid==rt});if(a!==void 0)return hj.log.debug("Offsite poll #".concat(a.id," has matched with the embedded UUID ").concat(rt),"poll"),void l.addEmbedded(a,J)}if(fn(R))return hj.hq(document).trigger("hj-embedded-survey-mismatch"),hj.widgetDelay.clear(),hj.widget.emptyMatchingWidgets(),void hj.log.debug("Could not match the embedded UUID.","poll");var S=(H=hj.settings.polls)===null||H===void 0?void 0:H.filter(function(v){return b=v.display_type,gn[b]!==void 0&&!mn(v.display_type);var b});S==null||S.forEach(function(v){hj.targeting.matchRules({rules:v.targeting,userAttributeMatchLogic:v.targeting_user_attribute_match_logic},R,hj.tryCatch(function(){hj.log.debug("Poll #"+v.id+" has matched.","poll"),hj.bridge.storage.items.POLL_DONE.exists(v.id)&&v.persist_condition!=="always"?hj.log.debug("Poll was already submitted.","poll"):hj.widget.addMatchingWidget("poll",v.id,v.created_epoch_time,v.targeting_percentage,function(){return l.add(v)},function(b){return l.remove(b,v.id)},v.display_type,v.targeting)},"polls.run.matchRules-callback"))})},"polls"),l.enablePreview=function(){window._hjPollReload=D},hj.isPreview&&l.enablePreview(),window.addEventListener("hotjar-survey-event",l.handleSurveyEvent),l}()},"polls"),yn=Object.freeze({MODAL:"_hj-modal",FOOTER:"_hj-footer",SURVEY_INVITES:"_hj_survey_invite_container",HEATMAP_RETAKER:"_hj-heatmap-retaker",ADMIN_WIDGET:"_hj_admin_widget",NOTICATION:"_hj-notification"}),Lo=(Object.freeze({RETAKER:"_hjRetakerTrsToken",TARGETING:"_hjRetakerTargeting"}),function(h){if(h){if(h.startsWith("data:image")||h.startsWith("blob:")||h.startsWith("http"))return h;var l=hj.environment==="live"?hj.surveyImagesHost:"d23waydkwbngmu.cloudfront.net";return"https://".concat(l,"/").concat(h)}}),Vo=function(){var h={},l=window.hjLazyModules;function p(m){return m.display_type===Vs.EXTERNAL?function(y,T){if(T)return"https://".concat(T,"/").concat(y);var x=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"INSIGHTS",H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.location.host;return mr(H,R)?Et.LIVE:me(H,R)?Et.DEV:Co(H,R)?Et.DEV_OLD:Io(H,R)?Et.REVIEW_WEBAPP:Po(H,R)?Et.REVIEW:Di(H,R)?Et.STAGING:Et.LIVE}(),D=qt[x].SURVEYS;return"https://".concat(D,"/").concat(y)}(m.uuid,hj.surveysHost):m.public_url}return h.run=hj.tryCatch(function(m){if(!fn(m)){var y=(hj.settings.polls||[]).filter(function(x){return x.invite_enabled&&x.display_type===Vs.EXTERNAL}),T=(hj.settings.surveys||[]).concat(y);hj.hq.each(T||[],function(x,D){z.matchRules({rules:D.targeting,userAttributeMatchLogic:D.targeting_user_attribute_match_logic},m,hj.tryCatch(function(){hj.log.debug("Survey #"+D.id+" has matched.","survey"),hj.bridge.storage.items.SURVEY_INVITES_CLOSED.exists(D.id)?hj.log.debug("Survey was already viewed.","survey"):hj.widget.addMatchingWidget("survey",D.id,D.created_epoch_time,D.targeting_percentage,function(){hj.survey.data=D,xs.callAccordingToCondition(hj.survey.data,"survey",hj.tryCatch(function(){var R;R=hj.survey.data,hj.widget.surveyInvitationData={id:R.id,title:R.invite.title,description:R.invite.description,button:R.invite.button,close:R.invite.close,url:p(R),logoUrl:Lo(R.logo_path||R.logo_url)},gs(l.SURVEY_INVITATION)},"polls"))},h.remove)},"surveys.run.matchRules-callback"))})}},"surveys"),h.remove=hj.tryCatch(function(m){hj.survey.data?(hj.hq(".".concat(yn.SURVEY_INVITES)).length>0&&hj.hq(".".concat(yn.SURVEY_INVITES)).remove(),delete hj.survey.data,m&&setTimeout(function(){m()},1)):m&&m()}),h},Uo=hj.tryCatch(function(){hj.survey={invites:Vo(),ctrl:void 0,data:void 0,model:{},activeLanguageDirection:"ltr"}},"surveys");function ut(){return ut=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(h[m]=p[m])}return h},ut.apply(this,arguments)}var Be="https://voc.hotjar.com",ue=[Be,"https://voc.ew1-integration-1.hotjarians.net","https://hj-engage-unmoderated-review.s3.eu-west-1.amazonaws.com"],Er="hj-uut",ms={get:function(){var h=window.sessionStorage.getItem(Er);return h?JSON.parse(h):null},getValue:function(h){var l=ms.get();return l==null?void 0:l[h]},set:function(h){if(h){var l,p=(l=ms.get())!==null&&l!==void 0?l:{};window.sessionStorage.setItem(Er,JSON.stringify(ut(ut({},p),h)))}},clear:function(){window.sessionStorage.removeItem(Er)},validDomains:ue},xi=function(h){var l=new URLSearchParams(h);return!!l.has("project_uuid")||(l.get("is_preview")==="1"?l.has("task_uuid"):l.has("response_uuid")&&l.has("task_uuid")&&l.has("participation_uuid"))},Li=function(){var h,l=(h=function(){var y=document.referrer;if(typeof y=="string"&&function(T){if(typeof T!="string")return!1;try{var x=new URL(T),D=x.searchParams.get("is_preview")==="1";return!!ue.some(function(R){return T==null?void 0:T.includes(R)})||!!D&&x.hostname.endsWith(".hotjar.com")&&x.pathname.includes("research/projects/tests")}catch{return!1}}(y)&&xi(new URL(y).search))return y}())!==null&&h!==void 0?h:function(){var y=new URLSearchParams(window.location.search).get("hj_uut");if(ue.some(function(D){var R;return(R=document.referrer)===null||R===void 0?void 0:R.includes(D)})&&y){var T=window.atob(y);if(xi(T)){var x=new URL(Be);return x.search=T,x.toString()}}}(),p=l!==void 0,m=ms.get()!==null;return p&&ms.set({referrer:l}),m||p},ci=!1,Vi=function(){ci||(function(){try{hj.request=function(){var h,l,p=(l=hj.askUrl||((h=hj.defaults)===null||h===void 0?void 0:h.askUrl),{v1:"".concat(l,"api/v1"),v2:"".concat(l,"api/v2")}),m={},y={granted:null,callbacks:[],inProgress:!1},T=function(){return hj.bridge.getSessionUserId(!0)||""},x=[],D=!1;function R(H,W,J,rt){x.push([H,W,J,rt]),D||function a(){if(x.length!==0){D=!0;var S=function(I,k,ot){if(k&&!Array.isArray(k)&&typeof k.length=="number"){var et=k.length;return fr(k,4<et?4:et)}return I(k,4)}(un,x.shift()),v=S[0],b=S[1],g=S[2],N=S[3];hj.ajax.post(v,b,function(I){try{g&&g(I)}finally{a()}},function(I){try{N&&N(I)}finally{a()}})}else D=!1}()}return m.getConsentGranted=hj.tryCatch(function(H){var W,J="?";y.granted!==null&&H?H(y.granted):(H&&y.callbacks.push(H),y.inProgress||(J+="user_id="+T(),y.inProgress=!0,hj.ajax.get("".concat(hj.apiUrlBase,"/sites/").concat(hj.settings.site_id,"/consent").concat(J),function(rt){for(y.granted=!!rt.success&&rt.scopes.indexOf("associate")!==-1,y.inProgress=!1;W=y.callbacks.pop();)hj.tryCatch(W,"ConsentData")(y.granted)},function(){for(y.granted=!1,y.inProgress=!1;W=y.callbacks.pop();)hj.tryCatch(W,"ConsentData")(y.granted)})))},"hj.request.getConsentGranted"),m.grantConsent=hj.tryCatch(function(H,W){H.user_id=T(),H.action="grant_for_response",R("".concat(hj.apiUrlBase,"/sites/").concat(hj.settings.site_id,"/consent/associate"),H,function(J){y.granted=!!J.success,W&&hj.tryCatch(W,"GrantConsent")(y.granted)},function(){y.granted=!1})},"hj.request.getConsent"),m.savePollResponse=hj.tryCatch(function(H,W,J,rt,a){var S=hj.widget.pollsResponsesUUID[H];J.action="create_or_update_poll_response";var v=hn.get();v&&(J.events=hj.hq.stringify(v)),function(b,g,N,I,k){var ot=tt();N.window_width=N.window_width||ot.width,N.window_height=N.window_height||ot.height,N.user_id=g?T():void 0,N.url=location.href,N.account_id=hj.settings.account_id||null,N.payload_signature=hj.settings.account_signature||null,hj.userAttributes.flush(function(et,Zt,de){if(et){N.identify_user_id=hj.userAttributes.get("user_id")||null;var bt=hj.userAttributes.get("contentsquare_replay_link");bt&&(N.identify_attributes={contentsquare_replay_link:bt})}else N.identify_user_id=Zt,N.identify_attributes=de;if(hj.sdk!==void 0){N.language=hj.sdk.getDeviceLanguage();var vs={contentsquare_replay_link:hj.sdk.getReplayLink()};N.identify_attributes=us(us({},Me(N.identify_attributes)==="object"?N.identify_attributes:void 0),vs)}R(b,N,function(Bs){I&&I(Bs)},function(){k&&k(new Error("Error sending response"))})})}("".concat(p.v2,"/client/sites/").concat(hj.settings.site_id,"/poll/").concat(H,"/response/").concat(S),W,J,function(b){b.is_new_response&&hj.event.signal("poll.send",{id:H,response_id:b.poll_response_id}),rt==null||rt(b)},a)},"data"),m.completePollResponse=hj.tryCatch(function(H,W){var J=hj.widget.pollsResponsesUUID[H];R("".concat(p.v2,"/client/sites/").concat(hj.settings.site_id,"/poll/").concat(H,"/response/").concat(J),{action:"finish_poll_response",completion_time_from_engagement_ms:W.fromEngagement,completion_time_from_render_ms:W.fromRender})},"data"),m}()}catch(h){hj.exceptions.log(h,"hj.request")}}(),pn(),yr(),Uo(),ci=!0)},ys=function(h){hj.widget&&(Li()?gs(window.hjLazyModules.USER_TEST,function(){var l,p;(l=(p=hj.widget).initUserTest)===null||l===void 0||l.call(p)},function(){hj.log.error("Failed to load user test module")}):(hj.widget.emptyMatchingWidgets(),hj.polls.run(h),hj.survey.invites.run(h),hj.widget.runLatestMatchingWidget(),hj.widget.runInlineEmbeddedWidgets()))},Fe=gt("ab-tasty","integration");function Ut(){return window.ABTasty!==void 0&&window.ABTasty.hitServiceNotifierSubscribe!==void 0}var li={setup:hj.tryCatch(function(){function h(l){if(l.type==="CAMPAIGN"&&l.data&&l.data.caname&&l.data.vaname){var p=l.data,m=p.caname,y=p.vaname;Fe("AB Tasty campaign '".concat(m,"' is on variant '").concat(y,"'"),l),hj.event.signal("exp.abt",{experimentId:m,variantId:y},!0);var T=Xt("".concat(m,"-").concat(y));hj("event",T),Fe("Sending event '".concat(T,"'"))}else Fe("Invalid AB Tasty event",l)}ct(Ut,function(l){l?(Fe("AB Tasty global object found"),window.ABTasty.hitServiceNotifierSubscribe(h,"CAMPAIGN",{withHitHistory:!0})):Fe("AB Tasty global object not found")},2e3,10)},"abTasty.setup")};function ke(){return ke=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(h[m]=p[m])}return h},ke.apply(this,arguments)}function Us(h,l){return function(p){if(Array.isArray(p))return p}(h)||function(p,m){var y=p==null?null:typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(y!=null){var T,x,D,R,H=[],W=!0,J=!1;try{if(D=(y=y.call(p)).next,m===0){if(Object(y)!==y)return;W=!1}else for(;!(W=(T=D.call(y)).done)&&(H.push(T.value),H.length!==m);W=!0);}catch(rt){J=!0,x=rt}finally{try{if(!W&&y.return!=null&&(R=y.return(),Object(R)!==R))return}finally{if(J)throw x}}return H}}(h,l)||function(p,m){if(p){if(typeof p=="string")return Sr(p,m);var y=Object.prototype.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?Sr(p,m):void 0}}(h,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sr(h,l){(l==null||l>h.length)&&(l=h.length);for(var p=0,m=new Array(l);p<l;p++)m[p]=h[p];return m}function $e(){var h;return typeof window[(h=window.GoogleAnalyticsObject)!==null&&h!==void 0?h:"ga"]=="function"}function Ui(h,l){!l||!l.length||l.length<2||l[0]!=="event"||ze(h,{action:l[1],category:l[2]&&l[2].event_category||"",label:l[2]&&l[2].event_label||"",value:l[2]&&l[2].value||""})}function ze(h,l){if(!function(y){return y.action==="detect_user"&&y.category==="Hotjar"}(l)){var p=function(y){return"GA_"+[y.action,y.category,y.label,y.value].filter(function(T){return T===0||!!T}).join("-")}(l),m=function(y){return"GA_"+y.action}(l);hj.log.debug("intercepting ".concat(h,": ")+JSON.stringify(l)),hj("event",p),p!==m&&hj("event",m),hj.event.signal("int.ga",l)}}var hi,De,Ae,jt={gaClientSent:!1,gtagClientSent:!1,dataLayerSent:!1},dt=function(h){return jt[h]},xe=function(h,l){jt[h]&&(jt[h]=l)},vr=gt("ga.forward_events","integration"),_r=!1,Es={setup:hj.tryCatch(function(){if(!_r){_r=!0;var h=$e(),l=typeof window.gtag=="function";ct(function(){return window.dataLayer!==void 0&&window.dataLayer.length!==void 0},function(p){if(p)return vr("Intercepting dataLayer"),function(){var y=window.dataLayer;if(y._hj!==!0){y.forEach(function(x){Ui("dataLayer",x)});var T=y.push;y.push=function(){T.apply(y,arguments),Ui("dataLayer",arguments[0])},y._hj=!0}}(),void(dt("dataLayerSent")||(hj.metrics.count("ga-version",{tag:{version:"datalayer"}}),xe("dataLayerSent",!0)));var m;l&&(vr("Intercepting gtag"),m=window.gtag,window.gtag=function(){var y=Array.prototype.slice.call(arguments);m.apply(null,y),Ui("gtag",y)},dt("gtagClientSent")||(hj.metrics.count("ga-version",{tag:{version:"gtag"}}),xe("gtagClientSent",!0)))},3e3,5),h&&(vr("Intercepting ga"),(0,window[window.GoogleAnalyticsObject||"ga"])(function(p){var m=p.get("sendHitTask");p.set("sendHitTask",function(y){m(y);var T=function(x){var D=decodeURIComponent(x).split("&").map(function(R){return R.split("=")}).filter(function(R){var H=function(W,J,rt){if(J&&!Array.isArray(J)&&typeof J.length=="number"){var a=J.length;return Sr(J,1<a?1:a)}return W(J,1)}(Us,R)[0];return["t","ec","ea","el","ev"].indexOf(H)>-1}).reduce(function(R,H){var W;return ke(ke({},R),{},((W={})[H[0]]=H[1],W))},{});return D.t?{event:D.t,category:D.ec||"",action:D.ea||"",label:D.el||"",value:D.ev||""}:{}}(y.get("hitPayload"));T.event==="event"&&ze("ga",T)})}),dt("gaClientSent")||(hj.metrics.count("ga-version",{tag:{version:"ga"}}),xe("gaClientSent",!0)))}},"ga.forward_events")},js=gt("ga.send_hjuid"),ji=60,Ze=!0,En=!1,jo=hj.tryCatch(function(){En||(En=!0,hj.store.session.on("user.id",function(h){typeof h!="string"||h.length<8?js("invalid userid: '".concat(h,"'")):(js("got userId"),De=h.substring(0,8),Sn())}),Re())},"integrations.googleAnalytics"),Re=hj.tryCatch(function(){if(!hi){if($e()){dt("gaClientSent")||(hj.metrics.count("ga-version",{tag:{version:"ga"}}),xe("gaClientSent",!0));var h=window[window.GoogleAnalyticsObject||"ga"];return js("`ga` variable is available, waiting for tracker."),void h(function(l){Hs(l,!0)})}ji<=0?js("given up looking for GA module"):(ji-=1,setTimeout(Re,500))}},"integrations"),Hs=hj.tryCatch(function(h,l){h&&(hi&&l||(hi!==h&&(js("got fresh tracker"),Ze=!0),hi=h,Sn()))},"integrations"),Sn=hj.tryCatch(function(){Ze&&De&&hi&&(Ze=!1,hi.send("event","Hotjar","detect_user",De,{nonInteraction:1}),js("successfully sent detect_user event"))},"integrations"),Ho={setup:jo,setTracker:hj.tryCatch(function(h){Hs(h,!1)},"integrations.googleAnalytics")},wr=gt("ga.send_hjuid_gtag"),br=!1,Bo=hj.tryCatch(function(){if(!br){br=!0;var h=window.dataLayer;h!==void 0?(dt("datalayerSent")||(hj.metrics.count("ga-version",{tag:{version:"datalayer"}}),xe("datalayerSent",!0)),dt("gtagClientSent")||(hj.metrics.count("ga-version",{tag:{version:"gtag"}}),xe("gtagClientSent",!0)),hj.store.session.on("user.id",function(p){if(p&&typeof p=="string"&&!(p.length<8)){var m=p.substring(0,8);l("set","user_properties",{hjuid:m}),l("event","detect_user",{event_category:"Hotjar",event_label:m,non_interaction:!0})}})):wr("`dataLayer` is undefined")}function l(){var p;wr("calling gtag(".concat((p=arguments,Array.from(p).map(function(m){return JSON.stringify(m)})),")")),h.push(arguments)}},"ga.send_hjuid_gtag"),Hi={forwardEvents:Es,sendHotjarUserId:Ho,sendHotjarUserIdGtag:{setup:Bo}},Fo=function(){return hj.bridge.storage.items.HUBSPOT_UTK.get()!==null},Tr=gt("hubspot","integrations"),$o={setup:hj.tryCatch(function(){Tr("HubSpot setup started"),ct(Fo,function(h){if(h){var l=hj.bridge.storage.items.HUBSPOT_UTK.get();Tr("HubSpot UTK found: ".concat(l)),hj.event.signal("int.hubspot",{utk:l})}else Tr("HubSpot UTK cookie not found")},5e3,5)},"hubspot.setup")},zo=gt("kissmetrics","integration"),Go=function(){return window.KM!==void 0&&window.KM.i!==void 0},qo={setup:hj.tryCatch(function(){ct(Go,function(h){if(h){var l=window.KM.i();zo("Kissmetrics User ID found: ".concat(l)),hj("identify",null,{kissmetrics_id:l})}},5e3,5)},"kissmetrics.setup")},Ar=gt("mixpanel.send_events"),Wo=function(){return window.mixpanel!==void 0&&window.mixpanel.set_config!==void 0},Yo={setup:hj.tryCatch(function(){ct(Wo,function(h){var l,p,m,y;h?(Ar("Registering mixpanel hook"),!Ae&&(l=window.mixpanel.config)!==null&&l!==void 0&&(p=l.hooks)!==null&&p!==void 0&&p.before_send_events&&(Ae=(m=window.mixpanel.config)===null||m===void 0||(y=m.hooks)===null||y===void 0?void 0:y.before_send_events),window.mixpanel.set_config({hooks:{before_send_events:function(T){Ae&&Ae(T);var x=Xt(T.event);return Ar("sending mixpanel payload: ".concat(T.event)),hj("event","MP_".concat(x)),hj.event.signal("int.mp",{event:x}),T}}})):Ar("mixpanel global object not found or set_config not ready")},3e3,5)},"mixpanel.setup")},Bi=gt("optimizely","integration"),Ss=window.optimizely;function vn(){Bi("looking for tags.");var h=Ss.get("state").getExperimentStates({isActive:!0});for(var l in h){var p=h[l],m=(p.isInExperimentHoldback?"HB_":"")+p.experimentName,y=p.variation.name||p.variation.id;hj.event.signal("exp.opt",{experimentId:m,variantId:y}),hj("event",m+"/"+y)}}var Xo={setup:hj.tryCatch(function(){Ss!==void 0&&typeof Ss.push=="function"&&typeof Ss.get=="function"&&Ss.get("state")!==void 0&&Ss.get("data")!==void 0?(Bi("listening for campaignDecided event."),(Ss=window.optimizely||[]).push({type:"addListener",filter:{name:"campaignDecided"},handler:function(h){h.name==="applied"&&(Bi("campaign decided; ready to tag experiments."),vn())}}),vn()):Bi("`window.optimizely` is not ready")},"optimizely.setup")},ui={setup:hj.tryCatch(function(){window.ub!==void 0&&window.ub.page!==void 0&&window.ub.page.variantId!==void 0?(hj.log.debug("Unbounce experiment in page '".concat(window.ub.page.name,"' is on variant '").concat(window.ub.page.variantId,"'"),"integration",window.ub),hj.event.signal("exp.ub",{experimentId:window.ub.page.name,variantId:window.ub.page.variantId}),hj("event","".concat(Xt(window.ub.page.name),"-variant-").concat(window.ub.page.variantId))):hj.log.debug("Unbounce experiment not found","integration")},"unbounce.setup")},Ko=hj.tryCatch(function(){var h=hj.settings.integrations;if(h){var l=hj.bridge.getSessionUserId();hj.store.session.set("user.id",l),h.optimizely&&h.optimizely.tag_recordings&&Xo.setup(),h.google_analytics&&(h.google_analytics.tag_sessions&&Hi.forwardEvents.setup(),h.google_analytics.send_hotjar_id&&(Hi.sendHotjarUserId.setup(),Hi.sendHotjarUserIdGtag.setup())),h.unbounce&&h.unbounce.tag_recordings&&ui.setup(),h.mixpanel&&h.mixpanel.send_events&&Yo.setup(),h.hubspot&&h.hubspot.enabled&&h.hubspot.send_recordings&&$o.setup(),h.abtasty&&h.abtasty.tag_recordings&&li.setup(),h.kissmetrics&&h.kissmetrics.send_user_id&&qo.setup()}},"integrations"),_n=!1,di=function(h){var l=h.title,p=h.message,m=h.status,y=window.hjLazyModules;_n?hj.widget.renderNotificationWidget({title:l,message:p,status:m}):gs(y.NOTIFICATION,function(){_n=!0,hj.widget.renderNotificationWidget({title:l,message:p,status:m})})};function pi(){return pi=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(h[m]=p[m])}return h},pi.apply(this,arguments)}var ts,fi=(ts={_sendVerifyInstallation:function(h){var l="".concat(hj.apiUrlBase,"/client/sites/").concat(hj.settings.site_id,"/verify-installation?sv=").concat(_hjSettings.hjsv||0);hj.ajax.post(l,{},hj.tryCatch(h,"init._sendVerifyInstallation"))},_reportVerificationResults:function(h,l,p){if(h){var m=Ne.hasFeature("tcvs_v2")?"https://".concat(hj.environment==="live"?"tcvsapi.contentsquare.com":"gateway-tcvs.staging.eu-west-1.csq.io","/v1/verification/").concat(h,"/result"):"".concat(hj.apiUrlBase,"/tcvs/verification/").concat(h,"/result"),y=pi(pi({},p&&{error_detail:p}),{},{status:l});(Ne.hasFeature("tcvs_v2")?hj.ajax.postAsJSON:hj.ajax.post)(m,y,function(){hj.tcVerificationResultsSent=!0},function(T){T&&T.status!==400&&T.status!==404&&hj.exceptions.log(new Error("TCVS endpoint failed"),"init._reportVerificationResults"),hj.tcVerificationResultsSent=!0})}}},{verifyInstallationAuto:function(){if(hj.settings.tracking_code_verified)hj.log.debug("Tracking code verified.","init");else{hj.log.debug("Tracking code verified not found, updating first data.","init");var h="".concat(hj.apiUrlBase,"/client/sites/").concat(hj.settings.site_id,"/verify-installation/auto");hj.ajax.post(h,{},void 0,function(l){hj.exceptions.log(new Error("Url: ".concat(h," - Status: ").concat(l.status)),"init._verifyInstallationAuto")})}},verifyInstallation:function(){var h,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Hotjar",p=O("hjVerifyInstall"),m=O("hjVerifyUUID"),y=function(){di({title:"".concat(l," installation invalid"),message:"The tracking code you are trying to verify does not match the one installed on this page. Please make sure you install the correct tracking code provided for this site.",status:"bad"}),ts._reportVerificationResults(m,"wrong_code",{expected:String(hj.verifyInstall),actual:String(hjSiteSettings.site_id)});var J="Passed Site ID: ".concat(hj.verifyInstall," != Configured Site ").concat(hj.settings.site_id);hj.exceptions.log(new Error(J),"init._verifyInstallation")};try{h=sessionStorage.getItem("hjVerifyInstall")}catch{}if(p||h){hj.verifyInstall=parseInt(p||h);try{sessionStorage.setItem("hjVerifyInstall",p||h)}catch{}if(window.hjBootstrapCalled&&window.hjBootstrapCalled.length>1){var T,x=window.hjBootstrapCalled.filter(function(J,rt){return window.hjBootstrapCalled.indexOf(J)===rt}),D="You have "+window.hjBootstrapCalled.length+" tracking scripts installed on your site. ",R=window.hjBootstrapCalled.length===2?"script as this":"scripts as these",H=!!window.dataLayer;x.length>1?(T=D+"Please remove the duplicate "+R+" will cause issues.",di({title:"Multiple different ".concat(l," scripts detected"),message:T,status:"bad"}),ts._reportVerificationResults(m,"multiple_codes",{expected:String(hj.verifyInstall),actual:x,gtm:!1})):H?(T=D+"If you've installed ".concat(l," through GTM - please remove the duplicate ")+R+" will cause issues.",ts._reportVerificationResults(m,"multiple_codes",{expected:String(hj.verifyInstall),actual:x,gtm:!0}),di({title:"Multiple ".concat(l," scripts detected"),message:T,status:"bad"})):hj.verifyInstall===hj.settings.site_id?(T=D+"This will not affect data collection, but we do suggest removing redundant scripts.",ts._reportVerificationResults(m,"warning",{expected:String(hj.verifyInstall),reason:"multiple scripts"}),di({title:"Multiple ".concat(l," scripts detected"),message:T,status:"warning"})):y();var W="Passed Site ID: "+hj.verifyInstall+" contains multiple scripts "+window.hjBootstrapCalled.join(", ");hj.exceptions.log(new Error(W),"init._verifyInstallation")}else hj.verifyInstall===hj.settings.site_id?(ts._sendVerifyInstallation(function(J){J.success||hj.exceptions.log(new Error("Verify installation endpoint failed"),"init._verifyInstallation")}),di({title:"".concat(l," installation verified"),message:"The ".concat(l," tracking code has been properly installed on this page. ")+"Browse your site in this window if you wish to verify installation on any other pages.",status:"good"}),ts._reportVerificationResults(m,"ok")):y()}}}).verifyInstallation,Jo=r.u6,wn=r.b2,Qo=r.Vv,Zo=r.pF,bn=r.XA,ta=r.fd,ea=r.ec;return{gn:Jo,fn:wn,pn:Qo,vn:Zo,yn:bn,mn:ta,jn:ea}}(),Wm=Pi.gn,Ym=Pi.fn,Xm=Pi.pn,Ya=Pi.vn,Ru=Pi.yn,Xa=Pi.mn,Km=Pi.jn;function Cu(){window._uxa.push(["replay:link:generate",{},({isRecording:s,replayLink:r})=>{typeof hj=="function"&&s&&r&&hj("identify",null,{contentsquare_replay_link:`https://${r}&vd=hotjar`})}])}function Jm(s){let r=!1,t,e={},i=["event","trigger","identify"];function n(f){return!hj.optOut&&csArray.prototype.indexOf.call(i,f)>=0}function o(){Object.defineProperty(t,"push",{writable:!0,value:function(){for(let f=0;f<arguments.length;f+=1)this[this.length]=arguments[f];return c(),this.length}})}function c(){let f=csArray.prototype.slice.call(csArray.prototype.shift.call(t)),_=e[f[0]],w=csArray.prototype.slice.call(f,1);hj.log.debug("Processing command: "+f[0]+" "+csArray.prototype.join.call(csArray.prototype.map.call(w,function(A){return(typeof A=="object"||typeof A=="function")&&A!==null?csJSON.stringify(A):A}),", ")),typeof _!="function"?hj.log.debug('Unknown command: "'+f[0]+'"',"command"):n(f[0])?q.tryToExecute("hj-command",_)(w):hj.log.debug('Command "'+f[0]+'" blocked due to opt-out',"command"),t.length>0&&q.tryToExecute("hj-queue-command",c)()}function u(f){f[0]&&hj.event.signal("trigger:"+f[0])}function d(f){let _=f[0];if(f[1]){let w;!_&&_!==0||_==="null"||_==="undefined"?w=null:w=csString(_),hj.userAttributes.set(w,f[1])}else _!=null&&typeof _=="object"&&hj.userAttributes.set(null,_)}return e.event=function(f){if(u(f),f&&f.length>0){let _=f[0];s.pushExternalEvents([_])}},e.identify=function(f){d(f)},e.trigger=function(f){u(f)},{activate:function(){!r&&hj&&(t=hj.q,r=!0,o(),t.length>0&&c())},isActive:()=>r}}var Qm=s=>{let{accountId:r,accountSignature:t,projectId:e,siteId:i,surveys:n,hashes:o}=s,c=window.CS_INTEGRATIONS_CONF&&window.CS_INTEGRATIONS_CONF["hubspot-client-side"];hj.settings={...hj.settings,account_id:r,account_signature:t,cs_project_id:e,features:[],integrations:{hubspot:{enabled:!!c,send_surveys:(c==null?void 0:c.settings)==null?void 0:csArray.prototype.includes.call(c==null?void 0:c.settings,"sendSurveyResponses")}},polls:n,site_id:i,user_attributes_enabled:!0},window.hjLazyModules=o},Zm=(()=>{class s{constructor(t,e,i,n){this.f=t,this.I=e,this.w=i,this.we=n}init(){window.hjSiteSettings&&(hj.settings=window.hjSiteSettings),this.f.vocData&&Qm(this.f.vocData),new Au(this.we).listen({vocEnabled:!0,integrationsEnabled:!1}),Ru()}Oo(){let t=this.w.getUrl();hj.currentUrl=t,Ya(),Cu(),Xa(t)}onAfterNaturalPageView(){this.Oo()}onAfterArtificialPageView(){this.Oo()}onStartNoTrackingMode(){this.I.createOrUpdateVisitor()}}return s})(),ty=(()=>{class s{constructor(t,e,i,n,o){this.f=t,this.Z=e,this.Us=i,this.ae=n,this.pt=o}init(){this.Z.onChildMessage((t,e,i)=>this.pt.emitIframeEvent(t,e,i)),this.Z.setSentiveStatusCallback(()=>this.ae.getSensitiveStatus()),this.Z.setRecordingContextCallback(()=>this.Us.getRecordingContext())}onStartTracking(){this.f.iframesTracking&&this.Z.start()}onOptout(){this.f.iframesTracking&&this.Z.stop()}onSensitiveStatusChange(){if(this.f.iframesTracking){let t=this.ae.getSensitiveStatus();this.Z.onSensitiveStatusChange(t)}}onRecordingContextChange(){if(this.f.iframesTracking){let t=this.Us.getRecordingContext();this.Z.onRecordingContextChange(t)}}}return s})(),re=(()=>{class s{constructor(){this._isStarted=!1}get isStarted(){return this._isStarted}start(...t){this._isStarted||(this._isStarted=!0,this.onStart(...t))}stop(){this._isStarted&&(this._isStarted=!1,this.onStop())}restart(){this.stop(),this.start()}}return s})(),Iu=(()=>{class s extends re{constructor(t){super(),this.f=t,this.Uc=0,this.be=new Map,this.$d={boundElement:window,type:"message",listener:e=>this.jc(e)}}onChildMessage(t){this.zd=t}setRecordingContextCallback(t){this.UE=t}setSentiveStatusCallback(t){this.jE=t}onSensitiveStatusChange(t){let e=Tt.buildBaseMessage($.SensitiveStatus,Ce.Parent,this.f.projectId);e.content=t;let i=Tt.buildBaseMessage($.SensitiveStatus,Ce.Parent,this.f.projectId);i.content={...t,started:!1,useAnonymization:!0,capturedElementSelector:""},this.be.forEach(n=>{if(n.port){let o=this.Mo(n)?i:e;this.Hc(n,o)}})}onRecordingContextChange(t){let e=Tt.buildBaseMessage($.RecordingContext,Ce.Parent,this.f.projectId);e.content=t,this.be.forEach(i=>{!this.Mo(i)&&i.port&&this.Hc(i,e)})}sendToChildren(t,e){let i=Tt.buildBaseMessage(t,Ce.Parent,this.f.projectId);i.content=e,this.HE(i)}onStart(){Dt(this.$d,!1),this.Gd()}onStop(){this.BE(),xt(this.$d,!1),this.FE()}Gd(){let t=this.$E();this.zE(t),csArray.prototype.forEach.call(t,e=>{if(this.GE(e)===null){let n={iframe:e};this.be.set(this.Uc,n),this.Uc+=1}}),this.qE()}$E(){return csArray.prototype.filter.call(Ct.findAllElements("iframe"),t=>this.WE(t))}zE(t){this.be.forEach((e,i)=>{e.iframe&&csArray.prototype.indexOf.call(t,e.iframe)===-1&&this.YE(i,e)})}YE(t,e){e.port&&Tt.closeChannelPort(e.port),this.be.delete(t)}FE(){this.be.forEach(t=>{t.port&&Tt.closeChannelPort(t.port)}),this.be.clear()}GE(t){let e=null;return this.be.forEach((i,n)=>{e===null&&i.iframe===t&&(e=n)}),e}WE(t){return t.id!==Wh&&(!t.src||se(t.src,"about:")||kc(uu(t.src),this.f.hostnames))}HE(t){this.be.forEach(e=>{this.Hc(e,t)})}Hc(t,e){let i=e.type===$.SensitiveStatus||e.type===$.RecordingContext;t.port&&(!i||t.initialStatusSent)&&Tt.sendChannelMessage(t.port,e)}qE(){this.be.forEach((t,e)=>{if(t.iframe.contentWindow){let i=this.XE(e);Tt.sendPostMessage(t.iframe.contentWindow,"*",i)}})}BE(){let t=this.KE();this.be.forEach(e=>{e.port?Tt.sendChannelMessage(e.port,t):e.iframe.contentWindow&&Tt.sendPostMessage(e.iframe.contentWindow,"*",t)})}XE(t){return Tt.buildBaseMessage($.Discovery,Ce.Parent,this.f.projectId,t)}KE(){return Tt.buildBaseMessage($.Stop,Ce.Parent,this.f.projectId)}JE(t,e){let i=this.be.get(t);if(i===void 0){q.error(`Parent received channel messaging initialization from unknow child id : ${t} (${this.Uc})`);return}i.port=e,i.port.onmessage=n=>{this.Bc(n,i)}}QE(t){if(!t.port)return;let e=Tt.buildBaseMessage($.SensitiveStatus,Ce.Parent,this.f.projectId),i=this.jE();this.Mo(t)&&(i.started=!1,i.capturedElementSelector="",i.useAnonymization=!0),e.content=i,Tt.sendChannelMessage(t.port,e)}ZE(t){if(!t.port)return;let e=Tt.buildBaseMessage($.RecordingContext,Ce.Parent,this.f.projectId),i=this.UE();this.Mo(t)&&(i.isRecording=!1),e.content=i,Tt.sendChannelMessage(t.port,e)}Bc(t,e){if(e===void 0){q.error(`Parent received channelMessage from unknown child : ${csJSON.stringify(t.data)}`);return}let i=t.data.type,n=t.data.content;i===$.EndOfBufferedMessages?(this.QE(e),this.ZE(e),e.initialStatusSent=!0):this.zd(e.iframe,i,n)}jc(t){if(Tt.isMessageValid(t,Ce.Child,this.f.projectId,this.f.hostnames))switch(t.data.type){case $.Discovery:if(t.data.id===void 0){this.Gd();return}if(t.ports&&t.ports.length===1&&this.be.has(t.data.id)){this.JE(t.data.id,t.ports[0]);return}q.error(`Parent received wrong channelMessage initialization : (${t.origin}) : ${csJSON.stringify(t.data)}`);break;case $.ChildLogMessage:this.zd(null,$.ChildLogMessage,t.data.content);break;default:q.warn(`Parent received unexpected postMessage type from child (${t.origin}) : ${csJSON.stringify(t.data)}`)}}Mo(t){return Y.isMaskedElement(t.iframe)||Y.isMaskedElementChild(t.iframe)}}return s})(),Ti;(function(s){s.ContentSquare="CONTENTSQUARE",s.LoadedByClicktale="LOADED_BY_CLICKTALE",s.LoadClicktalePtc="LOAD_CLICKTALE_PTC",s.DualCollectionReview="DUAL_COLLECTION_REVIEW",s.DualCollection="DUAL_COLLECTION",s.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"})(Ti||(Ti={}));function Pu(s){return s.tagDeploymentMode===Ti.DualCollectionReview||s.tagDeploymentMode===Ti.DualCollection}function ey(s){return Pu(s)||s.tagDeploymentMode===Ti.LoadClicktalePtc}var Bl=(()=>{let s;return function(r){function t(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()}r.isRecording=t;function e(){window.ClickTaleStop&&window.ClickTaleStop()}r.stopRecording=e;function i(c){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(c)}r.triggerLogicalPageView=i;function n(c){window.ClickTaleEvent&&window.ClickTaleEvent(c)}r.sendPageEvent=n;function o(c){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(c)}r.sendEventTriggerRecording=o}(s||(s={})),s})(),Ou=(()=>{class s{constructor(t){this.ft=t}on(t,e){return i=>{this.ft.hasValidEventTarget(i)&&this.nS(i,t)&&e(i)}}nS(t,e){let i=te(t);return be.call(i,e)}isMatchesSelectorSupported(){return!!be}}return s})(),sy=(()=>{class s extends re{constructor(){super(),this.Yd=0}onStart(){q.isPerfLoggingActive()&&(this.Wr=window.csSetInterval(()=>this.Xd(),s.oS))}onStop(){q.isPerfLoggingActive()&&(this.Xd(),csClearInterval(this.Wr))}Xd(){this.Yd>=s.aS||at.counters.methodPerformance.flush()&&this.Yd++}}return s.oS=5e3,s.aS=5,s})(),iy=(()=>{class s{constructor(){}init(){this.Kd=new sy}onStartTracking(){this.Kd.start()}onOptout(){this.Kd.stop()}}return s})(),Fl=(()=>{let s;return function(r){function t(n){return L(n)||Lt(n)}r.isValidIdentity=t;function e(n){let o=!1;return i(n)&&(o=!!n.hash),o}r.parseIdentityOptionsHash=e;function i(n){return Ot(n)&&He(n)&&"hash"in n}}(s||(s={})),s})(),Ka=["identify"],ry=["getIdentity"],Nu=["resetIdentity"],ny=s=>{let r=s*60*1e3;return`${Math.floor(csDate.now()/r)}`},oy=5e3,ay=(()=>{class s extends Oc{constructor(t,e,i){super(t,e),this.Xi=null,this.dS=(i==null?void 0:i.type)||"json",this.Zd=i==null?void 0:i.cacheMinutes,this.Vr=i==null?void 0:i.timeout}onLoad(t){this.qi=t}onError(t){this.Lr=t}onTimeout(t,e){this.pi=t,this.Vr=e}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,n=>n());let t=this.retrieveParameters();this.gc(t);let e=Pc.toQuery(t),i=`${this.domainUri}${this.path?`/${this.path}`:""}?${e}`;this.pS(i,this.dS)}abort(){this.Xi&&(this.Xi.abort(),this.Xi=null)}isInProgress(){return this.Xi!==null}pS(t,e){var i;let n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType=e,n.onerror=()=>{var o;return(o=this.Lr)===null||o===void 0?void 0:o.call(this,n)},n.ontimeout=()=>{var o;return(o=this.pi)===null||o===void 0?void 0:o.call(this,n)},n.onload=()=>{var o,c;n.status>=200&&n.status<400?((o=this.qi)===null||o===void 0||o.call(this,this.fS(n,e)?n.response:n.responseText),csArray.prototype.forEach.call(this.afterRequestCallbacks,u=>u())):(c=this.Lr)===null||c===void 0||c.call(this,n)},n.onloadend=()=>{this.Xi=null},n.timeout=(i=this.Vr)!==null&&i!==void 0?i:oy,this.Xi=n,n.send()}fS(t,e){let i=t.getResponseHeader("Content-Type");return i===null?e==="json":csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(i),"json")>0}gc(t){let e;this.Zd?e=`${ny(this.Zd)}`:e=csString.prototype.slice.call(`${Math.random()}`,2,8),t.r=e}}return s})(),$l=(()=>{let s;return function(r){function t(n){return ft(n)}r.isValidProperties=t;let e=255;function i(n){let o={};for(let c of Object.keys(n)){let u=n[c];if(L(u)||Lt(u)){let d=ge.truncate(csString(c),e);o[d]=ge.truncate(csString(u),e)}}return o}r.sanitizeProperties=i}(s||(s={})),s})(),Ja=["addUserProperties"],cy=(()=>{class s extends re{constructor(){super(),this.$c=[]}onStart(){csArray.prototype.forEach.call(this.$c,t=>this.triggerHotjarEvent(t)),this.$c=[]}onStop(){}triggerHotjarEvent(t){if(!this.isStarted){csArray.prototype.push.call(this.$c,t);return}this.zc(t)&&hj("event",t)}zc(t){return L(t)}}return s})(),ly=60*60*24*1e3,hy=ly*365,da=(s,r,t=hy)=>({add:e=>{let i=r.get(s),n=i?`${i},${e}`:e;r.set({key:s,value:n,duration:t})},exists:e=>{let i=(r.get(s)==null?void 0:csString.prototype.split.call(r.get(s),","))||[];for(let n=0;n<i.length;n++)if(csString(e)===i[n])return!0;return!1},remove:e=>{let i=(r.get(s)==null?void 0:csString.prototype.split.call(r.get(s),","))||[],n=csArray.prototype.join.call(csArray.prototype.filter.call(i,o=>o!==csString(e)),",");r.set({key:s,value:n,duration:t})}}),zi=(s,r,t=!1)=>({set:e=>r.set({key:s,value:e,useLocalStorage:t}),get:()=>r.get(s,t),clear:()=>r.clear(s,t)}),uy=(()=>{class s{constructor(t,e,i){this.f=t,this.N=e,this.wt=i}get(t,e){return this.f.cookielessTrackingEnabled||e?this.wt.getItem(t):this.N.get(t)||this.wt.getItem(t)}set(t){this.f.cookielessTrackingEnabled||t.useLocalStorage?this.wt.setItem(t.key,t.value):this.N.set(t.key,t.value,t.duration)}clear(t,e){this.f.cookielessTrackingEnabled||e?this.wt.removeItem(t):this.N.delete(t)}}return s})(),dy=(s,r,t)=>{hj.bridge={storage:{items:{POLL_DONE:da("_hjDonePolls",s),POLL_MINIMIZED:da("_hjMinimizedPolls",s),SURVEY_INVITES_CLOSED:da("_hjClosedSurveyInvites",s),DEBUG_FLAG:zi("hjDebug",s),FEEDBACK_SHOW_MESSAGE:zi("_hjShownFeedbackMessage",s),HUBSPOT_UTK:zi("hubspotutk",s),HAS_CACHED_USER_ATTRIBUTES:zi("_hjHasCachedUserAttributes",s),USER_ATTRIBUTES_HASH:zi("_hjUserAttributesHash",s)},localStorage:{USER_ATTRIBUTES:zi("_hjUserAttributes",s,!0)}},getSessionUserId:()=>{let e=r.getVisitor();return e==null?void 0:e.id},getSessionFirstSeen:()=>{},getPageContent:e=>t.getPageContent(e),isRecordingEnabled:()=>!1,flushUserAttributes:()=>null}},er={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11};function Mu(s){return lt.traverse(s,r=>{if(r.nodeType===er.DOCUMENT_FRAGMENT_NODE){let t=lt.getProperty(r,"styles");t&&(r.adoptedStyleSheets=t)}}),s}function py(s){if(s!=null&&s.length)return Xe(s,r=>fy(r))}function ku(){_e(document).visitAll(s=>{var r;if(Ji(s)&&((r=s.adoptedStyleSheets)===null||r===void 0?void 0:r.length)>0){let t=py(s.adoptedStyleSheets);lt.setProperty(s,"styles",t)}})}function fy(s){let r=[];try{r=Xe(s.cssRules,t=>t.cssText)}catch{}return{cssRules:r,disabled:s.disabled}}var zl=new Map,pa=!$r&&document.implementation.createHTMLDocument("");function Du(s){var r,t;return(t=(r=s.sheet)===null||r===void 0?void 0:r.href)!==null&&t!==void 0?t:s.getAttribute("href")}function gy(s){if(!to(s))return null;let r=xu(s);if(r===null||r.length===0)return null;let t="";if(Da(s.textContent))ht(r,e=>t+=e.cssText);else{let e=my(s);if(e===r.length||e>r.length)return null;let i=new csArray(r.length-e);for(let n=e,o=0;n<r.length;n+=1,o+=1)i[o]=r[n];ht(i,n=>t+=n.cssText)}return t}function my(s){if(!pa)return 0;let r=zl.get(s.textContent);if(r)return r;let t=s.cloneNode(!0);t.textContent=s.textContent,pa.head.appendChild(t);let e=xu(t);return r=e?e.length:0,zl.set(s.textContent,r),pa.head.removeChild(t),r}function xu(s){try{if(s.disabled)return null;let r=s.sheet;return r?r.cssRules||r.rules:null}catch(r){if(r.name!=="SecurityError"&&r.name!=="InvalidAccessError")throw r;return null}}var Ir=s=>s instanceof HTMLFormElement?"form":s.localName,Oi=(()=>{class s{constructor(t){this.csId=Rt(t),this.props=Ln.getStore(t)}}return s})(),Lu=(()=>{class s extends Oi{constructor(t){super(t),this.nodeType=3,this.data=t.data}}return s})(),ti=(()=>{class s extends Oi{constructor(t){var e,i,n;super(t),this.attributes=[],this.nodeType=er.ELEMENT_NODE,this.localName=Ir(t),this.namespaceURI=(e=t.namespaceURI)!==null&&e!==void 0?e:void 0,this.children=[];let o=gy(t);if(o){this.children=new csArray(csNodechildNodes.apply(t).length);let c=document.createTextNode(o),u=new Lu(c);csArray.prototype.push.call(this.children,u)}nr(t)&&lt.setProperty(this,"SVG",!0),(to(t)||bc(t))&&(this.disabledSheet=(n=(i=t.sheet)===null||i===void 0?void 0:i.disabled)!==null&&n!==void 0?n:!1)}static isElement(t){return t.nodeType===er.ELEMENT_NODE}static getAttribute(t,e){return Ps(t.attributes,i=>i.name===e)}static getAttributeValue(t,e){var i;return(i=this.getAttribute(t,e))===null||i===void 0?void 0:i.value}}return s})(),yy=(()=>{class s extends Oi{constructor(t){super(t),this.nodeType=4,this.data=t.data}}return s})(),Ey=(()=>{class s extends Oi{constructor(t){super(t),this.nodeType=8,this.data=t.data}}return s})(),Sy=(()=>{class s extends Oi{constructor(t){super(t),this.nodeType=10,this.name=t.name,this.publicId=t.publicId,this.systemId=t.systemId}}return s})(),vy=(()=>{class s extends Oi{constructor(t){super(t),this.nodeType=9,this.baseURI=s.getBaseURI(t),this.children=[]}static getBaseURI(t){let e=t.baseURI;if(e==null){let i=t.getElementsByTagName("base");e=i.length!==0?i[0].href:t.URL}return e}}return s})(),_y=(()=>{class s extends Oi{constructor(t){super(t),this.nodeType=11,this.mode=t.mode,this.children=[]}}return s})(),wy=(()=>{class s{constructor(t,e,i){var n;typeof t=="string"?(this.name=t,this.value=e,this.namespaceURI=i!=null?i:""):(this.name=t.name,this.value=t.value,this.namespaceURI=(n=t.namespaceURI)!==null&&n!==void 0?n:"")}static create(t){let e=t.attributes,i=new csArray(e.length);for(let n=0;n<i.length;n++){let o=e[n];i[n]=new s(o.name,o.value,o.namespaceURI),o.name==="href"&&bc(t)&&(i[n].value=Du(t))}return i}}return s})(),Gl={workTime:40,async:!0,initialDOM:!0},by={serialize:jc()},Mr=csSymbol("InitialDom"),ql=csSymbol.for("ignoreNextSerialization");function Vu(s){return s[ql]?(delete s[ql],!0):!1}function jc(s=Gl){return function(t,e){var i;(i=s.workTime)!==null&&i!==void 0||(s.workTime=Gl.workTime);let n=si("serialize:callback",_=>e(_)),o=new zr,c=(_,w)=>{_.hasChildNodes()&&o.push({node:_,serializedNode:w});let A=_ instanceof Element&&csElementshadowRoot.apply(_);if(A){let V=w.shadowRoot=kr(A);s.async&&s.initialDOM&&lt.setProperty(A,Mr,!0),c(A,V)}},u,d=!0,E=8,f=si("work",()=>{var _;if(d)u=kr(t),s.async&&s.initialDOM&&lt.setProperty(t,Mr,!0),c(t,u),d=!1;else if(o.isEmpty)return;let w=Ry(100);for(;!o.isEmpty;){if(s.async&&w.elapsed()>=s.workTime){--E<=0&&csSetTimeout(f);return}let{node:A,serializedNode:V}=o.pop(),U=(_=V.children)!==null&&_!==void 0?_:[];if(so(A))continue;let P=0;for(let C=csNodefirstChild.apply(A);C;C=csNodenextSibling.apply(C)){if(Vu(C))continue;let j=kr(C);s.async&&s.initialDOM&&lt.setProperty(C,Mr,!0),U[P++]=j,c(C,j)}}s.async?csSetTimeout(()=>n(u)):e(u)});if(!s.async)s.workTime=1/0,f();else for(let _=0;_<E;_++)csSetTimeout(f,1)}}function Ty(s){let r=kr(s),t=r;if(so(s))return r;let e=0;for(let n=csNodefirstChild.apply(s);n;n=csNodenextSibling.apply(n))Vu(n)||(t.children[e++]=Qa(n));let i=s.shadowRoot;return i&&(t.shadowRoot=Qa(i)),r}var Qa=Ci(Ty,"serializeSync");function kr(s){let r,t;switch(s.nodeType){case 1:t=r=new ti(s),r.attributes=Cy(s);break;case 3:t=new Lu(s);break;case 4:t=new yy(s);break;case 8:t=new Ey(s);break;case 10:t=new Sy(s);break;case 9:t=new vy(s);break;case 11:t=new _y(s);break;default:throw new Error("Node type not supported: "+s.nodeType)}return t}function Ay(){Mr=csSymbol("InitialDom")}function Ry(s){if(s<1)throw new Error("Precision should be >= 1");let r=0,t=K.elapsed();return{started:t,elapsed(){return++r%s===0&&(t=K.elapsed()),t-this.started}}}function Cy(s){return so(s)?[]:wy.create(s)}var Iy=(()=>{class s{constructor(t,e,i,n,o){this.gS=t,this.f=e,this.ce=i,this.nt=n,this.Bt=o}getPageContent(t){this.ce.setMaskedElementSettings(this.nt.getMaskedElementSettings()),this.ce.startIdentifier(),this.Bt.start(),ku(),by.serialize(document,e=>{let i=Mu(e),n=csArray.prototype.reduce.call(this.gS,(o,c)=>c.sanitize(o),i);this.Bt.stop(),t(csJSON.stringify(n),this.f.projectId)})}}return s})(),Py=(()=>{class s{constructor(){}sanitize(t){return lt.traverse(t,e=>{if(e instanceof ti){let i=Y.getMaskedAttributeDetails(e);e.attributes=this.Vo(e,i);let n=Y.getMaskedElementDetails(e);n.state===Y.MaskedElementState.Parent&&this.Gc(e,n)}}),t}Vo(t,e){return e.attributes.length===0?t.attributes:csArray.prototype.filter.call(t.attributes,i=>csArray.prototype.indexOf.call(e.attributes,i.name)===-1)}Gc(t,e){let i=`width: ${e.width}px !important; height: ${e.height}px !important;`;t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),ti.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})}}return s})(),Oy=/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g,Ny="\uFF41",My=/[^ａ\s]/g,ky="a";function fa(s){let r=csString.prototype.replace.call(s,Oy,Ny);return csString.prototype.replace.call(r,My,ky)}var Uu=(()=>{class s{constructor(t,e,i,n=null,o=!1){this.Xe=t,this.mS=e,this.M=i,this.Uo=n,this.yS=o,this.ES=ou(this.mS)}sanitize(t,e){return lt.traverse(t,(i,n)=>{if(i.anonymized=this.Xe,i.nodeType===er.TEXT_NODE){let o=i,{anonymizedValue:c,withAnonymization:u}=this.getAnonymizedValue(o.data,n?n==null?void 0:n.localName:e==null?void 0:e.targetLocalName,n?lt.getProperties(n):e==null?void 0:e.targetProps);i.anonymized=u,o.data=c;return}if(ti.isElement(i))return this.SS(i);if(i.nodeType===er.CDATA_SECTION_NODE){let o=i;o.data=this.Xe?fa(o.data):this.M.checkAndAnonymizePII(o.data,this.Uo);return}}),t}setAnonymization(t){this.Xe=t}getAnonymizedValue(t,e,i){if(e==="style")return{anonymizedValue:t,withAnonymization:!1};let n=(i==null?void 0:i[is.ANONYMIZED_TEXT_STATUS_PROP])===is.WHITELISTED_STATUS;return this.Xe&&!n?{anonymizedValue:fa(t),withAnonymization:!0}:{anonymizedValue:this.M.checkAndAnonymizePII(t,this.Uo),withAnonymization:!1}}SS(t){if(lt.getProperty(t,"SVG"))return;let e=Ps(t.attributes,n=>n.name==="type"),i=e==null?void 0:e.value;t.attributes=csArray.prototype.map.call(t.attributes,n=>(n.anonymized=this.Xe,n.value=this.getAnonymizedAttributeValue(t.localName,n.name,n.value,i),n))}getAnonymizedAttributeValue(t,e,i,n){if(this.vS(t,e,n))return i;if(gg(e))return mg(t,e,i)?this.M.anonymizePII(i):i;let o=this.yS&&e==="placeholder";return this.Xe&&(yg(t,e,n)||o)?fa(i):this.Xe?"":this.M.checkAndAnonymizePII(i,null)}vS(t,e,i){return fg(t,e,i)||this.ES.has(e)}}return s})(),Hc=(()=>{let s;return function(r){function t(){let i=navigator.userAgent+navigator.language+navigator.platform,n=csString.prototype.slice.call(e(i).toString(16),-4),o=new csDate().getTime(),c="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,u=>{let d=(o+Math.random()*16)%16|0;return o=Math.floor(o/16),(u==="x"?d:d&7|8).toString(16)});return csString.prototype.replace.call(c,"hhhh",n)}r.generate=t;function e(i){let n=0;for(let o=0;o<i.length;o+=1)n=csString.prototype.charCodeAt.call(i,o)+(n<<6)+(n<<16)-n;return Math.abs(n)}}(s||(s={})),s})(),Dy=["event"],ju=(()=>{class s{constructor(t,e,i,n,o,c,u,d,E){this.E=t,this.we=e,this.f=i,this.N=n,this.wt=o,this.I=c,this.M=u,this.it=d,this.nt=E,this.sp=new cy,this._S=new uy(this.f,this.N,this.wt)}init(){this.E.register(Dy,t=>{this.sp.triggerHotjarEvent(t)}),Ym({uuid:Hc.generate}),dy(this._S,this.I,this.wS())}start(){this.bS(),this.sp.start()}bS(){Jm(this.we).activate()}wS(){let t=new Vc(()=>{}),e=new Uc,i=this.it.shouldUseAnonymization(),n=new Py,o=new Uu(i,this.f.whitelistedAttributes,this.M,this.f.anonymizeDigits);return new Iy([n,o],this.f,t,this.nt,e)}}return s})(),Ie={invitationDisplayed:"surveyInvitationDisplayed",displayed:"surveyDisplayed",submitted:"surveySubmitted",completed:"surveyCompleted",responseUrl:"surveyResponseUrl"},Rr={[Ie.invitationDisplayed]:"Survey Invitation Displayed",[Ie.displayed]:"Survey Displayed",[Ie.submitted]:"Survey Response Submitted",[Ie.completed]:"Survey Completed",[Ie.responseUrl]:"Survey Response URL"},In={[Ie.invitationDisplayed]:"survey_invitation_displayed",[Ie.displayed]:"survey_displayed",[Ie.submitted]:"survey_response_submitted",[Ie.completed]:"survey_completed"},ga="FB_HJ_",xy=(()=>{class s{constructor(t){this.ip=[],this.we=t}Yr(t,e,i,n,o){let c=`${t}-${i}`,u=ga+e,d=o?t:`Survey ID : ${i}`,E=!1,f=`${window.location.pathname}?cs_hotjar=${n}`;csArray.prototype.includes.call(this.ip,c)||(csArray.prototype.push.call(this.ip,c),this.we.pushDynamicVariable(u,d)),E&&n&&this.we.pushPageView(f)}listen(){window.addEventListener("hotjar-survey-event",t=>{if(t&&t.detail&&t.detail.event){let{event:e,surveyId:i,question:n,questionIndex:o,response:c,insightsUrl:u}=t.detail;if(i)switch(e){case Ie.invitationDisplayed:this.Yr(e,Rr.surveyInvitationDisplayed,i,In.surveyInvitationDisplayed);break;case Ie.displayed:this.Yr(e,Rr.surveyDisplayed,i,In.surveyDisplayed);break;case Ie.completed:this.Yr(e,Rr.surveyCompleted,i,In.surveyCompleted);break;case Ie.submitted:{if(this.Yr(e,Rr.surveySubmitted,i,In.surveySubmitted),n){let d=c&&c[0]&&c[0].answer;n.type!="multiple-close-ended"&&n.text&&typeof d!="undefined"&&(isNaN(d)||(d=parseInt(d)),this.we.pushDynamicVariable(`${ga+i} : ${n.text}`,d),this.we.pushDynamicVariable(`${ga+i} : Question ${o+1}`,d))}u&&this.Yr(u,Rr.surveyResponseUrl,i,null,!0)}break}}})}}return s})(),Wl=["start:hotjar"],Ly="static.hj.contentsquare.net",Vy=(()=>{class s{constructor(t,e,i,n,o){this.f=t,this.E=e,this.w=i,this.rp=n,this.we=o,this.mi=!1,this.Xr=!1}init(){var t,e;this.mi=this.f.isSMB,this.Xr=!!(!((t=this.f.voc)===null||t===void 0)&&t.enabled&&(!((e=this.f.voc)===null||e===void 0)&&e.siteId)),this.ht(),this.mi&&this.rp.start()}onAfterNaturalPageView(){this.startHotjar()}onAfterArtificialPageView(){if(this.Xr){let t=this.w.getUrl();hj.currentUrl=t,Ya(),Xa(t)}}startHotjar(){var t;if(this.mi&&window.hjSiteSettings&&(window._uxa.push([Wl,window.hjSiteSettings]),at.counters.trackedFeatures.count("legacy-csq-lite")),!this.mi&&this.Xr){let e=(t=this.f.voc)===null||t===void 0?void 0:t.siteId,i=window.document,n=i.head||i.getElementsByTagName("head")[0],o=i.createElement("script");o.async=!0,o.src=`https://${Ly}/c/hotjar-${e}.js`,o.charset="utf-8",n.appendChild(o),at.counters.trackedFeatures.count("legacy-csq-ent-voc")}}ht(){this.E.register(Wl,t=>{if(t&&(hj.settings=t,Wm(),new Au(this.we).listen({vocEnabled:this.Xr,integrationsEnabled:this.mi}),this.mi?(hj.scriptLoaded=!0,Xm(),Ru(),window.hjBootstrapCalled=csArray.prototype.concat.call(window.hjBootstrapCalled||[],t.site_id),Km("Contentsquare")):this.rp.start(),this.Xr)){let i=this.w.getUrl();hj.currentUrl=i,this.mi||new xy(this.we).listen(),Ya(),Cu(),Xa(i)}})}}return s})(),Yl=250,Za=class{constructor(r){this.X=r}pushPageView(r){window._uxa.push(["trackPageview",r])}pushDynamicVariable(r,t){window._uxa.push(["trackDynamicVariable",{key:r,value:t}])}pushInternalEvents(r){csArray.prototype.forEach.call(r,({key:t,val:e})=>this.pushDynamicVariable(t,e))}pushExternalEvents(r){var t;if(!this.X)return;let e=this.TS(r);for(let i=0;i<e.length;i+=1){let n=this.AS(e[i]);n.length&&n.length<=Yl?(hj.log.debug(`Sending event: tag_recording:${n}`),(t=this.X)===null||t===void 0||t.emitExternalEvent(n)):q.warn(`Invalid recording tag: " ${n} ", should have length 1.. ${Yl} characters, was ${n.length}.`)}}RS(r){let t=typeof r=="string";return!!(qe.mayHaveNumberSequence(r.toString())||t&&csString.prototype.indexOf.call(r,"@")>-1&&qe.mayHaveEmail(r)||t&&qe.mayHaveIPAddress(r))}TS(r){let t=/^[a-zA-Z0-9 _\-.:/]*$/;return r?csArray.prototype.filter.call(r,e=>e?t.test(e.toString())?this.RS(e)?(hj.log.debug("Tag "+e+" has been removed due to possible PII information included"),!1):!0:(hj.log.debug("Tag "+e+" has been removed due to having invalid characters"),!1):!1):[]}AS(r){return typeof r=="string"?csString.prototype.replace.call(r,/^\s+|\s+$/gm,""):""}},Hu=Za,Bc=(()=>{class s{emit(t,e,i,n=document){let c=`${i!==void 0?`${i}`:`${s.CS}`}${t}`,u=s.createEvent(c,{detail:e});u!==null&&n.dispatchEvent(u)}static createEvent(t,e={}){if(typeof CustomEvent=="function")return new CustomEvent(t,e);let i=this.IS();if(i===null)return null;let{bubbles:n=!1,cancelable:o=!1,detail:c}=e;return i.initCustomEvent(t,n,o,c),i}static IS(){try{return document.createEvent("CustomEvent")}catch{return null}}}return s.CS="cs.tracking.",s})(),Fc=(()=>{class s{constructor(){}onLoad(t){this.qi=t}onLoadCallbackExecute(){this.qi()}start(){let t=this.onLoadCallbackExecute.bind(this);this.QS(t)}QS(t){document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?csSetTimeout(t):(document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e));function e(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t()}}}return st([G("onLoad")],s.prototype,"onLoadCallbackExecute",null),s})(),Uy=(()=>{class s{constructor(t){this.Ho=t.performance}getRequestParameters(){if(this.ZS())return{};let t=this.sv();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}}sv(){let t=this.Ho.timing;return{startRender:`${t.domLoading-t.requestStart}`,domInteractive:`${t.domInteractive-t.requestStart}`,domComplete:`${t.domComplete-t.requestStart}`,fullyLoaded:`${t.loadEventEnd-t.requestStart}`}}ZS(){return!(this.Ho&&this.Ho.timing&&this.Ho.timing.loadEventEnd>0)}}return s})(),Ee=(()=>{class s{static build(t,e,i){return csArray.prototype.reduce.call(i,(n,o)=>o.enhanceAnalysisEvent(t,n),e)}}return s})(),nt=(()=>{let s;return function(r){r[r.RESIZE=0]="RESIZE",r[r.SCROLL=1]="SCROLL",r[r.MOUSEMOVE=2]="MOUSEMOVE",r[r.MOUSEDOWN=3]="MOUSEDOWN",r[r.MOUSEUP=4]="MOUSEUP",r[r.CLICK=5]="CLICK",r[r.MOUSEOVER=6]="MOUSEOVER",r[r.MOUSEOUT=7]="MOUSEOUT",r[r.CHANGE=10]="CHANGE",r[r.FOCUSIN=11]="FOCUSIN",r[r.FOCUSOUT=12]="FOCUSOUT",r[r.TAP=14]="TAP",r[r.KEYDOWN=15]="KEYDOWN",r[r.KEYUP=16]="KEYUP",r[r.COMMAND=17]="COMMAND",r[r.SUBMIT_COMMAND=18]="SUBMIT_COMMAND",r[r.PERFORMANCE=19]="PERFORMANCE",r[r.DRAG=20]="DRAG",r[r.FLICK=21]="FLICK",r[r.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",r[r.ZOOM=23]="ZOOM",r[r.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",r[r.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",r[r.DEAD_CLICK=30]="DEAD_CLICK",r[r.DEAD_ZOOM=31]="DEAD_ZOOM",r[r.PAGE_RELOAD=32]="PAGE_RELOAD",r[r.THRASHED_CURSOR=33]="THRASHED_CURSOR",r[r.BLANK_PAGE=34]="BLANK_PAGE",r[r.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",r[r.SUBMIT=36]="SUBMIT",r[r.CUSTOM_EVENT=37]="CUSTOM_EVENT"}(s||(s={})),s})(),ma=(()=>{let s;return function(r){r.SUCCESS="success",r.FAILURE="failure",r.ATTEMPT="attempt"}(s||(s={})),s})(),qi=(()=>{let s;return function(r){r.APPCUES="appcues",r.CHAMELEON="chameleon",r.CONTENTSQUARE="contentsquare",r.SEGMENT="segment",r.WEB="web"}(s||(s={})),s})();function Xl(s){return"text"in s}function ya(s){return"hrchy"in s}function jy(s){return s.tgtHM!==void 0}function Bu(s){return s.tgt!==void 0}function Hy(s){return s.tgtLk!==void 0}function By(s){return s.x!==void 0&&s.y!==void 0}function Fy(s){return s===ma.SUCCESS||s===ma.FAILURE||s===ma.ATTEMPT}function $y(s){return s===qi.APPCUES||s===qi.CHAMELEON||s===qi.CONTENTSQUARE||s===qi.SEGMENT||s===qi.WEB}var Fu=(()=>{class s{constructor(t,e,i){this.Jt=t,this.xt=e,this.At=i}processGesture(t,e){switch(t.type){case Wt.TAP:this.iv(e);break;case Wt.FLICK:this.rv(t,e);break;case Wt.DRAG:this.nv(t,e);break;default:break}}iv(t){let e={type:nt.TAP,ts:0,x:0,y:0,tgt:""},i=Ee.build(t,e,this.Jt);i.tgt!==ns.INVALID_ELEMENT&&this.L(i)}nv(t,e){var i,n;let o={type:nt.DRAG,ts:0,fd:t.direction,tgt:""};!((i=this.At)===null||i===void 0)&&i.collectGestureDistance&&(o.distance=t.distance),!((n=this.At)===null||n===void 0)&&n.collectGestureVelocity&&(o.velocity=t.velocity);let c=Ee.build(e,o,this.Jt);c.tgt!==ns.INVALID_ELEMENT&&this.L(c)}rv(t,e){var i,n;let o={type:nt.FLICK,ts:0,fd:t.direction,tgt:""};!((i=this.At)===null||i===void 0)&&i.collectGestureDistance&&(o.distance=t.distance),!((n=this.At)===null||n===void 0)&&n.collectGestureVelocity&&(o.velocity=t.velocity);let c=Ee.build(e,o,this.Jt);c.tgt!==ns.INVALID_ELEMENT&&this.L(c)}onEvent(t){this.L=t}start(){this.xt.subscribe(s.lp,(t,e)=>this.processGesture(t,e))}stop(){this.xt.unsubscribe(s.lp)}}return s.lp="AnalysisGestureTracker",st([Pt()],s.prototype,"processGesture",null),s})();function co(s,r){typeof r=="number"&&(r={wait:r});let t=r.wait,e=r.mode||"leading",i,n=[],o=null,c=0,u,d=()=>{c=K.now(),o=null,u=s.apply(i,n),n=[],i=null},E=function(...f){if(i=this!==null&&this!==void 0?this:_t,n=[...f],e==="trailing")return o||(o=_t.csSetTimeout(d,t)),u;let _=K.now(),w=t-(_-c);return w<=0||w>t?(c=_,u=s.apply(i,n),o?(_t.csClearTimeout(o),o=null):n=[]):o||(o=_t.csSetTimeout(d,w)),u};return E.cancel=()=>{o&&(_t.csClearTimeout(o),c=0,o=null,n=[])},E.flushPending=()=>{o&&(_t.csClearTimeout(o),d())},E}var ar=s=>(r,t,e)=>{e.value=co(e.value,s)},Kl="data-cs-scroll-container";function zy(s){try{if(Ot(csEventtarget.apply(s)))return!0}catch{}return!1}var Xi=(()=>{let s;return function(r){function t(i){return!!(Ot(i)&&zy(i)&&Ns(csEventtarget.apply(i))&&csEventtarget.apply(i).getAttribute(Kl)!==null)}r.isEventOnScrollContainer=t;function e(){return window.csquerySelector[document.nodeType].call(document,`[${Kl}]`)}r.getScrollContainer=e}(s||(s={})),s})(),Ki=(()=>{let s;return function(r){r[r.COPY=0]="COPY",r[r.CUT=1]="CUT",r[r.PASTE=2]="PASTE"}(s||(s={})),s})(),pt=(()=>{let s;return function(r){r[r.SPACE=0]="SPACE",r[r.ENTER=1]="ENTER",r[r.BACKSPACE=2]="BACKSPACE",r[r.DELETE=3]="DELETE",r[r.ARROWUP=4]="ARROWUP",r[r.ARROWDOWN=5]="ARROWDOWN",r[r.ARROWLEFT=6]="ARROWLEFT",r[r.ARROWRIGHT=7]="ARROWRIGHT",r[r.CAPSLOCK=8]="CAPSLOCK",r[r.SHIFT=9]="SHIFT",r[r.TAB=10]="TAB",r[r.ALPHANUMERICAL=11]="ALPHANUMERICAL",r[r.ESCAPE=12]="ESCAPE",r[r.END=13]="END",r[r.ALT=14]="ALT",r[r.CTRL=15]="CTRL",r[r.META=16]="META"}(s||(s={})),s})(),$u=(()=>{class s{constructor(t,e,i,n=["submit"]){this.Jt=t,this.ft=e,this.Lt=i,this.ov=n,this.hp="select, select *, input, textarea",this.av="select, select *, input, textarea",this.up="a, a *, button, button *, select, select *, input, textarea",this.Kr="input, select, textarea",this.cv="form",this.Bo=150,this.lv=400,this.dp=!1,this.Jr=jr((o,c)=>this.scrollListener(o,c),this.Bo),this.pp=jr(o=>this.resizeListener(o),this.Bo),this.hv=co(o=>this.mouseMoveListener(o),this.lv),this.uv=[{boundElement:window,type:"resize",listener:()=>this.pp()},{boundElement:document,type:"scroll",listener:o=>this.Jr(o)},{boundElement:window,type:"mousemove",listener:o=>{this.hv(jm(o))}},{boundElement:document,type:"mousedown",listener:o=>this.mouseDownListener(o)},{boundElement:document,type:"mouseup",listener:o=>this.mouseUpListener(o)},{boundElement:document,type:"click",listener:o=>this.clickListener(o)}],this.fp=[{type:"change",listener:this.Lt.on(this.av,o=>this.changeListener(o))},{type:"submit",listener:this.Lt.on(this.cv,o=>this.submitListener(o))}],this.pv=[{boundElement:document,type:"mouseover",listener:this.Lt.on(this.up,o=>this.mouseOverListener(o))},{boundElement:document,type:"mouseout",listener:this.Lt.on(this.up,o=>this.mouseOutListener(o))},{boundElement:document,type:"focusin",listener:this.Lt.on(this.hp,o=>this.focusInListener(o))},{boundElement:document,type:"focusout",listener:this.Lt.on(this.hp,o=>this.focusOutListener(o))},{boundElement:document,type:"keyup",listener:this.Lt.on(this.Kr,o=>this.keyUpListener(o))},{boundElement:document,type:"keydown",listener:this.Lt.on(this.Kr,o=>this.keyDownListener(o))},{boundElement:document,type:"copy",listener:this.Lt.on(this.Kr,o=>this.copyListener(o))},{boundElement:document,type:"cut",listener:this.Lt.on(this.Kr,o=>this.cutListener(o))},{boundElement:document,type:"paste",listener:this.Lt.on(this.Kr,o=>this.pasteListener(o))},...csArray.prototype.map.call(this.fp,o=>({...o,boundElement:document}))],this.U={},this.Qc=(o,c)=>{switch(c){case"initial":case"added":this.yi(o);break;case"removed":this.Ei(o);break}},this.le=new or(this.Qc),this.Zc()}yi(t){if(zn(t)){let e=this.gp();csArray.prototype.forEach.call(e,i=>Dt(i))}else{let e=this.mp();csArray.prototype.forEach.call(e,i=>{Dt({...i,boundElement:t})})}}Ei(t){if(zn(t)){let e=this.gp();csArray.prototype.forEach.call(e,i=>xt(i))}else{let e=this.mp();csArray.prototype.forEach.call(e,i=>{xt({...i,boundElement:t})})}}onEvent(t){this.L=t}start(){this.le.observe(),this.yi(document),this.resizeListener()}stop(){this.Ei(document),this.le.disconnect()}flushPendingDebouncedListeners(){this.Jr.flushPending(),this.pp.flushPending()}yp(t){return csArray.prototype.some.call(this.ov,e=>e===t)}mp(){return this.Lt.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.fp,t=>!this.yp(t.type)):(q.warn("Element.matches is not implemented yet"),[])}gp(){let t=[];return csArray.prototype.push.call(t,...this.uv),this.Lt.isMatchesSelectorSupported()?csArray.prototype.push.call(t,...this.pv):q.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(t,e=>!this.yp(e.type))}resizeListener(t){let e=Xi.getScrollContainer(),i=Ns(e);i&&(this.dp=!0);let n={type:nt.RESIZE,ts:0,x:i?e.clientWidth:Yt.windowWidth(),y:i?e.clientHeight:Yt.windowHeight()};t!==void 0&&(n.d=t),this.L(n)}scrollListener(t,e){let i=Xi.isEventOnScrollContainer(e);!this.dp&&i&&this.resizeListener();let n={type:nt.SCROLL,ts:0,x:i?csEventtarget.apply(e).scrollLeft:Yt.windowOffsetX(),y:i?csEventtarget.apply(e).scrollTop:Yt.windowOffsetY(),d:t},o=Ee.build(e,n,this.Jt);this.L(o)}mouseMoveListener(t){let e={type:nt.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},i=Ee.build(t,e,this.Jt);this.L(i)}mouseDownListener(t){let e={type:nt.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Ee.build(t,e,this.Jt);this.he(i)}mouseUpListener(t){let e={type:nt.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Ee.build(t,e,this.Jt);this.he(i)}clickListener(t){let e={type:nt.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Ee.build(t,e,this.Jt);this.he(i)}mouseOverListener(t){let e={type:nt.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Ee.build(t,e,this.Jt);this.he(i)}mouseOutListener(t){let e={type:nt.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.ft.getEventTargetPath(t)},i=Ee.build(t,e,this.Jt);this.he(i)}focusInListener(t){let e={type:nt.FOCUSIN,ts:0,tgt:this.ft.getEventTargetPath(t)},i=Ee.build(t,e,this.Jt);this.he(i)}focusOutListener(t){let e={type:nt.FOCUSOUT,ts:0,tgt:this.ft.getEventTargetPath(t)},i=Ee.build(t,e,this.Jt);this.he(i)}changeListener(t){let e={type:nt.CHANGE,ts:0,tgt:""},i=Ee.build(t,e,this.Jt);this.he(i)}submitListener(t){let e={type:nt.SUBMIT,ts:0,tgt:""},i=Ee.build(t,e,this.Jt);this.he(i)}copyListener(t){let e={type:nt.COMMAND,ts:0,tgt:this.ft.getEventTargetPath(t),key:Ki.COPY};this.he(e)}cutListener(t){let e={type:nt.COMMAND,ts:0,tgt:this.ft.getEventTargetPath(t),key:Ki.CUT};this.he(e)}pasteListener(t){let e={type:nt.COMMAND,ts:0,tgt:this.ft.getEventTargetPath(t),key:Ki.PASTE};this.he(e)}keyUpListener(t){let e={type:nt.KEYUP,ts:0,tgt:this.ft.getEventTargetPath(t),key:this.Ep(t)};this.he(e)}keyDownListener(t){let e={type:nt.KEYDOWN,ts:0,tgt:this.ft.getEventTargetPath(t),key:this.Ep(t)};this.he(e)}Ep(t){let e=this.U[t.key];return e===void 0?pt.ALPHANUMERICAL:e}he(t){Bu(t)&&t.tgt!==ns.INVALID_ELEMENT&&this.L(t)}Zc(){this.U[" "]=pt.SPACE,this.U.Spacebar=pt.SPACE,this.U.Enter=pt.ENTER,this.U.Backspace=pt.BACKSPACE,this.U.Delete=pt.DELETE,this.U.ArrowUp=pt.ARROWUP,this.U.ArrowDown=pt.ARROWDOWN,this.U.ArrowLeft=pt.ARROWLEFT,this.U.ArrowRight=pt.ARROWRIGHT,this.U.Up=pt.ARROWUP,this.U.Down=pt.ARROWDOWN,this.U.Left=pt.ARROWLEFT,this.U.Right=pt.ARROWRIGHT,this.U.CapsLock=pt.CAPSLOCK,this.U.Shift=pt.SHIFT,this.U.Tab=pt.TAB}}return st([G("Event handler type: resize")],s.prototype,"resizeListener",null),st([G("Event handler type: scroll")],s.prototype,"scrollListener",null),st([G("Event handler type: mouseMove"),Pt()],s.prototype,"mouseMoveListener",null),st([G("Event handler type: mouseDown"),Pt()],s.prototype,"mouseDownListener",null),st([G("Event handler type: mouseUp"),Pt()],s.prototype,"mouseUpListener",null),st([G("Event handler type: click"),Pt()],s.prototype,"clickListener",null),st([G("Event handler type: mouseOver"),Pt()],s.prototype,"mouseOverListener",null),st([G("Event handler type: mouseOut"),Pt()],s.prototype,"mouseOutListener",null),st([G("Event handler type: focusIn")],s.prototype,"focusInListener",null),st([G("Event handler type: focusOut")],s.prototype,"focusOutListener",null),st([G("Event handler type: change")],s.prototype,"changeListener",null),st([G("Event handler type: submit"),Pt()],s.prototype,"submitListener",null),st([G("Event handler type: copy")],s.prototype,"copyListener",null),st([G("Event handler type: cut")],s.prototype,"cutListener",null),st([G("Event handler type: paste")],s.prototype,"pasteListener",null),st([G("Event handler type: keyup")],s.prototype,"keyUpListener",null),st([G("Event handler type: keydown")],s.prototype,"keyDownListener",null),s})(),Gy=(()=>{class s{constructor(){this.Sp=100,this.Qr=0,this.Zr=Yt.documentHeight(),this.vp={boundElement:document,type:"scroll",listener:t=>this.maxScrollRateListener(t)},this.Qr=this.tl(Xi.getScrollContainer()).maxScrollRate}onEvent(t){this.L=t}start(){Dt(this.vp)}stop(){xt(this.vp)}reset(){let t=Xi.getScrollContainer(),{maxScrollRate:e,maxDocumentHeight:i}=this.tl(t);this.Zr=i,this.Qr=e,this.L()}tl(t){let e=0,i=0;if(t===null)i=Yt.documentHeight(),e=this.fv(i);else{let n=this.gv(t);i=this._p(t,n),e=this.mv(t,n)}return{maxScrollRate:e,maxDocumentHeight:i}}maxScrollRateListener(t){let e=null;Xi.isEventOnScrollContainer(t)&&(e=csEventtarget.apply(t));let{maxScrollRate:i,maxDocumentHeight:n}=this.tl(e);(i>this.Qr||n>this.Zr)&&(this.Qr=i,n>this.Zr&&(this.Zr=n),this.L())}fv(t){let e=Math.round(this.yv()/t*100);return Math.min(e,this.Sp)}yv(){let t=Yt.windowHeight();return Yt.windowOffsetY()+t}mv(t,e){let i=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+e,n=this._p(t,e),o=Math.round(i/n*100);return Math.min(o,this.Sp)}gv(t){let e=window.getComputedStyle(t).paddingTop||"0px";return parseInt(e,10)}_p(t,e){return t.scrollHeight+t.getBoundingClientRect().top+e}getRequestParameters(){return{sr:`${this.Qr}`,mdh:`${this.Zr}`}}}return st([G("MaxScrollRate handler")],s.prototype,"maxScrollRateListener",null),s})(),je=(()=>{let s;return function(r){r.Visible="visible",r.Hidden="hidden",r.Blur="blur",r.PagehideVisible="pagehideVisible",r.PagehideHidden="pagehideHidden",r.ExitPageByNavigate="exitPageByNavigate"}(s||(s={})),s})(),zu=(()=>{class s{constructor(){this.V=!1,this.Fs=t=>{try{switch(t.type){case"visibilitychange":return document.visibilityState==="hidden"?this.Qt(je.Hidden):this.Qt(je.Visible);case"pagehide":return document.visibilityState==="hidden"?this.Qt(je.PagehideHidden):this.Qt(je.PagehideVisible);case"blur":return this.Qt(je.Blur);case"navigate":return this.Ev(t)?this.Qt(je.ExitPageByNavigate):void 0;default:return}}catch{}}}start(){this.V||(this.V=!0,this.sl(),this.Sv(),this.vv(),ml()&&this._v())}stop(){this.V&&(this.V=!1,this.il(),this.wv(),this.bv(),ml()&&this.Tv())}onEvent(t){this.Qt=t}_v(){window.navigation.addEventListener("navigate",this.Fs)}Tv(){window.navigation.removeEventListener("navigate",this.Fs)}sl(){document.addEventListener("visibilitychange",this.Fs)}il(){document.removeEventListener("visibilitychange",this.Fs)}Sv(){window.addEventListener("pagehide",this.Fs)}wv(){window.removeEventListener("pagehide",this.Fs)}vv(){window.addEventListener("blur",this.Fs)}bv(){window.removeEventListener("blur",this.Fs)}Ev(t){return t instanceof NavigateEvent?!t.hashChange&&!t.downloadRequest&&!t.formData:!1}}return s})(),qy=1024,Wy=512,Ea=1024,Sa="||",Yy=(()=>{class s extends re{constructor(t,e,i,n,o,c,u,d,E,f,_,w,A,V,U,P,C,j,F,M,tt){super(),this.f=t,this.$s=e,this.xt=i,this.er=n,this.rl=o,this.He=c,this.Te=u,this.nl=d,this.G=E,this.Kt=f,this.Q=_,this.ol=w,this.Be=A,this.W=V,this.Fo=U,this.fs=P,this.gs=C,this.al=j,this.Si=F,this.vi=M,this._i=tt,this.Bs=new Bc,this.$o=!1,this.cl=[]}init(){var t,e,i,n,o,c,u;this.$s.onEvent(d=>this.Nt(d)),this.xt.onEvent(d=>this.Nt(d)),this.er.onEvent(()=>{let d=this.er.getRequestParameters();this.W.setQueryParams(d),this.Te.setQueryParams(d)}),this.ol.onEvent(d=>this.Ae(d)),this.ll(),(t=this.Fo)===null||t===void 0||t.onEvent(d=>this.Nt(d)),(e=this.Si)===null||e===void 0||e.onEvent(d=>this.Nt(d)),(i=this.fs)===null||i===void 0||i.onEvent(d=>this.Nt(d)),(n=this.gs)===null||n===void 0||n.onEvent(d=>this.Nt(d)),this.Av(),(o=this.al)===null||o===void 0||o.onEvent(d=>this.Ae(d)),(c=this.vi)===null||c===void 0||c.onEvent(d=>this.Ae(d)),(u=this._i)===null||u===void 0||u.onEvent(d=>this.Ae(d))}Av(){this.Te.onBeaconSuccess(()=>{this.He.clearEvents()}),this.Te.onBeaconFailure(t=>{this.Rv(t)})}initStates(){let t=this.nl.getRequestParameters(),e=this.rl.getRequestParameters(),i=this.er.getRequestParameters();this.W.setQueryParams(t),this.W.setQueryParams(e),this.W.setQueryParams(i),this.Te.setQueryParams(t),this.Te.setQueryParams(e),this.Te.setQueryParams(i),this.ul()}clearStates(t){var e,i;this.$s.flushPendingDebouncedListeners(),(e=this.fs)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.gs)===null||i===void 0||i.flushPendingTextHighlightEvent(),t?(this.dl(),this.sendLastMessageBeacon()):this.sendEvents(),this.er.reset(),this.W.removeQueryParams()}onStart(t){var e,i,n,o,c,u,d;t||(e=this.al)===null||e===void 0||e.start(),this.Be.start(),this.$s.start(),this.er.start(),this.xt.start(),(i=this.Fo)===null||i===void 0||i.start(),(n=this.gs)===null||n===void 0||n.start(),t||this.ol.start(),(o=this.fs)===null||o===void 0||o.start(),(c=this.Si)===null||c===void 0||c.start(),(u=this.vi)===null||u===void 0||u.start(),(d=this._i)===null||d===void 0||d.start(),csArray.prototype.forEach.call(this.cl,E=>{this.Ae(E)}),this.cl=[]}collectInitialEvents(){var t;(t=this.Fo)===null||t===void 0||t.collectInitialEvents()}onIframeAnalysisBrowserEvent(t){this.Ae(t)}onIframeAnalysisUserEvent(t){this.Nt(t)}onExternalEvent(t){this.J(t)}Ae(t){this.G.isCurrentPageviewValid()&&this.J(t)}Nt(t){this.G.refreshSession(),this.G.isSessionValid()&&this.J(t)}J(t){this.He.addEvent(this.Cv(t)),this.He.isFull()&&this.sendEvents(),this.f.emitDebugEvents&&this.Bs.emit("analysisEvent",{...t,typeName:nt[t.type]})}Cv(t){return t.ts=this.wi(),t}dl(){this.Te.setQueryParams({hlm:"true"}),this.$o=!0}sendLastMessageBeacon(){this.Te.removeQueryParams(["i"]),this.Te.setQueryParams(this.nl.getRequestParameters()),this.Te.setQueryParams(this.rl.getRequestParameters()),this.Te.send(this.He.stringifyEvents()),this.Te.removeQueryParams(["hlm"]),this.$o=!1}sendEvents(){this.He.isEmpty()||(this.Te.removeQueryParams(["i"]),this.W.setQueryParams(this.nl.getRequestParameters()),this.W.setQueryParams(this.rl.getRequestParameters()),this.W.send(this.He.getEvents()),this.He.clearEvents())}onStop(){var t,e,i,n,o,c,u;this.Be.stop(),this.$s.stop(),this.er.stop(),this.xt.stop(),this.ol.stop(),(t=this.Fo)===null||t===void 0||t.stop(),(e=this.fs)===null||e===void 0||e.stop(),(i=this.gs)===null||i===void 0||i.stop(),(n=this.Si)===null||n===void 0||n.stop(),this.He.empty(),(o=this.al)===null||o===void 0||o.stop(),(c=this.vi)===null||c===void 0||c.stop(),(u=this._i)===null||u===void 0||u.stop()}ul(){this.Je=K.now()}wi(){return K.now()-this.Je}ll(){this.Be.onEvent(t=>{var e,i;t!==je.Visible&&((e=this.fs)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.gs)===null||i===void 0||i.flushPendingTextHighlightEvent(),t===je.PagehideVisible?this.dl():t===je.PagehideHidden?(this.dl(),this.sendLastMessageBeacon()):(!this.He.isEmpty()||this.$o)&&this.sendLastMessageBeacon())})}Rv(t){try{(!this.He.isEmpty()||this.$o)&&this.Kt.save({requestParameters:t,events:this.He.getEvents()})}catch{}}pushSubmitCommandEvent(t,e){if(!Fy(t)||!Ns(e))throw new Error(`Command misuse: ${Wc}`);let i={status:t,type:nt.SUBMIT_COMMAND,ts:0,tgt:this.Q.getElementPath(e)};i.tgt!==ns.INVALID_ELEMENT&&this.Ae(i)}pushCustomEvent(t,e,i){if(!(L(t)&&!Da(t))||i!==void 0&&!ft(i))throw new Error(`Command misuse: ${nc}`);let n=$y(e)?e:qi.WEB,o=this.Iv(i),c={type:nt.CUSTOM_EVENT,ts:0,customEventName:ge.truncate(t,qy),sourceLibrary:n,...ka(o)?{}:{properties:o}};this.isStarted?this.Ae(c):csArray.prototype.push.call(this.cl,c)}Iv(t){let e={};for(let i in t){if(i.length>Wy)continue;let n=t[i];if(Lt(n)||Ur(n))e[i]=csString(n);else if(this.wp(n))e[i]=ge.truncate(n,Ea);else if(this.Pv(n)){let o=this.Ov(n);o!==""&&(e[i]=o)}}return e}Ov(t){let e="";for(let i=0;i<t.length;i++){let n=t[i];if(!Lt(n)&&!Ur(n)&&!this.wp(n))continue;let o=csString(n);if(e==="")e=ge.truncate(o,Ea);else if(e.length+Sa.length+o.length<=Ea)e+=Sa+o;else break}return e}wp(t){return L(t)&&!Da(t)&&!csString.prototype.includes.call(t,Sa)}Pv(t){return csArray.isArray(t)&&t.length>0}}return s})(),Fr=(()=>{class s{constructor(...t){this.bp=t}addProvider(t){csArray.prototype.push.call(this.bp,t)}getRequestParameters(){return csArray.prototype.reduce.call(this.bp,(t,e)=>({...e.getRequestParameters(),...t}),{})}}return s})(),Xy=(()=>{class s{constructor(t,e){this.Kt=t,this.W=e,this.Tp=()=>{document.visibilityState==="visible"&&this.Ap()}}start(){this.Ap(),this.sl()}stop(){this.il()}getRecoveryStorage(){return this.Kt}Ap(){let t=this.Kt.recover();if(t!==null){let{requestParameters:e,events:i}=t;this.W.send(i,e)}}sl(){document.addEventListener("visibilitychange",this.Tp)}il(){document.removeEventListener("visibilitychange",this.Tp)}}return s})(),Gu=(()=>{class s{constructor(t){this.Rp=[],this.Cp=[],this.Yt={},this.Xt=t}setQueryParams(t){csArray.prototype.forEach.call(Object.keys(t),e=>{this.Yt[e]=t[e]})}removeQueryParams(t){t?csArray.prototype.forEach.call(t,e=>{delete this.Yt[e]}):this.Yt={}}onBeaconSuccess(t){csArray.prototype.push.call(this.Rp,t)}onBeaconFailure(t){csArray.prototype.push.call(this.Cp,t)}send(t){let e=Pc.toQuery({...this.Yt,ct:ro.UNCOMPRESSED}),i=this.Nv(e,t);return i?csArray.prototype.forEach.call(this.Rp,n=>n()):csArray.prototype.forEach.call(this.Cp,n=>n(this.Yt)),i}Nv(t,e){try{if(typeof csNavigatorsendBeacon!="function")return!1;let i=csNavigatorsendBeacon(`${this.Xt}?${t}`,e||"");if(i)return i}catch{}return typeof navigator.sendBeacon!="function"?!1:navigator.sendBeacon(`${this.Xt}?${t}`,e||"")}}return s})(),Ky=(()=>{class s{constructor(t){this.ir=t}save(t){localStorage.setItem(this.ir,csJSON.stringify(t))}clear(){localStorage.removeItem(this.ir)}recover(){let t=localStorage.getItem(this.ir);if(t===null)return null;let e=null;try{e=csJSON.parse(t)}catch{q.error(`Invalid item in localStorage.
         (key:${this.ir}; value:${t})`)}finally{this.clear()}return e}}return s})(),Jy=(()=>{class s{constructor(t){this.tn=t,this.rn=e=>this.processMetric(e),this.V=!1}onEvent(t){this.L=t}start(){this.V||(this.V=!0,this.tn.onFCP(this.rn),this.tn.onCLS(this.rn),this.tn.onLCP(this.rn),this.tn.onTTFB(this.rn),this.tn.onINP(this.rn))}stop(){this.V=!1}processMetric(t){if(!this.V)return;let e={type:nt.PERFORMANCE,name:t.name,val:t.value,ts:0};this.L(e)}}return st([G("Performance metric handler")],s.prototype,"processMetric",null),s})(),qu=-1,cr=s=>{addEventListener("pageshow",r=>{r.persisted&&(qu=r.timeStamp,s(r))},!0)},cs=(s,r,t,e)=>{let i,n;return o=>{r.value>=0&&(o||e)&&(n=r.value-(i!=null?i:0),(n||i===void 0)&&(i=r.value,r.delta=n,r.rating=((c,u)=>c>u[1]?"poor":c>u[0]?"needs-improvement":"good")(r.value,t),s(r)))}},$c=s=>{requestAnimationFrame(()=>requestAnimationFrame(()=>s()))},zc=()=>{let s=performance.getEntriesByType("navigation")[0];if(s&&s.responseStart>0&&s.responseStart<performance.now())return s},Yr=()=>{var r;let s=zc();return(r=s==null?void 0:s.activationStart)!=null?r:0},ls=(s,r=-1)=>{let t=zc(),e="navigate";return qu>=0?e="back-forward-cache":t&&(document.prerendering||Yr()>0?e="prerender":document.wasDiscarded?e="restore":t.type&&(e=t.type.replace(/_/g,"-"))),{name:s,value:r,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:e}},va=new WeakMap;function Gc(s,r){return va.get(s)||va.set(s,new r),va.get(s)}var tc=class{constructor(){_s(this,"t");_s(this,"i",0);_s(this,"o",[])}h(r){var i;if(r.hadRecentInput)return;let t=this.o[0],e=this.o.at(-1);this.i&&t&&e&&r.startTime-e.startTime<1e3&&r.startTime-t.startTime<5e3?(this.i+=r.value,this.o.push(r)):(this.i=r.value,this.o=[r]),(i=this.t)==null||i.call(this,r)}},Xr=(s,r,t={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(s)){let e=new PerformanceObserver(i=>{Promise.resolve().then(()=>{r(i.getEntries())})});return e.observe({type:s,buffered:!0,...t}),e}}catch{}},qc=s=>{let r=!1;return()=>{r||(s(),r=!0)}},Yi=-1,Jl=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Kn=s=>{document.visibilityState==="hidden"&&Yi>-1&&(Yi=s.type==="visibilitychange"?s.timeStamp:0,Qy())},Ql=()=>{addEventListener("visibilitychange",Kn,!0),addEventListener("prerenderingchange",Kn,!0)},Qy=()=>{removeEventListener("visibilitychange",Kn,!0),removeEventListener("prerenderingchange",Kn,!0)},Wu=()=>{var s;if(Yi<0){let r=Yr(),t=document.prerendering||(s=globalThis.performance.getEntriesByType("visibility-state").filter(e=>e.name==="hidden"&&e.startTime>r)[0])==null?void 0:s.startTime;Yi=t!=null?t:Jl(),Ql(),cr(()=>{setTimeout(()=>{Yi=Jl(),Ql()})})}return{get firstHiddenTime(){return Yi}}},lo=s=>{document.prerendering?addEventListener("prerenderingchange",()=>s(),!0):s()},Zl=[1800,3e3],Yu=(s,r={})=>{lo(()=>{let t=Wu(),e,i=ls("FCP"),n=Xr("paint",o=>{for(let c of o)c.name==="first-contentful-paint"&&(n.disconnect(),c.startTime<t.firstHiddenTime&&(i.value=Math.max(c.startTime-Yr(),0),i.entries.push(c),e(!0)))});n&&(e=cs(s,i,Zl,r.reportAllChanges),cr(o=>{i=ls("FCP"),e=cs(s,i,Zl,r.reportAllChanges),$c(()=>{i.value=performance.now()-o.timeStamp,e(!0)})}))})},th=[.1,.25],Zy=(s,r={})=>{Yu(qc(()=>{let t,e=ls("CLS",0),i=Gc(r,tc),n=c=>{for(let u of c)i.h(u);i.i>e.value&&(e.value=i.i,e.entries=i.o,t())},o=Xr("layout-shift",n);o&&(t=cs(s,e,th,r.reportAllChanges),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(n(o.takeRecords()),t(!0))}),cr(()=>{i.i=0,e=ls("CLS",0),t=cs(s,e,th,r.reportAllChanges),$c(()=>t())}),setTimeout(t))}))},Xu=0,_a=1/0,Pn=0,tE=s=>{for(let r of s)r.interactionId&&(_a=Math.min(_a,r.interactionId),Pn=Math.max(Pn,r.interactionId),Xu=Pn?(Pn-_a)/7+1:0)},ec,eh=()=>{var s;return ec?Xu:(s=performance.interactionCount)!=null?s:0},eE=()=>{"interactionCount"in performance||ec||(ec=Xr("event",tE,{type:"event",buffered:!0,durationThreshold:0}))},sh=0,sc=class{constructor(){_s(this,"u",[]);_s(this,"l",new Map);_s(this,"m");_s(this,"p")}v(){sh=eh(),this.u.length=0,this.l.clear()}P(){let r=Math.min(this.u.length-1,Math.floor((eh()-sh)/50));return this.u[r]}h(r){var i,n;if((i=this.m)==null||i.call(this,r),!r.interactionId&&r.entryType!=="first-input")return;let t=this.u.at(-1),e=this.l.get(r.interactionId);if(e||this.u.length<10||r.duration>t.T){if(e?r.duration>e.T?(e.entries=[r],e.T=r.duration):r.duration===e.T&&r.startTime===e.entries[0].startTime&&e.entries.push(r):(e={id:r.interactionId,entries:[r],T:r.duration},this.l.set(e.id,e),this.u.push(e)),this.u.sort((o,c)=>c.T-o.T),this.u.length>10){let o=this.u.splice(10);for(let c of o)this.l.delete(c.id)}(n=this.p)==null||n.call(this,e)}}},Ku=s=>{let r=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?s():(r(s=qc(s)),document.addEventListener("visibilitychange",s,{once:!0}))},ih=[200,500],sE=(s,r={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&lo(()=>{var c;eE();let t,e=ls("INP"),i=Gc(r,sc),n=u=>{Ku(()=>{for(let E of u)i.h(E);let d=i.P();d&&d.T!==e.value&&(e.value=d.T,e.entries=d.entries,t())})},o=Xr("event",n,{durationThreshold:(c=r.durationThreshold)!=null?c:40});t=cs(s,e,ih,r.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(n(o.takeRecords()),t(!0))}),cr(()=>{i.v(),e=ls("INP"),t=cs(s,e,ih,r.reportAllChanges)}))})},ic=class{constructor(){_s(this,"m")}h(r){var t;(t=this.m)==null||t.call(this,r)}},rh=[2500,4e3],iE=(s,r={})=>{lo(()=>{let t=Wu(),e,i=ls("LCP"),n=Gc(r,ic),o=u=>{r.reportAllChanges||(u=u.slice(-1));for(let d of u)n.h(d),d.startTime<t.firstHiddenTime&&(i.value=Math.max(d.startTime-Yr(),0),i.entries=[d],e())},c=Xr("largest-contentful-paint",o);if(c){e=cs(s,i,rh,r.reportAllChanges);let u=qc(()=>{o(c.takeRecords()),c.disconnect(),e(!0)});for(let d of["keydown","click","visibilitychange"])addEventListener(d,()=>Ku(u),{capture:!0,once:!0});cr(d=>{i=ls("LCP"),e=cs(s,i,rh,r.reportAllChanges),$c(()=>{i.value=performance.now()-d.timeStamp,e(!0)})})}})},nh=[800,1800],rc=s=>{document.prerendering?lo(()=>rc(s)):document.readyState!=="complete"?addEventListener("load",()=>rc(s),!0):setTimeout(s)},rE=(s,r={})=>{let t=ls("TTFB"),e=cs(s,t,nh,r.reportAllChanges);rc(()=>{let i=zc();i&&(t.value=Math.max(i.responseStart-Yr(),0),t.entries=[i],e(!0),cr(()=>{t=ls("TTFB",0),e=cs(s,t,nh,r.reportAllChanges),e(!0)}))})},nE=(()=>{class s{onFCP(t){try{Yu(t,{reportAllChanges:!0})}catch{at.counters.webVitalsErrors.count("FCP")}}onCLS(t){try{Zy(t,{reportAllChanges:!0})}catch{at.counters.webVitalsErrors.count("CLS")}}onLCP(t){try{iE(t,{reportAllChanges:!0})}catch{at.counters.webVitalsErrors.count("LCP")}}onTTFB(t){try{rE(t,{reportAllChanges:!0})}catch{at.counters.webVitalsErrors.count("TTFB")}}onINP(t){try{sE(t,{reportAllChanges:!0})}catch{at.counters.webVitalsErrors.count("INP")}}}return s})(),Kr=(()=>{class s{isEventTypeSupported(t){return csArray.prototype.indexOf.call(this.supportedEventTypes,t)!==-1}enhanceAnalysisEvent(t,e){return this.isEventTypeSupported(e.type)?this.baseEnhanceAnalysisEvent(t,e):e}}return s})(),oE=(()=>{class s extends Kr{constructor(){super(...arguments),this.supportedEventTypes=[nt.CHANGE],this.s_=["text","email","number","search","tel","url","password"]}baseEnhanceAnalysisEvent(t,e){let i=te(t);return eo(i)&&csArray.prototype.indexOf.call(this.s_,i.type)>=0&&(e.isBlank=i.value===""),e}}return s})(),Ju=(()=>{class s extends Kr{constructor(t){super(),this.ft=t,this.supportedEventTypes=[nt.MOUSEDOWN,nt.MOUSEUP,nt.CLICK,nt.MOUSEOVER,nt.TAP,nt.DRAG,nt.FLICK,nt.SUBMIT,nt.CHANGE]}baseEnhanceAnalysisEvent(t,e){return e.tgt||(e.tgt=this.ft.getEventTargetPath(t)),e}}return s})(),oh=65535,aE=(()=>{let s;return function(r){function t(e){let i=te(e);if(!i||!Mt(i)||!we(i.getBoundingClientRect)||!Ot(e.pageX)||!Ot(e.pageY))return{xRel:-1,yRel:-1,valid:!1};let n=i.getBoundingClientRect(),o=e.pageX-n.left-Yt.windowOffsetX(),c=e.pageY-n.top-Yt.windowOffsetY();i!==document.documentElement&&(o+=i.scrollLeft,c+=i.scrollTop);let u=Math.max(i.scrollWidth,n.width),d=Math.max(i.scrollHeight,n.height),E=Math.round(o/u*oh),f=Math.round(c/d*oh);return{xRel:E,yRel:f,valid:!0}}r.getRelativePosition=t}(s||(s={})),s})(),cE=Math.pow(2,31);function lE(s,r=0){let u=r>>>0,d=s.length;for(let w=0;w<d-3;w+=4){let A=(csString.prototype.charCodeAt.call(s,w)&255|(csString.prototype.charCodeAt.call(s,w+1)&255)<<8|(csString.prototype.charCodeAt.call(s,w+2)&255)<<16|(csString.prototype.charCodeAt.call(s,w+3)&255)<<24)>>>0;A=Math.imul(A,3432918353),A=A<<15|A>>>17,A=Math.imul(A,461845907),u^=A,u=u<<13|u>>>19,u=Math.imul(u,5)+3864292196}let E=0,f=d&3,_=d-f;switch(f){case 3:E^=(csString.prototype.charCodeAt.call(s,_+2)&255)<<16;case 2:E^=(csString.prototype.charCodeAt.call(s,_+1)&255)<<8;case 1:E^=csString.prototype.charCodeAt.call(s,_)&255,E=Math.imul(E,3432918353),E=E<<15|E>>>17,E=Math.imul(E,461845907),u^=E}return u^=d,u^=u>>>16,u=Math.imul(u,2246822507),u^=u>>>13,u=Math.imul(u,3266489909),u^=u>>>16,u>>>0}function Qu(s){return lE(s)+cE>>>0}var hE=(()=>{class s extends Kr{constructor(t,e){super(),this.cs=t,this.ft=e,this.supportedEventTypes=[nt.MOUSEMOVE,nt.CLICK],this.wl=""}baseEnhanceAnalysisEvent(t,e){let{valid:i,xRel:n,yRel:o}=aE.getRelativePosition(t);if(i){let c=this.ft.getEventTargetPath(t);c!==ns.INVALID_ELEMENT&&(e.xRel=n,e.yRel=o,e.type===nt.MOUSEMOVE&&(c!==this.wl||this.cs.iframesTracking?(this.wl=c,e.tgtHM=c,this.cs.isChild||(e.tgtHMH=Qu(e.tgtHM))):e.tgtHM=""))}else e.type===nt.MOUSEMOVE&&(this.wl="");return e}}return s})(),fe=(()=>{let s;return function(r){r[r.ANONYMIZED=0]="ANONYMIZED",r[r.CAPTURED=1]="CAPTURED",r[r.MASKED=2]="MASKED",r[r.ENCRYPTED=3]="ENCRYPTED"}(s||(s={})),s})(),ah=100,Zu=(()=>{class s extends Kr{constructor(t,e,i){super(),this.f=t,this.ae=e,this.M=i,this.supportedEventTypes=[nt.TAP,nt.CLICK,nt.SUBMIT]}i_(t){let e="",i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),n=i.nextNode();for(;n;){if(e+=n.textContent,Ac(n.parentElement)||Tc(n.parentElement)||this.ae.getElementSensitiveStatus(n.parentElement)!==fe.CAPTURED)return!0;if(csString.prototype.trim.call(e).length>=ah)break;n=i.nextNode()}return!1}r_(t){let e=tr(t,"button,a");return e||(this.f.collectTargetText===Ba.ButtonAndLinkOnly?null:t)}baseEnhanceAnalysisEvent(t,e){if(Ns(csEventtarget.apply(t))){let i=this.r_(csEventtarget.apply(t));if(i&&L(i.textContent)&&!this.i_(i)&&!this.M.hasPII(i.textContent,this.f.anonymizeDigits)){let n=ge.truncate(csString.prototype.trim.call(i.textContent),ah);n.length>0&&(e.text=n)}}return e}}return s})(),td=(()=>{class s extends Kr{constructor(t,e){super(),this.ft=t,this.ae=e,this.supportedEventTypes=[nt.CLICK,nt.SUBMIT,nt.CHANGE,nt.TAP]}baseEnhanceAnalysisEvent(t,e){let i=this.ae.getSensitiveStatus().useAnonymization,{path:n,hierarchy:o}=this.ft.getEventTargetPathAndHierarchy(t,i);return e.tgt=n,e.hrchy=o,e}}return s})();function ed(s,r,t){let e=[];return csArray.prototype.push.call(e,new hE(s,r)),s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new Zu(s,t,new Ii)),s.collectHierarchy&&csArray.prototype.push.call(e,new td(r,t)),csArray.prototype.push.call(e,new oE,new Ju(r)),e}function sd(s,r,t){let e=[];return s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new Zu(s,t,new Ii)),s.collectHierarchy&&csArray.prototype.push.call(e,new td(r,t)),csArray.prototype.push.call(e,new Ju(r)),e}var uE=50,dE=(()=>{class s{constructor(t=[]){this.Vt=t}stringifyEvents(){return csJSON.stringify(this.Vt)}addEvent(t){csArray.prototype.push.call(this.Vt,t)}eventsCount(){return this.Vt.length}clearEvents(){this.Vt=[]}empty(){this.clearEvents()}isFull(){return this.eventsCount()>=uE}isEmpty(){return this.Vt.length===0}getEvents(){return this.Vt}}return s})(),pE="csAnalysisEventsPersisted",ch="v2/events",Wc=["submit"],nc=["trackEvent"],fE=(()=>{class s{constructor(t,e,i,n,o,c,u,d,E,f,_,w,A){this.f=t,this.yt=e,this.I=i,this.Q=n,this.Lt=o,this.E=c,this.G=u,this.xt=d,this.pt=E,this.ue=f,this.X=_,this.ae=w,this.bl=A}init(){let t=new dE,e=this.ue.create(`${this.f.getTrackerUri()}/${ch}`,!0,"base64");this.Wo=this.n_(e),this.Re=this.o_(t,this.Wo.getRecoveryStorage(),e),this.Re.init(),this.X.addListener(this.Re),this.pt.addListener(this.Re),this.E.register(Wc,(i,n)=>{this.Re.pushSubmitCommandEvent(i,n)}),this.E.register(nc,i=>{if(!ft(i))throw new Error(`Command misuse: ${nc}`);this.Re.pushCustomEvent(i.name,i.source,i.properties)})}onStartTracking(t){this.Wo.start(),this.Re.start(t)}onAfterNaturalPageView(){this.Re.initStates()}onAfterArtificialPageView(){this.Re.initStates(),this.Re.collectInitialEvents()}onArtificialPageViewEnd(){this.Re.clearStates(!0)}onBeforeSessionRenewal(){this.Re.clearStates(),this.Re.stop(),this.Wo.stop()}onOptout(){this.Re.stop(),this.Wo.stop()}o_(t,e,i){var n;let o=new Uy(window),c=new Gy,u=ed(this.f,this.Q,this.ae),d=[];this.f.collectSubmit||csArray.prototype.push.call(d,"submit");let E=new $u(u,this.Q,this.Lt,d),f=sd(this.f,this.Q,this.ae),_=new Fu(f,this.xt),w=new Jy(new nE),A=new zu,V,U,P,C=new Gu(`${this.f.getTrackerUri()}/${ch}`),j=new Fr(this.yt,this.I),F,M,tt,ct;return new Yy(this.f,E,_,c,o,t,C,j,this.G,e,this.Q,w,A,i,V,U,P,F,M,tt,ct)}n_(t){return new Xy(new Ky(pE),t)}}return s})(),id=["api-errors:maskUrl"],gE=(()=>{class s{constructor(t,e,i=!1){this.bt=t,this.tt=e,this.hn=i}addUrlMaskingPattern(t){this.bt.addUrlMaskingPattern(t)}anonymize(t){let e=this.tt.removeQueryString(t.url),i={maskingPatterns:this.bt.getUrlMaskingPatterns(),partialMaskingPatterns:this.bt.getPartialUrlMaskingPatterns(),maskNames:this.hn};return{...t,url:this.tt.anonymizeUrl(e,i),library:t.library?this.tt.anonymizeUrl(t.library,i):void 0}}}return s})(),mE=(()=>{let s;return function(r){function o(d,E,f=!1){let w={message:ge.truncate(d,300,ge.ELLIPSIS),errorType:"customError"};return(f||u(E))&&(c(E),w.attributes=E),w}r.buildCustomErrorEvent=o;function c(d){for(let E in d){let f=d[E];if(typeof f=="string"&&f.length>30&&(f=ge.truncate(f,30,ge.ELLIPSIS),d[E]=f),E.length>30){let _=ge.truncate(E,30,ge.ELLIPSIS);delete d[E],d[_]=f}}}function u(d){let E=Object.keys(d).length;return E>0&&E<=5}}(s||(s={})),s})(),rd=["trackError"],yE=/(\b["']?key["']?\s*[=:]\s*["'](?:first|last|user|profile|primary|primary[ _-]?last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["']|…$)|(\b["']?(?:first|last|user|profile|primary|primary[ _-]?last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["']|…$)/gi,EE="$1$4CS_ANONYMIZED_NAME$3$6",SE=/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g,vE="CS_ANONYMIZED_PHONE",_E=(()=>{class s{constructor(t,e){this.M=t,this.tt=e}anonymize(t){return this.tt?csArray.prototype.join.call(csArray.prototype.map.call(ug(t),({content:e,isUrl:i})=>{var n;return i?(n=this.tt)===null||n===void 0?void 0:n.anonymizeUrl(e,{maskNames:!0}):this.tf(e)}),""):this.tf(t)}tf(t){t=this.M.anonymizePII(t);let e=t;t=this.hn(t),t!==e&&(at.counters.redactedPII.count("name"),at.counters.redactedPII.count("name-in-custom-error"));let i=t;return t=this.N_(t),t!==i&&(at.counters.redactedPII.count("phone"),at.counters.redactedPII.count("phone-in-custom-error")),t}hn(t){return csString.prototype.replace.call(t,yE,EE)}N_(t){return csString.prototype.replace.call(t,SE,vE)}}return s})(),wE="CS_ANONYMIZED_VALUE",bE=(()=>{class s{constructor(t,e){this.M=t,this.w=e}anonymize(t){return L(t.message)&&(t.message=this.L_(t.message),t.message=this.M.anonymizePII(t.message)),L(t.filename)&&(t.filename=this.w.computeOverriddenUrl(t.filename)),t}L_(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,`value='${wE}'`)}}return s})(),TE=512,AE=255,Dr=(()=>{class s{constructor(t,e){this.key=csString.prototype.slice.call(t,0,TE),this.value=L(e)?csString.prototype.slice.call(e,0,AE):e}static isKeyValid(t){return L(t)}static isValueValid(t){return L(t)||Os(t)}}return s})(),RE=(()=>{class s extends re{constructor(t,e){super(),this.zt=t,this.M=e,this.Ll=[]}onStart(){csArray.prototype.forEach.call(this.Ll,t=>this.ef(t.key,t.value)),this.Ll=[]}onStop(){}ef(t,e){let i=this.M.anonymizePII(t),n=Os(e)?e:this.M.anonymizePII(e);this.zt.add(new Dr(i,n))}trackDynamicVariable(t,e){if(Dr.isKeyValid(t)&&Dr.isValueValid(e)){if(!this.isStarted){csArray.prototype.push.call(this.Ll,{key:t,value:e});return}this.ef(t,e)}else throw new Error(`Command misuse: ${Jr[0]}`)}}return s})(),CE=(()=>{class s{constructor(t){this.de=t,this.zt=[]}add(t){csArray.prototype.push.call(this.zt,t),this.setBatchReadyCall()}clear(){this.zt=[]}onBatchReady(t){this.V_=t}getRequestParameters(){let t={};for(let e of this.zt)t[e.key]=e.value;return{dv:this.de.compressSync(csJSON.stringify(t),"base64"),ct:this.de.algorithm}}setBatchReadyCall(){this.V_()}}return st([ar({wait:0,mode:"trailing"}),G("dynamicVariablesBatchReady")],s.prototype,"setBatchReadyCall",null),s})(),IE="dvar",Jr=["trackDynamicVariable"],PE=(()=>{class s{constructor(t,e,i,n,o,c){this.E=t,this.R=e,this.f=i,this.ze=n,this.de=o,this.M=c,this.ls=new Qi(this.f.getTrackerUri(),IE),this.zt=new CE(this.de),this.Mi=new RE(this.zt,this.M)}init(){this.ls.setRequestParametersProviders(this.ze,this.zt),this.R.setDynamicVariablesService(this.Mi),this.zt.onBatchReady(()=>this.ls.send()),this.ls.after(()=>this.zt.clear()),this.E.register(Jr,({key:t,value:e}={})=>{this.Mi.trackDynamicVariable(t,e)})}onStartTracking(){this.Mi.start()}}return s})(),oc=(()=>{class s{constructor(t,e){this.id=t,this.revenue=e}static from(t){let e=new s(t.id,parseFloat(t.revenue));return isNaN(parseFloat(t.tax))||(e.tax=parseFloat(t.tax)),isNaN(parseFloat(t.shipping))||(e.shipping=parseFloat(t.shipping)),L(t.currency)&&t.currency.length<=10&&(e.currency=t.currency),e}hasValidRevenue(){return!isNaN(this.revenue)&&this.revenue>=0}static isValid(t){return Ot(t)&&Lt(t.revenue)&&L(t.currency)&&t.currency.length<=10&&(!Ot(t.id)||L(t.id))}}return s})(),nd=100,OE=100,NE=(()=>{class s{constructor(t,e,i,n){this.id=t,this.name=e,this.price=i,this.quantity=n}static from(t){if(!s.zc(t))return null;let e=new s(t.id,t.name,parseFloat(t.price),parseInt(t.quantity,10));return mt(t.sku)&&(e.sku=t.sku),mt(t.category)&&(e.category=t.category),mt(t.merchant)&&t.merchant.length>0&&(e.merchant=t.merchant.slice(0,nd)),e}static zc(t){return Ot(t)&&L(t.id)&&L(t.name)&&Lt(parseFloat(t.price))&&Os(parseInt(t.quantity,10))&&(!mt(t.sku)||L(t.sku))&&(!mt(t.category)||L(t.category))&&(!mt(t.merchant)||L(t.merchant))}}return s})(),od=(()=>{class s extends re{constructor(t,e,i){super(),this.M=t,this.sf=e,this.G=i,this.Vl=[],this.clear()}onStart(){csArray.prototype.forEach.call(this.Vl,t=>{this.pe=t.transaction,this.En=t.transactionItems,this.sendTransaction()}),this.Vl=[]}onStop(){}addTransaction(t){let e=this.M.anonymizeFields(t,["id"]);this.pe=oc.from(e)}getTransaction(){return this.pe}sendTransaction(){if(!this.isStarted){csArray.prototype.push.call(this.Vl,{transaction:this.pe,transactionItems:[...this.En]}),this.clear();return}if(!(this.sf===null||this.G===null)&&(this.G.refreshSession(),!!this.G.isSessionValid())){if(!this.pe.hasValidRevenue()){q.warn("Transaction Service: unable to send transaction with invalid parameters");return}this.sf.send()}}addItem(t){if(we(t))throw new Error(`Command misuse: ${lr[1]}`);let e=this.M.anonymizeFields(t,["id","name","sku","category"]),i=NE.from(e);i!==null&&csArray.prototype.push.call(this.En,i)}getItems(){return this.En}clear(){this.pe=oc.from({revenue:NaN}),this.En=[]}getRequestParameters(){let t={id:this.pe.id?`${this.pe.id}`:"",revenue:`${this.pe.revenue}`};return mt(this.pe.tax)&&(t.tax=`${this.pe.tax}`),mt(this.pe.shipping)&&(t.shipping=`${this.pe.shipping}`),mt(this.pe.currency)&&(t.cu=`${this.pe.currency}`),t.items=window.csJSON.stringify(this.En),t}}return s})(),ME=(()=>{class s extends re{constructor(t,e){super(),this.U_=t,this.G=e,this.Ce=null,this.Ul=[]}onStart(){csArray.prototype.forEach.call(this.Ul,t=>{this.Ce=t,this.rf()}),this.Ul=[]}onStop(){}addToCart(t){let e={};L(t.sku)&&(e.sku=csString.prototype.slice.call(t.sku,0,OE)),L(t.merchant)&&(e.merchant=csString.prototype.slice.call(t.merchant,0,nd)),(e.sku||e.merchant)&&(this.Ce=e,this.rf())}getCartItem(){return this.Ce}rf(){if(!this.isStarted&&this.Ce!==null){csArray.prototype.push.call(this.Ul,this.Ce),this.clear();return}this.G.refreshSession(),this.G.isSessionValid()&&this.U_.send()}clear(){this.Ce=null}getRequestParameters(){if(!this.Ce)return{};let t={};return L(this.Ce.sku)&&this.Ce.sku.length>0&&(t.sku=this.Ce.sku),L(this.Ce.merchant)&&this.Ce.merchant.length>0&&(t.me=this.Ce.merchant),t}}return s})(),ad=["ecommerce:addToCart","ec:cart:add"],Qr=["ecommerce:addTransaction","ec:transaction:create"],lr=["ecommerce:addItem","ec:transaction:items:add"],Zr=["ecommerce:send","ec:transaction:send"],kE=(()=>{class s{constructor(t,e,i,n,o,c,u){this.f=t,this.yt=e,this.I=i,this.E=n,this.M=o,this.G=c,this.w=u}init(){let t=new Qi(this.f.getTrackerUri(),"transaction"),e=new Qi(this.f.getTrackerUri(),"addtocart");this.Ze=new od(this.M,t,this.G),this.sa=new ME(e,this.G);let i=new Fr(this.yt,this.I,this.w,this.Ze);t.setRequestParametersProviders(i),t.after(()=>{this.Ze.clear()});let n=new Fr(this.yt,this.I,this.w,this.sa);e.setRequestParametersProviders(n),e.after(()=>{this.sa.clear()}),this.E.register(Qr,o=>{this.Ze.addTransaction(o)}),this.E.register(lr,o=>this.Ze.addItem(o)),this.E.register(Zr,()=>this.Ze.sendTransaction()),this.E.register(ad,o=>{this.sa.addToCart(o)})}onStartTracking(){this.Ze.start(),this.sa.start()}}return s})(),DE=2,Yc=(()=>{class s{constructor(t){this.q_=t,this.ia=0}addString(t){this.ia+=t.length*DE}addArrayBuffer(t){this.ia+=t.byteLength}isThresholdReached(){return this.ia>this.q_}reset(){this.ia=0}}return s})(),lh=(()=>{class s{static create(t,e){if(!s.isSupported())throw new Error("IntersectionObserver is not supported");if(e&&e.delay&&e.delay<100)throw new Error("Visibility delay should be > 100ms");return e!=null&&e.trackVisibility&&(t=s.Y_(t)),new csIntersectionObserver(t,e)}static isSupported(){return!!window.csIntersectionObserver&&!!window.IntersectionObserverEntry}static Y_(t){return(e,i)=>t(Xe(e,xE),i)}}return s})();function xE(s){return s.isVisible||!Ct.isVisibleInViewportInForeground(s.target)?s:{boundingClientRect:s.boundingClientRect,intersectionRatio:s.intersectionRatio,intersectionRect:s.intersectionRect,isIntersecting:s.isIntersecting,rootBounds:s.rootBounds,target:s.target,time:s.time,isVisible:!0}}var ac=()=>(s,r,t)=>{t.value=LE(t.value)};function LE(s){let r=csSymbol("oncePerTickSymbol"),t=null,e={},i=function(){var n;let o=(n=this)!==null&&n!==void 0?n:e;if(t=arguments,o[r])return;o[r]=!0,vc(()=>{o[r]=!1,s.apply(o,t)})};return i.oncePerTickSymbol=r,i}ac.isScheduled=(s,r)=>{let t=r.oncePerTickSymbol;return s[t]};var VE=(()=>{class s{constructor(t){this.A=t,this.Ks=new Map,this.cf=e=>{let i=e.target;if(this.Ks.has(i))return!0;let n=!1;return this.Ks.forEach((o,c)=>{n||!this.Ks.get(c).subtree||(n=c.contains(i))}),n},Ht.general.nbOfMutationObservers.increase(),this.D=new csMutationObserver(e=>{ac.isScheduled(this,this.garbageCollect)&&(e=Fn(e,this.cf)),e.length&&ve(()=>t(e,this))})}disconnect(){Ht.general.nbOfMutationObservers.decrease(),this.D.disconnect(),this.Ks=new Map}takeRecords(){return this.D.takeRecords()}observe(t,e){return Ht.mutations.elementMutationObserved.increase(),this.Ks.set(t,e),this.D.observe(t,e)}unobserve(t){this.Ks.has(t)&&(Ht.mutations.elementMutationObserved.decrease(),this.Ks.delete(t),this.garbageCollect())}garbageCollect(){Ht.mutations.unobserveGarbageCollection.measure(()=>{let t=Fn(this.takeRecords(),this.cf);t.length&&this.A(t,this),this.D.disconnect(),this.Ks.forEach((e,i)=>this.D.observe(i,e))})}}return St([ac()],s.prototype,"garbageCollect",null),s})(),UE=(()=>{class s{constructor(t){this.A=t,this.oa=new Set}onMutations(t){if(Gh(t,e=>{var i;return!!(!((i=e.removedNodes)===null||i===void 0)&&i.length)}))for(let e of this.oa.values())Ct.isConnected(e)||(this.oa.delete(e),this.A(e))}observe(t){this.z||(this.z=new Je(e=>csSetTimeout(()=>this.onMutations(e))),this.z.observe()),this.oa.add(t)}disconnect(){var t;(t=this.z)===null||t===void 0||t.disconnect(),this.oa.clear(),this.z=void 0}}return St([G("NodeDisconnectedObserver.onMutations")],s.prototype,"onMutations",null),s})(),jE=300,Jn=(()=>{class s{constructor(t){this.aa=new Set,this.X_=new UE(e=>this.lf(e)),this.F=!1,this.At=t?{...hh,...t}:hh}stop(){var t,e;this.F=!1,(t=this.bn)===null||t===void 0||t.disconnect(),(e=this.D)===null||e===void 0||e.disconnect()}start(t){if(this.F)throw new Error("VisibilityObserver is already started");this.A=si("VisibilityObserver:callback",(i,n)=>t(i,n));let e={root:null,rootMargin:"0px",threshold:.5,trackVisibility:!0,delay:jE};this.bn=lh.create(i=>this.handleIntersection(i),e),this.D=new VE(i=>csSetTimeout(()=>{ht(i,n=>this.lf(n.target))})),this.jl(),this.F=!0}observe(t){if(!this.F)throw new Error("Observer is stopped.");this.At.reobserve===!1&&t[this.Hl]||(Ht.visibilityObserver.nbElements.increase(),t[this.Hl]=!0,this.watchIntersection(t))}jl(){this.ca=csSymbol("isVisible"),this.Hl=csSymbol("ObservedElement"),this.Bl=csSymbol("LinkedElement"),this.hf=csSymbol("Tracked")}lf(t){this.aa.add(t);for(let e of this.K_(t))this.aa.add(e);this.recheckCssVisibilityAll()}recheckCssVisibilityAll(){ht(this.aa.keys(),t=>{!t.isConnected||Ct.areAncestorsHiddenByCSS(t)||t[this.Hl]&&this.watchIntersection(t)}),this.aa.clear()}watchIntersection(t){this.D.unobserve(t),this.bn.unobserve(t);let e=Ct.getTopAncestorHiddenByCSS(t);e?(e!==t&&(this.uf(e,t),this.watchMutation(e)),this.watchMutation(t)):this.bn.observe(t)}watchMutation(t,e=!0){e&&delete t[this.ca],this.bn.unobserve(t);let i={attributeFilter:["style","class","hidden"]};this.D.observe(t,i)}handleIntersection(t){for(let e of t){let i=e.target;if(!e.isVisible){Ct.isVisibleInDocument(i)||this.J_(i);continue}let n=this.At.allowSameMatch||!e.target[this.ca];e.target[this.ca]=!0,n&&!this.At.delay&&this.onVisibilityChanged(e.target,xr.VisibleInViewPort)}this.At.delay&&csSetTimeout(()=>{for(let e of t){let i=e.isIntersecting&&e.isVisible;e.target[this.ca]&&i&&this.onVisibilityChanged(e.target,xr.VisibleInViewPort)}},this.At.delay)}J_(t){Ht.visibilityObserver.hiddenElements.increase();let e=Ct.getTopElement(t);this.watchMutation(t),e&&(this.X_.observe(e),this.uf(e,t),this.watchMutation(e,!1))}uf(t,e){var i;(t[this.Bl]=(i=t[this.Bl])!==null&&i!==void 0?i:new Set).add(e)}K_(t){var e,i;let n=[],o=(i=(e=t[this.Bl])===null||e===void 0?void 0:e.values())!==null&&i!==void 0?i:[];return ht(o,c=>csArray.prototype.push.call(n,c)),n}onVisibilityChanged(t,e){if(e===xr.VisibleInViewPort&&this.At.trackOnce){if(this.bn.unobserve(t),this.D.unobserve(t),t[this.hf])return;t[this.hf]=!0}this.A(t,e)}static isSupported(){return lh.isSupported()}}return St([G()],s.prototype,"observe",null),St([ar({wait:50}),G(),ie("recheckCssVisibilityAll")],s.prototype,"recheckCssVisibilityAll",null),St([G()],s.prototype,"watchIntersection",null),St([G()],s.prototype,"watchMutation",null),St([G(),ie("VisibilityObserver.handleIntersection")],s.prototype,"handleIntersection",null),St([G()],s.prototype,"onVisibilityChanged",null),s})(),xr=(()=>{let s;return function(r){r.VisibleInViewPort="VisibleInViewPort",r.HiddenByAnother="HiddenByAnother",r.Hidden="Hidden"}(s||(s={})),s})(),hh={delay:1e3,trackOnce:!0,reobserve:!1},Pr=(()=>{let s;return function(r){r[r.NOT_NEEDED=1]="NOT_NEEDED",r[r.NOT_EXPRESSED=2]="NOT_EXPRESSED",r[r.WITHDRAWN=3]="WITHDRAWN",r[r.GRANTED=4]="GRANTED"}(s||(s={})),s})(),Js=(()=>{let s;return function(r){function t(n){return n.replayConsentRequiredForSession}r.isReplayConsentNeeded=t;function e(n){return n.collectState===Z.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||n.collectState===Z.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}r.isRecordingBlockedByConsent=e;function i(n){return n.collectState===Z.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}r.isRecordingWithDrawn=i}(s||(s={})),s})(),HE=(()=>{class s{constructor(t,e,i,n){this.I=t,this.R=e,this.f=i,this.rs=n,this.vf=!1}isNaturalPageViewSent(){return this.vf}setNaturalPageViewSent(t){this.vf=t}getTrackingContext(){let t=this.R.getSession();if(!t)return null;let e=this.getSessionKey();if(!e)return null;let i=this.f.projectId,n=this.f.uxaDomain,o=t.pageNumber,c=this.rs.getPageViewType(),u=this.R.isReplayRecorded(),d=this.Rw(t);return{projectId:i,sessionKey:e,pageNumber:o,pageViewType:c,isRecording:u,uxaDomain:n,recordingConsentState:d,...this.f.smbConfig}}getSessionKey(){let t=this.I.getVisitor();return t?`${t.id}.${t.visitsCount}`:null}Rw(t){return Js.isReplayConsentNeeded(this.f)?t.collectState===Z.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Pr.NOT_EXPRESSED:t.collectState===Z.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Pr.WITHDRAWN:Pr.GRANTED:Pr.NOT_NEEDED}}return s})(),BE=(()=>{class s{constructor(t){this.Rt=t,this.te=[]}handleCommand(t){if(we(t)&&(this.Rn(t),this.Rt.isNaturalPageViewSent())){let e=this.Rt.getTrackingContext();e!==null&&this.jt(t,e)}}Rn(t){csArray.prototype.push.call(this.te,t)}executeRegisteredCallbacks(){let t=this.Rt.getTrackingContext();t!==null&&csArray.prototype.map.call(this.te,e=>this.jt(e,t))}jt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),FE=(()=>{class s{constructor(t){this.Rt=t,this.ki=[]}handleCommand(t){if(this.Rt.isNaturalPageViewSent())return this.Cw(t);this.Cn(t)}Cw(t){let e=this.Rt.getSessionKey();return this._f(t)&&e!==null&&this.jt(t.callback,e),e}Cn(t){this._f(t)&&csArray.prototype.push.call(this.ki,t.callback)}flushPendingCallbacks(){let t=this.Rt.getSessionKey();t!==null&&csArray.prototype.forEach.call(this.ki,e=>{this.jt(e,t)}),this.ki=[]}_f(t){return t&&typeof t.callback=="function"}jt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),$E=(()=>{class s{constructor(t,e){this.Z=t,this.Rt=e}onTrackingContextRequestCallback(t){let e=this.Rt.getTrackingContext();e!==null&&this.Z.sendToChildren($.TrackingContextResultMessage,{...t,trackingContext:e})}onIframeIntegrationCallback(t){if(!this.Rt.isNaturalPageViewSent())return;let e=this.Rt.getTrackingContext();e!==null&&(t.trackingContext=e,this.Z.sendToChildren($.IntegrationCallback,t))}sendAfterPageViewCallbackToChildren(){let t=this.Rt.getTrackingContext();if(t===null)return;let e={trackingContext:t,initiator:Zi.AfterPageView};this.Z.sendToChildren($.IntegrationCallback,e)}}return s})();function cd(s,r){let{isRecording:t,pageNumber:e,projectId:i,siteId:n,uxaDomain:o,csLiteDomain:c}=s,u=/^(.+)\.(\d+)$/.exec(s.sessionKey),d;if(t&&u){let[,E,f]=u;n?d=`${c}/sites/${n}/player?uu=${E}&sn=${f}&pn=${e}`:d=`${o}/quick-playback/index.html?pid=${i}&uu=${E}&sn=${f}&pvid=${e}&recordingType=cs`,r.withTimestamp&&(d+=`&t=${K.now()-r.recordingStartTimestamp}`)}return{replayLink:d,isRecording:t}}var zE=(()=>{class s{constructor(t){this.Rt=t}handleCommand(t,e){He(t)&&we(e)&&this.jt(t,e)}jt(t,e){csSetTimeout(()=>{let i=this.Rt.getTrackingContext();if(i){let n=cd(i,t);e(n)}})}}return s})(),ld=(()=>{class s{constructor(){this.te=new Set}handleCommand(t,e){return!we(t)||this.te.has(t)?null:(this.te.add(t),e&&(this.Pe=e,this.wf(t,e)),()=>this.te.delete(t))}executeCallbacks(t){this.Iw(t)&&(this.Pe=t,this.te.forEach(e=>this.wf(e,t)))}wf(t,e){csSetTimeout(()=>{try{t(e)}catch{}})}Iw(t){let{isRecording:e,recordingStartTimestamp:i,etrState:n,etrStatus:o,collectState:c}=t;return this.Pe&&(this.Pe.isRecording!==e||this.Pe.recordingStartTimestamp!==i||this.Pe.etrState!==n||this.Pe.etrStatus!==o||this.Pe.collectState!==c)}}return s})(),ho=["afterPageView"],hd=["getSessionKey"],ud=["onRecordingContextChange","onRecordingStateChange"],dd=["replay:link:generate"],GE=(()=>{class s{constructor(t,e,i,n,o,c,u,d){this.I=t,this.R=e,this.E=i,this.pt=n,this.Z=o,this.f=c,this.rs=u,this.Us=d,this.da=null}init(){this.Rt=new HE(this.I,this.R,this.f,this.rs),this.$l=new BE(this.Rt),this.bf=new FE(this.Rt),this.In=new ld,this.Pw=new zE(this.Rt),this.da=new $E(this.Z,this.Rt),this.pt.addListener(this.da),this.E.register(hd,t=>this.bf.handleCommand(t)),this.E.register(ho,t=>this.$l.handleCommand(t)),this.E.register(ud,t=>this.In.handleCommand(t,this.Us.getRecordingContext())),this.E.register(dd,(t,e)=>{this.fr&&this.Pw.handleCommand({...t,recordingStartTimestamp:this.Us.getRecordingContext().recordingStartTimestamp},e)})}onAfterNaturalPageView(){var t;this.Rt.setNaturalPageViewSent(!0),this.bf.flushPendingCallbacks(),this.$l.executeRegisteredCallbacks(),(t=this.da)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onAfterArtificialPageView(){var t;this.$l.executeRegisteredCallbacks(),(t=this.da)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onCollectStateChange(){this.executeRecordingContextChangeCallbacks()}onRecordingContextChange(){this.executeRecordingContextChangeCallbacks()}executeRecordingContextChangeCallbacks(){this.In.executeCallbacks(this.Us.getRecordingContext())}setRecordingService(t){this.fr=t}}return st([ar({wait:0,mode:"trailing"})],s.prototype,"executeRecordingContextChangeCallbacks",null),s})(),qE=(()=>{class s{constructor(t){this.E=t}init(){this.Tf(s.Ow,lu),this.Tf(s.Nw,cu)}Tf(t,e){this.E.register([t],(i,n)=>{!L(i)||!(L(n)||ei(n))||q.error(n,`${e}${i}`)})}}return s.Nw="logSnippetError",s.Ow="logImplementationSnippetError",s})(),WE="@ETP@",uh="@user-identifier@",YE=(()=>{class s extends re{constructor(t,e,i,n){super(),this.f=t,this.Mw=e,this.de=i,this.X=n,this.zl=[],this.Di=[]}onStart(){csArray.prototype.forEach.call(this.zl,t=>this.Af(t)),this.zl=[],csArray.prototype.forEach.call(this.Di,t=>this.Rf(t)),this.Di=[]}onStop(){}Af(t){this.kw(t)?wi.isSupported()&&this.Dw(t):this.xw(t)}trackPageEvent(t){if(!s.Cf(t))throw new Error(`Command misuse: ${uo[0]}`);this.isStarted?this.Af(t):csArray.prototype.push.call(this.zl,t)}kw(t){return Fa(t,uh)}async Dw(t){if(!this.f.customHashIdEnabled)return;let e=csString.prototype.slice.call(t,uh.length);if(e.length>wi.MAX_DIGEST_INPUT_SIZE){q.warn("UserIdentifier event: invalid user identifier");return}let i=await wi.digest(e);i?(this.gr={eventName:i,isETR:!1,isCustomHashId:!0},this.pa()):q.warn("Page event: unable to compute customHashId"),this.f.encryptionEnabled&&this.X.emitUserIdentifierEvent(e)}xw(t){this.X.emitPageEvent(t),this.gr={eventName:t,isETR:!1,isCustomHashId:!1},this.pa(),this.f.tagDeploymentMode===Ti.LoadClicktalePtc&&Bl.sendPageEvent(t)}Rf(t){this.f.malkaEtrEnabled?this.Lw(t):this.Vw(t)}trackEventTriggerRecording(t){if(!s.Cf(t))throw new Error(`Command misuse: ${hr[0]}`);this.isStarted?this.Rf(t):csArray.prototype.push.call(this.Di,t)}Lw(t){Fa(t,WE)?this.X.emitEventTriggerRecording(t,Zs.ETR_PAGE):this.X.emitEventTriggerRecording(t,Zs.ETR_SESSION),this.gr={eventName:t,isETR:!0,isCustomHashId:!1},this.pa()}Vw(t){ey(this.f)&&(this.X.emitEventTriggerRecording(t,Zs.ETR_LEGACY),this.gr={eventName:t,isETR:!0,isCustomHashId:!1},this.pa(),this.f.tagDeploymentMode===Ti.LoadClicktalePtc&&Bl.sendEventTriggerRecording(t))}getRequestParameters(){return{value:this.de.compressSync(this.gr.eventName,"base64"),ct:this.de.algorithm,isETR:`${this.gr.isETR}`,isCustomHashId:`${this.gr.isCustomHashId}`}}pa(){this.Mw.send()}static Cf(t){return L(t)&&!!csString.prototype.trim.call(t)}}return s})(),uo=["trackPageEvent"],hr=["trackEventTriggerRecording"],XE=(()=>{class s{constructor(t,e,i,n,o){this.f=t,this.E=e,this.de=i,this.ze=n,this.X=o}init(){let t=new Qi(this.f.getTrackerUri(),"pageEvent");this.fa=new YE(this.f,t,this.de,this.X),t.setRequestParametersProviders(this.fa,this.ze),this.E.register(uo,e=>{this.fa.trackPageEvent(e)}),this.E.register(hr,e=>{this.fa.trackEventTriggerRecording(e)})}onStartTracking(){this.fa.start()}}return s})(),Un=(()=>{let s;return function(r){r.Artificial="a",r.Renewal="r",r.Natural="n"}(s||(s={})),s})(),pd=(()=>{class s{constructor(){this.Gl=Un.Natural}setPageViewType(t){this.Gl=t}getPageViewType(){return this.Gl}getRequestParameters(){return{pvt:this.Gl}}}return s})(),KE=(()=>{class s extends pd{getRequestParameters(){return{}}}return s})(),fd=(()=>{class s extends re{constructor(t,e,i,n,o){super(),this.S=t,this.X=e,this.ql=i,this.w=n,this.rs=o}init(){this.$w()}onStart(t){t?this.zw():this.Gw()}onStop(){}triggerArtificialPageView(t,e){this.isStarted?this.Pf(t,e):Ot(t)&&this.w.overridePath(t,e),this.isStarted||(this.X.emitTargetingRulesArtificialPageview(this.w.getUrl()),this.w.cleanupOverrideLifespan())}Gw(){this.rs.setPageViewType(Un.Natural),this.S.emitBeforeNaturalPageView(this.w.getAnonymizedUrl()),this.ql.send(),this.w.cleanupOverrideLifespan(),this.S.emitAfterNaturalPageView()}zw(){this.rs.setPageViewType(Un.Renewal),this.S.emitBeforeNaturalPageView(this.w.getAnonymizedUrl()),this.ql.send(),this.S.emitAfterNaturalPageView()}Pf(t,e){let i=this.w.getAnonymizedUrl();this.rs.setPageViewType(Un.Artificial),this.S.emitArtificialPageViewEnd(),Ot(t)&&this.w.overridePath(t,e),this.S.emitBeforeArtificialPageView(i,this.w.getAnonymizedUrl()),this.ql.send(),this.w.cleanupOverrideLifespan(),this.S.emitAfterArtificialPageView()}$w(){window.addEventListener("pageshow",t=>{this.isStarted&&t.persisted&&this.Pf()})}}return s})(),JE=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function QE(){return{la:JE}}var ZE=99999,tS=(()=>{class s{constructor(t){this.R=t,this.qw=this.Ww()&&window.CSCurrentScript}Yw(){let t=window.CSCurrentScript;if(!t)return null;let e=window.performance.getEntriesByName(t.src,"resource")[0];return!e||this.Xw(e)?null:Math.round(e.responseEnd-e.fetchStart)}Xw(t){let e=t.transferSize;return e!==void 0?e===0||e===300||e<t.encodedBodySize:t.connectStart===t.domainLookupEnd}getRequestParameters(){if(!this.qw||this.Kw()!==1)return{};let t=this.Yw();return t===null?{}:{dt:`${Math.min(t,ZE)}`}}Kw(){var t;return((t=this.R.getSession())===null||t===void 0?void 0:t.pageNumber)||null}Ww(){return typeof window.performance=="object"&&typeof window.performance.getEntriesByName=="function"}}return s})(),po=["trackPageview"],Qn=["setPath"],Zn=["setQuery"],dh=["referrer:maskUrl"],eS=["referrer:removeQueryString"],sS=["referrer:keepQueryString"],wa=s=>He(s)&&s!==null,gd=(s,r,t,e)=>{s.register(po,(i,n)=>{if(!L(i)){r.triggerArtificialPageView();return}wa(n)?r.triggerArtificialPageView(i,n):r.triggerArtificialPageView(i)}),s.register(Qn,(i,n)=>{if(!L(i))throw new Error(`Command misuse: ${Qn[0]}`);wa(n)?t.overridePath(i,n):t.overridePath(i)}),s.register(Zn,(i,n)=>{if(!L(i))throw new Error(`Command misuse: ${Zn[0]}`);wa(n)?t.overrideQuery(i,n):t.overrideQuery(i)}),e&&(s.register(dh,i=>{if(!L(i))throw new Error(`Command misuse: ${dh[0]}`);e.addUrlMaskingPattern(i)}),s.register(eS,()=>e.enableRemoveQueryString()),s.register(sS,()=>e.disableRemoveQueryString()))},iS=(()=>{class s{constructor(t,e,i,n){this.E=t,this.S=e,this.X=i,this.w=n}init(){let t=new Ag,e=new KE;this.Js=new fd(this.S,this.X,t,this.w,e),this.Js.init(),gd(this.E,this.Js,this.w)}start(){this.Js.start()}}return s})(),rS=(()=>{class s{constructor(t,e,i,n,o,c,u,d,E,f,_,w,A,V,U){this.f=t,this.E=e,this.S=i,this.ze=n,this.I=o,this.R=c,this.xi=u,this._t=d,this.vt=E,this.w=f,this.ee=_,this.rs=w,this.X=A,this.qe=V,this.Yi=U}init(){let t=new Qi(this.f.getTrackerUri(),"pageview");this.Js=new fd(this.S,this.X,t,this.w,this.rs),this.Js.init();let e=new Fr(this.ze,this.I,Yt,this.xi,this.w,this._t,yc,this.vt,this.rs,new tS(this.R),this.ee);this.qe&&e.addProvider(this.qe),this.Yi&&e.addProvider(this.Yi);let i=this.f.isCsCrosswritingHeap();if(i||this.f.isCsSideloadingHeap()||this.f.isHeapSideloadsCs()){let n=this.f.getHeapEnvId()||void 0;e.addProvider({getRequestParameters(){let o={cw:i?"1":"2"};return n&&(o.happid=n),o}})}t.setRequestParametersProviders(e),gd(this.E,this.Js,this.w,this.xi)}start(t){this.Js.start(t)}onBeforeSessionRenewal(){this.Js.stop()}}return s})();function nS(s,r){let t=!1,e=function(){if(!t)return s.apply(r,arguments)};return e.cancel=()=>t=!0,e}var Is=csSymbol(),Xc=(()=>{class s{constructor(t){var e,i,n,o,c,u,d,E,f,_,w,A,V;this.A=t,this.Wl=null,this.Yl=null,this.Xl=null,this.Kl=null,this.Jl=null,this.Jw=oo(U=>this.processUpdateRulesInATick(U)),this.Ql=null,this.Zl=null,this.th=null,this.A=U=>ve(()=>t(U)),typeof((i=(e=window.CSSStyleSheet)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i.insertRule)=="function"&&(this.Wl=Rs({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:({context:U,args:P})=>{this.processInsertRule(U,P)}})),typeof((o=(n=window.CSSStyleSheet)===null||n===void 0?void 0:n.prototype)===null||o===void 0?void 0:o.deleteRule)=="function"&&(this.Yl=Rs({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:({context:U,args:P})=>{this.processDeleteRule(U,P)}})),typeof((u=(c=window.CSSGroupingRule)===null||c===void 0?void 0:c.prototype)===null||u===void 0?void 0:u.insertRule)=="function"&&(this.Xl=Rs({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:({context:U})=>this.processUpdateRule(U)})),typeof((E=(d=window.CSSGroupingRule)===null||d===void 0?void 0:d.prototype)===null||E===void 0?void 0:E.deleteRule)=="function"&&(this.Kl=Rs({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:({context:U})=>this.processUpdateRule(U)})),!((f=window.StyleSheet)===null||f===void 0)&&f.prototype&&"disabled"in window.StyleSheet.prototype&&(this.Jl=Xn(window.StyleSheet.prototype,"disabled",(U,P,C)=>{P!==C&&this.Qw(U,P)})),typeof((w=(_=window.CSSStyleDeclaration)===null||_===void 0?void 0:_.prototype)===null||w===void 0?void 0:w.setProperty)=="function"&&(this.Ql=Rs({target:window.CSSStyleDeclaration.prototype,methodName:"setProperty",hook:({context:U})=>{let P=U.parentRule;P instanceof CSSStyleRule&&this.processUpdateRule(P)}})),typeof((V=(A=window.CSSStyleDeclaration)===null||A===void 0?void 0:A.prototype)===null||V===void 0?void 0:V.removeProperty)=="function"&&(this.Zl=Rs({target:window.CSSStyleDeclaration.prototype,methodName:"removeProperty",hook:({context:U})=>{let P=U.parentRule;P instanceof CSSStyleRule&&this.processUpdateRule(P)}})),Object.getOwnPropertyDescriptor(window.CSSStyleRule.prototype,"style")&&(this.th=Cm(window.CSSStyleRule.prototype,"style",U=>{this.processUpdateRule(U)}))}observe(){var t,e,i,n,o,c,u,d;(t=this.Wl)===null||t===void 0||t.activate(),(e=this.Yl)===null||e===void 0||e.activate(),(i=this.Xl)===null||i===void 0||i.activate(),(n=this.Kl)===null||n===void 0||n.activate(),(o=this.Jl)===null||o===void 0||o.activate(),(c=this.Ql)===null||c===void 0||c.activate(),(u=this.Zl)===null||u===void 0||u.activate(),(d=this.th)===null||d===void 0||d.activate()}disconnect(){var t,e,i,n,o,c,u,d;(t=this.Wl)===null||t===void 0||t.deactivate(),(e=this.Yl)===null||e===void 0||e.deactivate(),(i=this.Xl)===null||i===void 0||i.deactivate(),(n=this.Kl)===null||n===void 0||n.deactivate(),(o=this.Jl)===null||o===void 0||o.deactivate(),(c=this.Ql)===null||c===void 0||c.deactivate(),(u=this.Zl)===null||u===void 0||u.deactivate(),(d=this.th)===null||d===void 0||d.deactivate()}processInsertRule(t,[e,i]){if(t[Is]==null&&!t.ownerNode)return;let n={type:"cssRuleInserted",sheet:t,rule:e,index:i};this.A(n)}processUpdateRule(t){let e=t;for(;e.parentRule!==null;)e=e.parentRule;e.parentStyleSheet!==null&&this.Jw.push(e)}processUpdateRulesInATick(t){for(let e of t){if(e.parentStyleSheet===null)return;let i=e.parentStyleSheet,n=csArray.prototype.indexOf.call(Br(i.cssRules),e);if(n===-1)return;let o={type:"cssRuleUpdated",sheet:i,rule:e.cssText,index:n};this.A(o)}}processDeleteRule(t,[e]){if(t[Is]==null&&!t.ownerNode)return;let i={type:"cssRuleDeleted",sheet:t,index:e};this.A(i)}Qw(t,e){if(t[Is]==null&&!t.ownerNode)return;let i={type:"cssStyleSheetDisabled",sheet:t,disabled:e};this.A(i)}}return St([G()],s.prototype,"observe",null),St([G()],s.prototype,"disconnect",null),St([G()],s.prototype,"processInsertRule",null),St([G()],s.prototype,"processUpdateRule",null),St([G()],s.prototype,"processUpdateRulesInATick",null),St([G()],s.prototype,"processDeleteRule",null),s})(),oS=(()=>{class s{constructor(t){this.Zw=1,this.ma=new Set,this.eh=null,this.ih=null,this.Qc=(e,i)=>{(i==="initial"||i==="added")&&this.setStyleSheets(e,e.adoptedStyleSheets)},this.tb=e=>{let i=e.sheet;if(this.ma.has(i)){if(e.type==="cssRuleInserted"){let n={type:"adoptedStyleSheetRuleInserted",sheetId:i[Is],rule:e.rule,index:e.index};this.A(n)}else if(e.type==="cssRuleDeleted"){let n={type:"adoptedStyleSheetRuleDeleted",sheetId:i[Is],index:e.index};this.A(n)}else if(e.type==="cssRuleUpdated"){let n={type:"adoptedStyleSheetRuleUpdated",sheetId:i[Is],rule:e.rule,index:e.index};this.A(n)}else if(e.type==="cssStyleSheetDisabled"){let n={type:"adoptedStyleSheetDisabled",sheetId:i[Is],disabled:e.disabled};this.A(n)}}},this.A=e=>ve(async()=>{await $h(2),t(e)}),this.le=new or(this.Qc),"adoptedStyleSheets"in Document.prototype&&(this.eh=Xn(window.Document.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.ih=Xn(window.ShadowRoot.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),this.Of=new Xc(this.tb)}observe(){var t,e;this.setStyleSheets(document,document.adoptedStyleSheets),this.le.observe(),(t=this.eh)===null||t===void 0||t.activate(),(e=this.ih)===null||e===void 0||e.activate(),this.Of.observe()}disconnect(){var t,e;this.ma.clear(),this.le.disconnect(),(t=this.eh)===null||t===void 0||t.deactivate(),(e=this.ih)===null||e===void 0||e.deactivate(),this.Of.disconnect()}setStyleSheets(t,e){if(!e.length)return;this.eb(e);let i=Xe(e,o=>o[Is]),n={type:"adoptedStyleSheetsSet",target:t,sheetsIds:i};this.A(n)}eb(t){ht(t,e=>{if(this.ma.has(e))return;let i=this.Zw++;e[Is]=i,this.ma.add(e);let n=this.sb(e),o={type:"adoptedStyleSheetRegistered",sheetId:i,cssRules:n,disabled:e==null?void 0:e.disabled};this.A(o)})}sb(t){let e=[];try{e=Xe(t.cssRules,i=>i.cssText)}catch{}return e}}return St([G()],s.prototype,"observe",null),St([G()],s.prototype,"disconnect",null),St([G()],s.prototype,"setStyleSheets",null),s})(),aS=Ci(uS,"optimizeMutations"),cS=csSymbol.for("ignoreNextSerialization");function lS(){let s=new Set,r=new Set,t=new Set,e=new Set,i=new Map,n=new Map,o=new Map,c=new Set,u=new Set,d=new Map,E=new Set;return{isMovedNode(f){return s.has(f)},markAsMovedNode(f){E.delete(f),s.add(f)},isDetachedMove(f){return!!Ct.findAncestor(f,_=>E.has(_),!0)},isAddedNode(f){let _=Ct.findAncestor(f,w=>r.has(w)||u.has(w)||s.has(w),!0);return!!_&&!s.has(_)},isMovedNodeIntoAddedNode(f){return s.has(f)&&!!Ct.findAncestor(f,_=>r.has(_)||u.has(_),!0)},markAsAddedNode(f){E.delete(f),u.delete(f),r.add(f)},markAsPendingInsert(f){u.add(f)},isPendingInsert(f){return u.has(f)},isRemovedNode(f){return!!Ct.findAncestor(f,_=>t.has(_),!0)},markAsRemovedNode(f){t.add(f)},isUselessNode(f){return e.has(f)},markAsUselessNode(f){e.add(f)},getPlaceholder(f,_){let w=_==="previous"?n:i;return f&&w.has(f)?w.get(f)||null:f},getSiblings(f){let _=f.addedNodes.length,w=this.getPlaceholder(f.previousSibling,"previous"),A=this.getPlaceholder(f.nextSibling,"next");if(_){let V=w,U=A,P=f.previousSibling!==w,C=f.nextSibling!==A;for(let j=0;j<_;j++){let F=f.addedNodes[j],M=f.addedNodes[_-j-1];this.isLatestNodeMutation(F,f)?(n.delete(F),f.previousSibling&&P&&(i.set(f.previousSibling,F),P=!1),V=F):n.set(F,V),this.isLatestNodeMutation(M,f)?(i.delete(M),f.nextSibling&&C&&(n.set(f.nextSibling,M),C=!1),U=M):i.set(M,U)}}else f.previousSibling&&f.previousSibling!==w&&i.set(f.previousSibling,A),f.nextSibling&&f.nextSibling!==A&&n.set(f.nextSibling,w);return{previousSibling:w,nextSibling:A}},setAttributeMutation(f,_){let w=o.get(f)||new Set;w.add(_),o.set(f,w)},isAttributeMutated(f,_){var w;return!!(!((w=o.get(f))===null||w===void 0)&&w.has(_))},setLatestNodeMutation(f,_){d.set(f,_)},isLatestNodeMutation(f,_){return d.get(f)===_},markAsFutureAddedNode(f){d.has(f)||E.add(f)},isTextMutated(f){return c.has(f)},setTextMutated(f){return c.add(f)}}}function hS(s,r){for(let t=0;t<s.addedNodes.length;t++){let e=s.addedNodes[t];r.markAsFutureAddedNode(e),r.setLatestNodeMutation(e,s)}for(let t=0;t<s.removedNodes.length;t++){let e=s.removedNodes[t];r.setLatestNodeMutation(e,s)}}function uS(s){let r=lS(),t=[];for(let e of s)e.type==="childList"&&hS(e,r);for(let e of s)switch(e.type){case"attributes":pS(e,r,t);break;case"characterData":dS(e,r,t);break;case"childList":mS(e,r,t);break}return t}function dS(s,r,t=[]){let e=s.target;return Ct.isConnected(e)&&!r.isTextMutated(e)&&!r.isAddedNode(e)&&!gS(e,"characterData")&&(r.setTextMutated(e),csArray.prototype.push.call(t,s)),t}function pS(s,r,t=[]){let e=s.target,i=`${s.attributeNamespace}/${s.attributeName}`;return Ct.isConnected(e)&&!r.isAttributeMutated(e,i)&&!r.isAddedNode(e)&&(r.setAttributeMutation(e,i),csArray.prototype.push.call(t,s)),t}var fS=30;function gS(s,r,t){let e=csSymbol.for(t?`${r}:${t}`:r),i=K.now(),n=s[e];return n&&i<n?!0:(s[e]=i+fS,!1)}function mS(s,r,t=[]){let e=Ct.isConnected(s.target),i=!e&&r.isRemovedNode(s.target),n=e&&r.isAddedNode(s.target),o=r.getSiblings(s),c=o.nextSibling,u=o.previousSibling,d=null,E=()=>{if(d){let{childListType:w,movedNodes:A,...V}=d;csArray.prototype.push.call(t,w==="added"?V:{...V,movedNodes:A}),d=null}},f=w=>w===(d==null?void 0:d.childListType)?d:(E(),{childListType:w,type:"childList",target:s.target,addedNodes:[],removedNodes:[],movedNodes:[],previousSibling:u,nextSibling:c});if(e){for(let w=0;w<s.addedNodes.length;w++){let A=s.addedNodes[w];r.isLatestNodeMutation(A,s)?(r.isMovedNode(A)?(d=f("moved"),csArray.prototype.push.call(d.movedNodes,A)):(r.markAsAddedNode(A),n||(d=f("added"),csArray.prototype.push.call(d.addedNodes,A))),u=A):Ct.isConnected(A)?r.isMovedNode(A)||r.markAsPendingInsert(A):r.markAsUselessNode(A)}E()}let _=Fn(s.removedNodes,w=>{if(Ct.isConnected(w)){if(!i&&!r.isPendingInsert(w)){if(r.isDetachedMove(w))return!0;r.markAsMovedNode(w),r.isMovedNodeIntoAddedNode(w)&&(w[cS]=!0)}return!1}return r.isUselessNode(w)?!1:(r.markAsRemovedNode(w),!0)});return _.length&&csArray.prototype.push.call(t,{type:"childList",removedNodes:_,addedNodes:[],movedNodes:[],target:s.target,nextSibling:c,previousSibling:u}),t}var yS=(()=>{class s{constructor(t){this.A=t,this.rh=!1,this.ib=e=>{e.sheet.ownerNode&&(e.type==="cssRuleInserted"?this.A({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssRuleDeleted"?this.A({type:e.type,target:e.sheet.ownerNode,index:e.index}):e.type==="cssRuleUpdated"?this.A({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssStyleSheetDisabled"&&this.A({type:e.type,target:e.sheet.ownerNode,disabled:e.disabled}))},this.A=e=>ve(()=>t(e)),this.Nf=new Xc(e=>ve(async()=>{await $h(),this.ib(e)})),"adoptedStyleSheets"in Document.prototype&&(this.Mf=new oS(t))}observe(){var t;this.rh=!1,this.D=new Je(e=>this.rb(e),(e,i)=>{i==="added"&&this.nb(e)}),this.D.observe(),this.Nf.observe(),(t=this.Mf)===null||t===void 0||t.observe()}disconnect(){var t,e;(t=this.D)===null||t===void 0||t.disconnect(),this.Nf.disconnect(),(e=this.Mf)===null||e===void 0||e.disconnect(),this.rh=!0}rb(t){if(this.rh)return;let e=aS(t);for(let i=0;i<e.length;i++){let n=e[i];if(!n){Nt.error("processRawMutations: empty record");continue}switch(n.type){case"attributes":this.processAttributeChanged(n);break;case"characterData":this.processCharacterDataChanged(n);break;case"childList":this.processChildListChanged(n);break;default:Nt.error(`processRawMutations: unknown record type '${n.type}'`);break}}}processAttributeChanged(t){let e={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:Ct.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this.A(e)}processCharacterDataChanged(t){let e={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this.A(e)}processChildListChanged(t){var e,i,n;if(!((e=t.movedNodes)===null||e===void 0)&&e.length){let o={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.previousSibling,nextSibling:t.nextSibling};this.A(o)}if(!((i=t.addedNodes)===null||i===void 0)&&i.length){let o={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:Br(t.addedNodes)};this.A(o)}if(!((n=t.removedNodes)===null||n===void 0)&&n.length){let o={type:"nodesRemoved",target:t.target,nodes:Xe(t.removedNodes,c=>c)};this.A(o)}}nb(t){let e={type:"shadowRootAttached",target:t.host,shadowRoot:t};this.A(e)}}return St([G()],s.prototype,"processAttributeChanged",null),St([G()],s.prototype,"processCharacterDataChanged",null),St([G()],s.prototype,"processChildListChanged",null),s})(),Kc=(()=>{class s{constructor(t){this.type="asyncEvent",this.nh=!1,t&&t(e=>this.resolve(e))}resolve(t){if(this.nh)throw new Error("AsyncEvent already resolve.");t.timestamp==null&&(t={...t,timestamp:this.timestamp}),this.zs=t,this.nh=!0,this.A&&this.A(this.zs)}complete(t){this.nh&&t(this.zs),this.A=t}wait(){return new Promise(t=>this.complete(t))}}return s})(),ES=jc(),md=(()=>{class s extends ks{constructor(){super(...arguments),this.ya=!1}onStart(){this.ya=!0,this.A=nS(this.ob,this),this.z=new yS(this.A),this.z.observe();let t=Ht.mutations.initialDOM.asyncMeasure(),e=()=>{this.ya=!1,Ay(),t()};this.produceEvent(new Kc(i=>ES(document,n=>{e(),i({type:"DomEvent",domEvent:"initialDOM",initialDOM:n})})))}onStop(){var t,e;this.ya=!1,(t=this.A)===null||t===void 0||t.cancel(),(e=this.z)===null||e===void 0||e.disconnect()}Gt(t,e){let i={type:"DomEvent",domEvent:e.type,target:0,targetProps:{}};return"target"in e&&(i.target=Rt(e.target),i.targetProps=lt.getProperties(e.target)),[e,i]}ob(t){if(!this.ab(t))switch(t.type){case"attributeChanged":{let[e,i]=this.Gt(t.type,t);i.attribute=e.attribute,i.isSvg=nr(e.target),i.namespace=e.namespace,i.newValue=e.newValue,i.oldValue=e.oldValue,i.localName=Ir(e.target),i.linkRel=Kh(e.target)?e.target.rel:null,i.parentLocalName=e.target.parentElement?Ir(e.target.parentElement):void 0,i.localName==="input"&&(i.inputType=e.target.getAttribute("type")),this.produceEvent(i)}break;case"characterDataChanged":{let[e,i]=this.Gt(t.type,t);i.newValue=e.newValue,i.oldValue=e.oldValue,i.targetNodeType=e.target.nodeType,i.parentLocalName=e.target.parentElement?Ir(e.target.parentElement):null,i.parentProps=e.target.parentElement?lt.getProperties(e.target.parentElement):void 0,this.produceEvent(i)}break;case"nodesAdded":{let[e,i]=this.Gt(t.type,t);i.targetLocalName=Mt(e.target)?Ir(e.target):null,i.nextSibling=e.nextSibling?Rt(e.nextSibling):null,i.previousSibling=e.previousSibling?Rt(e.previousSibling):null,Ht.mutations.serializedMutations.measure(()=>{i.nodes=Xe(e.nodes,Qa)}),this.produceEvent(i);break}case"nodesMoved":{let[e,i]=this.Gt(t.type,t);i.previousSibling=e.previousSibling?Rt(e.previousSibling):null,i.nextSibling=e.nextSibling?Rt(e.nextSibling):null,i.nodesIds=Xe(e.nodes,Rt),this.produceEvent(i);break}case"nodesRemoved":{let[e,i]=this.Gt(t.type,t);i.nodesIds=Xe(e.nodes,Rt),this.produceEvent(i);break}case"shadowRootAttached":{let[e,i]=this.Gt(t.type,t);i.shadowRoot=kr(e.shadowRoot),this.produceEvent(i);break}case"cssRuleInserted":{let[e,i]=this.Gt(t.type,t);i.index=e.index,i.rule=e.rule,this.produceEvent(i);break}case"cssRuleDeleted":{let[e,i]=this.Gt(t.type,t);i.index=e.index,this.produceEvent(i);break}case"cssRuleUpdated":{let[e,i]=this.Gt(t.type,t);i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"cssStyleSheetDisabled":{let[e,i]=this.Gt(t.type,t);i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetRegistered":{let[e,i]=this.Gt(t.type,t);i.sheetId=e.sheetId,i.cssRules=e.cssRules,i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetsSet":{let[e,i]=this.Gt(t.type,t);i.sheetsIds=e.sheetsIds,this.produceEvent(i);break}case"adoptedStyleSheetRuleInserted":{let[e,i]=this.Gt(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleDeleted":{let[e,i]=this.Gt(t.type,t);i.sheetId=e.sheetId,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleUpdated":{let[e,i]=this.Gt(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetDisabled":{let[e,i]=this.Gt(t.type,t);i.sheetId=e.sheetId,i.disabled=e.disabled,this.produceEvent(i);break}}}Ea(t){return this.ya&&!lt.getProperty(t,Mr)}ab(t){switch(t.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this.Ea(t.target)||Y.isMaskedElement(t.target)||Y.isMaskedElementChild(t.target);case"characterDataChanged":{let e=t.target.parentElement;return e!==null&&(this.Ea(e)||Y.isMaskedElement(e)||Y.isMaskedElementChild(e))}case"attributeChanged":return this.Ea(t.target)||Y.isMaskedElementChild(t.target)||Y.isMaskedAttribute(t.target,t.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":case"cssStyleSheetDisabled":return this.Ea(t.target)||Y.isMaskedElementChild(t.target);default:return!1}}}return s})(),tn=(()=>{let s;return function(r){function t(e){return e.type==="DomEvent"}r.isDOMEvent=t}(s||(s={})),s})(),en=(()=>{class s{constructor(){this.ne=[]}start(){}stop(){this.ne.length=0,this.ne=[]}pushEvent(t){if(s.pendingEvents++,this.isListening(t)){let e=this.ne;csSetTimeout(()=>{let n=si("Processor:processEvent",o=>this.processEvent(o))(t);n!=null&&csArray.prototype.forEach.call(e,o=>o(n)),s.pendingEvents--})}else csSetTimeout(()=>{csArray.prototype.forEach.call(this.ne,e=>e(t))})}subscribe(t){return csArray.prototype.push.call(this.ne,t),()=>{this.ne=csArray.prototype.filter.call(this.ne,e=>e!==t)}}emitEvent(t){ve(()=>csArray.prototype.forEach.call(this.ne,e=>e(t)))}}return s.pendingEvents=0,s})(),yd=(()=>{class s extends en{isListening(t){return tn.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded")}processEvent(t){let e=0,i=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let n of i){if(n instanceof ti){let c=Y.getMaskedAttributeDetails(n);n.attributes=this.Vo(n,c)}if(Y.getMaskedElementDetails(n).state===Y.MaskedElementState.Child){if(t.domEvent==="initialDOM")return null;t.nodes=csArray.prototype.filter.call(t.nodes,c=>c!==n);continue}lt.traverse(n,c=>{if(c instanceof ti){let u=Y.getMaskedAttributeDetails(c);c.attributes=this.Vo(c,u);let d=Y.getMaskedElementDetails(c);d.state===Y.MaskedElementState.Parent&&(this.Gc(c,d),e++)}})}return e>0&&at.counters.sensitiveElements.count("masked-elements",e),t}Vo(t,e){return e.attributes.length===0?t.attributes:csArray.prototype.filter.call(t.attributes,i=>csArray.prototype.indexOf.call(e.attributes,i.name)===-1)}Gc(t,e){let i=`width: ${e.width}px !important; height: ${e.height}px !important;`;t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),ti.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})}}return Ms([ie("MaskedElementProcessor.processEvent")],s.prototype,"processEvent",null),s})(),ph=(()=>{let s;return function(r){function t(e){return e.type==="TextVisibility"}r.isTextVisibilityEvent=t}(s||(s={})),s})(),Ed=(()=>{class s extends en{constructor(t,e,i,n=null,o=!1){super(),this.M=i,this.Uo=n,this.captureAnonymizedPlaceholders=o,this.Sa=new Uu(t,e,i,n,o)}setAnonymization(t){this.Sa.setAnonymization(t)}isListening(t){return ph.isTextVisibilityEvent(t)||tn.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged")}processEvent(t){if(ph.isTextVisibilityEvent(t))return t.text=this.M.checkAndAnonymizePII(t.text,this.Uo),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.ch(t);break;case"attributeChanged":this.lb(t);break;case"characterDataChanged":this.hb(t);break}return t}ch(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes,i;t.domEvent==="nodesAdded"&&(i={targetLocalName:t.targetLocalName,targetProps:t.targetProps});for(let n of e)this.Sa.sanitize(n,i)}lb(t){if(!t.isSvg&&t.newValue){if(t.localName===null){t.newValue="";return}t.newValue=this.Sa.getAnonymizedAttributeValue(t.localName,t.attribute,t.newValue,t.inputType)}}hb(t){t.newValue=this.Sa.getAnonymizedValue(t.newValue,t.parentLocalName,t.parentProps).anonymizedValue}}return Ms([ie("AnonymizedTextProcessor.processEvent")],s.prototype,"processEvent",null),s})();function Jc(s){let r=csString.prototype.trim.call(s);if(s==="")return[];let[t,e]=SS(r);return e?(rr(t,",")||(e=vS(e)),[fh(t),...Jc(e)]):[fh(t)]}function SS(s){return csString.prototype.split.call(s,/\s(.+)/)}function fh(s){return csString.prototype.split.call(s,/,$/)[0]}function vS(s){return csString.prototype.split.call(s,/,(.+)/)[1]||""}var _S=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\)(?!\\))/g;function wS(s,r){return csString.prototype.replace.call(s,_S,(...e)=>{let i=e[3]||e[4],n=e[9]||e[10]||e[11],o=TS((i||n).trim()),c=i?"@import ":"",u=r(o)||o;return`${c}url(${bS(u)})`})}function bS(s){return csString.prototype.indexOf.call(s,'"')===-1?`"${s}"`:csString.prototype.indexOf.call(s,"'")===-1?`'${s}'`:s}function Lr(s){let r=new Set;return wS(s,t=>{var e,i;return r.add((i=(e=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))===null||e===void 0?void 0:e[1])!==null&&i!==void 0?i:t),t}),ii(r)}function TS(s){let r=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g;return csString.prototype.replace.call(s,r,(t,e,i,n)=>{if(e==="\\")return csString.prototype.slice.call(t,1);if(n)return n;let o=parseInt(i,16);return 55296<=o&&o<=57343||o===0||o>1114111?"\uFFFD":csString.fromCodePoint(o)})}var gh=(()=>{class s{static async toStaticResourceEvent(t,e,i){let n=await s.pb(t);if(!n)return null;let o=await s.xf(n),c=Ye(t)?void 0:t,u={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:o,data:n}};return c&&(u.originalResourceName=c),u}static async toCSSStaticResourceEvent(t,e,i,n){let o=await s.fb(t,n),c=Qs(t),u=o.get(c);if(!u)return null;let d={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:u.hash,data:u.data}};return o.delete(c),o.size&&(d.nestedResources=[],o.forEach(E=>{E&&csArray.prototype.push.call(d.nestedResources,{hash:E.hash,data:E.data})})),d}static async xf(t){let e=await t.arrayBuffer(),i=await crypto.subtle.digest(this.Lf,e);return xa(i)}static async pb(t){let e;if(!Ye(t))e=await(await window.fetch(t)).blob();else{let i=pl(t);if(!i)return null;e=i}return e}static async fb(t,e){let i=new Map,n=Qs(t),c=[{resourceRawPath:t,resourceAbsolutePath:n}];for(;c.length>0;){let u=csArray.prototype.pop.call(c);if(!e&&u.resourceAbsolutePath!==null&&!Ye(u.resourceAbsolutePath)){i.set(u.resourceAbsolutePath,null);continue}if(i.get(u.resourceAbsolutePath)===void 0)try{if(u.resourceRawPath===null||csString.prototype.indexOf.call(u.resourceRawPath,".css")>0){if(!u.data){let w=await fetch(u.resourceAbsolutePath);u.data=await w.text()}u.nestedResources||(u.nestedResources=Lr(u.data));let f=!1,_=!1;for(let w of u.nestedResources){let A=Ye(w)?w:u.resourceAbsolutePath?hu(w,u.resourceAbsolutePath):Qs(w),V=i.get(A);if(V!==void 0){if(V!==null){let P=s.gb(V,w);u.data=ge.stringReplaceAll(u.data,w,P)}continue}Ps(c,P=>P.resourceAbsolutePath===A)!==void 0||(f=!0,_||(csArray.prototype.push.call(c,u),_=!0),csArray.prototype.push.call(c,{resourceRawPath:w,resourceAbsolutePath:A}))}if(!f){let w=await s.mb(u.data);i.set(u.resourceAbsolutePath,{hash:w.hash,data:w.data})}}else{let f;if(!Ye(u.resourceAbsolutePath))f=await(await fetch(u.resourceAbsolutePath)).blob();else{let w=pl(u.resourceAbsolutePath);if(!w){i.set(u.resourceAbsolutePath,null);continue}f=w}let _=await s.xf(f);i.set(u.resourceAbsolutePath,{hash:_,data:f})}}catch{i.set(u.resourceAbsolutePath,null)}}return i}static gb(t,e){let i=`cs://resources/${t.hash}`;return Ye(e)||(i+=`?${s.lh}=${e}`),i}static async mb(t){let e=new Blob([t],{type:"text/css"}),i=await e.arrayBuffer(),n=await crypto.subtle.digest(s.Lf,i);return{data:e,hash:xa(n)}}}return s.Lf="SHA-256",s.lh="original-resource-name",s})(),Sd=(()=>{class s extends en{constructor(){super(),this.va="cssrm://",this.ge=0,this.ws=!1}isListening(t){return!s.isSupported()||!tn.isDOMEvent(t)?!1:t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged"}processEvent(t){switch(t.domEvent){case"initialDOM":case"nodesAdded":this.yb(t);break;case"attributeChanged":this.Eb(t);break;case"characterDataChanged":this.Sb(t);break}return t}disableOnlineAssets(){this.ws=!1}enableOnlineAssets(){this.ws=!0}isOnlineAssetsActivated(){return this.ws}yb(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let i of e)lt.traverse(i,(n,o)=>{if(n.nodeType===er.TEXT_NODE&&o){this.vb(n,o.localName);return}if(!ti.isElement(n))return;let c=Ps(n.attributes,u=>u.name==="style");if(c&&(c.value=this._a(c.value)),this._b(n)||this.wb(n,o)){let u=Ps(n.attributes,E=>E.name==="src");u&&u.value&&(u.value=this.Vf(u.value));let d=Ps(n.attributes,E=>E.name==="srcset");if(d){d.value=this.Uf(d.value);return}}if(this.bb(n)&&this.ws){let u=Ps(n.attributes,d=>d.name==="href");if(!u||!u.value)return;this.ge++,this.mr(Qs(u.value),this.ge,!0),this.Tb(n,u,this.ge)}})}Tb(t,e,i){csArray.prototype.push.call(t.attributes,{name:"data-cs-original-href",namespaceURI:"",value:e.value}),e.value=this.va+i}vb(t,e){if(!t||e!=="style")return;let i=this._a(t.data);i!==null&&(t.data=i)}Sb(t){if(t.parentLocalName!=="style"||!t.newValue)return;let e=this._a(t.newValue);e!==null&&(t.newValue=e)}Eb(t){if(!t.newValue||t.newValue===t.oldValue)return;let e=t.attribute==="src",i=t.attribute==="srcset";if(t.attribute==="style"){t.newValue=this._a(t.newValue);return}if(!e&&!i)return;let o=t.localName==="img",c=t.localName==="source"&&t.parentLocalName&&t.parentLocalName==="picture";!o&&!c||(e&&(t.newValue=this.Vf(t.newValue)),i&&(t.newValue=this.Uf(t.newValue)))}Vf(t){return Ye(t)||this.ws?(this.ge++,this.mr(t,this.ge,!1,K.now()),this.va+this.ge):t}Uf(t){if(!this.ws)return t;let e=t,i=Jc(t),n=K.now();for(let o of i)this.ge++,this.mr(Qs(o),this.ge,!1,n),e=csString.prototype.replace.call(e,o,this.va+this.ge);return e}_a(t){let e=Lr(t),i=t,n=K.now();for(let o of e){let c=Ye(o);if(!(c||this.ws)||this.Ab(o))continue;this.ge++,i=csString.prototype.replace.call(i,o,this.va+this.ge);let u=Wn(o);c?this.mr(o,this.ge,!1,n):this.ws&&(u?this.mr(o,this.ge,!0,n):this.mr(Qs(o),this.ge,!1,n))}return i}mr(t,e,i,n=K.now()){let o=i?gh.toCSSStaticResourceEvent:gh.toStaticResourceEvent,c=new Kc(async u=>{try{let d=await o(t,e,n,this.ws);u(d||{type:"warning",message:`Failed to process static resource: ${t}`})}catch(d){u({type:"warning",message:d})}});this.emitEvent(c)}_b(t){return t.localName==="img"}wb(t,e){return t.localName==="source"&&!!e&&e.localName==="picture"}bb(t){return t.localName==="link"&&csArray.prototype.some.call(t.attributes,e=>e.name==="rel"&&e.value==="stylesheet")}static isSupported(){return Xp()&&Kp()&&!!csArray.from}Ab(t){return csString.prototype.replace.call(t,/['"]+/g,"").length===0}}return Ms([ie("StaticResourceManagerProcessor.processEvent")],s.prototype,"processEvent",null),s})(),vd=(()=>{class s extends en{constructor(t){super(),this.tt=t}isListening(t){return tn.isDOMEvent(t)&&t.domEvent==="initialDOM"}processEvent(t){return t.domEvent==="initialDOM"&&(t.initialDOM.baseURI=this.tt.anonymizeUrl(t.initialDOM.baseURI)),t}}return Ms([ie("UrlAnonymizationProcessor.processEvent")],s.prototype,"processEvent",null),s})(),ba="textarea",_d=(()=>{class s extends en{isListening(t){return tn.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="characterDataChanged")}processEvent(t){switch(t.domEvent){case"initialDOM":this.Rb(t);break;case"nodesAdded":this.Cb(t);break;case"characterDataChanged":this.Ib(t);break}return t}Rb(t){lt.traverse(t.initialDOM,(e,i)=>{(this.jf(e,i)||this.Hf(e))&&(e.data=this.hh(e.data))})}Cb(t){for(let e of t.nodes)lt.traverse(e,(i,n)=>{(this.Pb(i,n,t)||this.Hf(i))&&(i.data=this.hh(i.data))})}Ib(t){var e;(t.parentLocalName===ba||!((e=t.targetProps)===null||e===void 0)&&e.editableNode)&&(t.newValue=this.hh(t.newValue))}hh(t){return csString.prototype.replace.call(t,/\S/g,"\u2022")}Pb(t,e,i){return this.Ob(t,i)||this.jf(t,e)}Ob(t,e){return t.nodeType===3&&e.targetLocalName===ba}jf(t,e){return t.nodeType===3&&mt(e)&&e.localName===ba}Hf(t){return t.nodeType===3&&Cs.isEditableNode(t)}}return Ms([ie("AnonymizedEditableTextProcessor.processEvent")],s.prototype,"processEvent",null),s})(),AS=(()=>{class s{constructor(t){this.A=t,this.$t={boundElement:window,type:"resize",listener:()=>this.resizeListener()},this.A=t}observe(){Dt(this.$t),this.uh()}uh(){this.resizeListener()}disconnect(){xt(this.$t)}resizeListener(){let t={width:Yt.windowWidth(),height:Yt.windowHeight()};this.A(t)}}return St([G("resize")],s.prototype,"resizeListener",null),s})(),Ys=(()=>{let s;return function(r){r.PORTRAIT="Portrait",r.LANDSCAPE="Landscape"}(s||(s={})),s})(),On=(()=>{let s;return function(r){r.PORTRAIT_PRIMARY="portrait-primary",r.PORTRAIT_SECONDARY="portrait-secondary",r.LANDSCAPE_PRIMARY="landscape-primary",r.LANDSCAPE_SECONDARY="landscape-secondary"}(s||(s={})),s})(),Nn=(()=>{let s;return function(r){r[r.PORTRAIT=0]="PORTRAIT",r[r.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",r[r.LANDSCAPE=-90]="LANDSCAPE",r[r.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(s||(s={})),s})(),RS=(()=>{let s;return function(r){let t=null;r.isScreenOrientationApiSupported=()=>{var c;return t!=null?t:t=!!(!((c=_t.screen)===null||c===void 0)&&c.orientation)},r.isDeprecatedScreenOrientationApiSupported=()=>"orientation"in _t;function e(){return Ys.LANDSCAPE}function i(){var c;switch((c=_t.screen.orientation)===null||c===void 0?void 0:c.type){case On.PORTRAIT_PRIMARY:case On.PORTRAIT_SECONDARY:return Ys.PORTRAIT;case On.LANDSCAPE_PRIMARY:case On.LANDSCAPE_SECONDARY:return Ys.LANDSCAPE;default:return Ys.PORTRAIT}}function n(){switch(window.orientation){case Nn.PORTRAIT:case Nn.PORTRAIT_REVERSE:return Ys.PORTRAIT;case Nn.LANDSCAPE:case Nn.LANDSCAPE_REVERSE:return Ys.LANDSCAPE;default:return Ys.PORTRAIT}}function o(){return r.isScreenOrientationApiSupported()?i():r.isDeprecatedScreenOrientationApiSupported()?n():e()}r.getCurrentOrientation=o}(s||(s={})),s})(),CS=(()=>{class s extends ks{constructor(){super(...arguments),this.ph=null,this.fh=null,this.Ds=new AS(t=>{this.produceEvent({...t,type:"viewportResize"}),this.onScreenPotentiallyChanged()})}onScreenPotentiallyChanged(){let t=RS.getCurrentOrientation(),{screenWidth:e,screenHeight:i}=this.Nb(t);if(e!==this.ph||i!==this.fh){this.ph=e,this.fh=i;let n={type:"screenResize",width:e,height:i};this.produceEvent(n)}}Nb(t){let e,i,n=Yt.screenWidth(),o=Yt.screenHeight();return t===Ys.PORTRAIT?(e=n,i=o):(e=Math.max(n,o),i=Math.min(n,o)),{screenWidth:e,screenHeight:i}}onStart(){this.Ds.observe()}onStop(){this.ph=null,this.fh=null,this.Ds.disconnect()}}return s})();function IS(s){let r=csEventtarget.apply(s);return r&&Mt(r)&&csElementshadowRoot.apply(r)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:r}var PS=(()=>{class s extends ks{constructor(){super(),this.Bf=t=>{let e=IS(t);e&&this.gh(e,t.type)},this.le=new or((t,e)=>{switch(e){case"initial":case"added":this.Ff(t);break;case"removed":this.$f(t);break}}),this.B=new Ke((t,e)=>{(e==="initial"||e==="added")&&this.Mb(t)})}static shouldProcessElement(t){return t.tagName==="VIDEO"&&Ct.isConnected(t)&&!Y.isMaskedElement(t)&&!Y.isMaskedElementChild(t)}static isPlaying(t){return!t.paused&&!t.ended}onStart(){this.Ff(document),this.le.observe(),this.B.observe("video")}onStop(){this.$f(document),this.le.disconnect(),this.B.disconnect()}gh(t,...e){if(this.isStarted&&s.shouldProcessElement(t))for(let i of e){let n=Rt(t),o={type:"VideoEvent",videoEventType:i,nodeId:n};i==="seeked"&&(o.newTimePositionInSec=t.currentTime),vc(()=>this.produceEvent(o))}}Mb(t){for(let e of t)this.gh(e,"seeked"),s.isPlaying(e)&&this.gh(e,"play")}Ff(t){for(let e of["play","pause","seeked"])Dt({type:e,listener:this.Bf,boundElement:t})}$f(t){for(let e of["play","pause","seeked"])xt({type:e,listener:this.Bf,boundElement:t})}}return s})();function OS(s){return s.nodeName==="SELECT"}function Qc(s){return s.nodeName==="INPUT"}function NS(s){return s.nodeName==="TEXTAREA"||Qc(s)&&!wd(s)&&!bd(s)}function wd(s){return Qc(s)&&s.type==="number"}function bd(s){return Qc(s)&&(s.type==="checkbox"||s.type==="radio")}var Td=(()=>{class s extends ks{constructor(t){super(),this.lt=t,this.mh=new vm("low"),this.yr=e=>this.inputHandler(e),this.Ti=[],this.kb(),this.Db(),this.B=new Ke(e=>{for(let i of e)this.yh(i)&&ve(()=>{this.Eh(i,Rt(i))},"low")}),this.le=new or((e,i)=>{switch(i){case"initial":case"added":Dt({type:"change",listener:this.yr,boundElement:e});break;case"removed":xt({type:"change",boundElement:e,listener:this.yr});break}})}onStart(){Dt({type:"keyup",boundElement:document,listener:this.yr}),Dt({type:"change",boundElement:document,listener:this.yr}),ht(this.Ti,t=>t.activate()),this.B.observe(csArray.prototype.join.call(s.xb,",")),this.le.observe()}onStop(){xt({type:"keyup",boundElement:document,listener:this.yr}),xt({type:"change",boundElement:document,listener:this.yr}),ht(this.Ti,t=>t.deactivate()),this.B.disconnect(),this.le.disconnect(),this.mh.clear()}Eh(t,e){var i,n,o;if(this.mh.has(t))return;if(this.mh.add(t),OS(t)){let d={type:"InputEvent",inputType:"select",target:Rt(t),selectedIndex:t.selectedIndex,timestamp:K.now()};this.produceEvent(d);return}if(bd(t)){let d={type:"InputEvent",inputType:"checkable",target:Rt(t),checked:t.checked,timestamp:K.now()};this.produceEvent(d);return}let c=NS(t),u=wd(t);if(c||u){let d=(i=t.value)!==null&&i!==void 0?i:"";if(!((n=this.lt)===null||n===void 0)&&n.shouldEncrypt(t)){(o=this.lt)===null||o===void 0||o.registerInputNodeToEncrypt({targetId:e,targetValue:d,date:K.now()});return}let E=u?"0":"\u2022",f={type:"InputEvent",inputType:"text",target:Rt(t),value:csString.prototype.replace.call(d,/\S/g,E),timestamp:K.now()};this.produceEvent(f)}}inputHandler(t){if(!this.isStarted)return;let e=te(t),i=Rt(e);!i||!this.yh(e)||Ct.isConnected(e)&&ve(()=>{this.Eh(e,i)},"low")}kb(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")}Db(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)}trackChanges(t,e,i=!1){let n=Xn(t.prototype,e,(o,c,u)=>{if(u!==c&&Ct.isConnected(o)){let d=i?o.parentElement:o;this.Lb(d)}});n&&csArray.prototype.push.call(this.Ti,n)}yh(t){return!Y.isMaskedElement(t)&&!Y.isMaskedElementChild(t)&&(eo(t)||Ac(t)||Tc(t))}Lb(t){if(this.isStarted&&Ct.isConnected(t)){let e=Rt(t);e&&this.yh(t)&&ve(()=>{this.Eh(t,e)},"low")}}}return s.xb=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],Ms([Pt()],s.prototype,"inputHandler",null),Ms([G()],s.prototype,"trackChanges",null),s})(),MS=(()=>{class s{constructor(t=Number.POSITIVE_INFINITY){this.Zs=[],this.ot=[],this.Vb=t}next(t){this.ot.length===this.Vb&&csArray.prototype.shift.call(this.ot),csArray.prototype.push.call(this.ot,t),this.ot.length===1&&csSetTimeout(()=>this.clear());for(let e of this.Zs)e(t)}subscribe(t){if(Ps(this.Zs,i=>t===i))return()=>{this.Zs=csArray.prototype.filter.call(this.Zs,i=>i!==t)};csArray.prototype.push.call(this.Zs,t);for(let i of this.ot)t(i);return()=>{this.Zs=csArray.prototype.filter.call(this.Zs,i=>i!==t)}}clear(){this.ot=[]}hasObservers(){return this.Zs.length>0}}return s})(),Ad=(()=>{var s;class r{constructor(e){this.A=e}observe(){this.Ub=s.On.subscribe(e=>this.A(e)),s.wa||(s.wa=!0,s.Pn.observe(),_e(document,NodeFilter.SHOW_ELEMENT).visitAll(i=>{s._s.add(i),s.On.next(i)}))}disconnect(){s.wa&&(this.Ub(),s.On.hasObservers()||(s.wa=!1,s.Pn.disconnect(),s.On.clear(),s._s.clear()))}}return s=r,r._s=new no,r.On=new MS,r.jb=Ci(t=>{ve(()=>{for(let e of t)e.type==="childList"&&ht(e.addedNodes,i=>{_e(i,NodeFilter.SHOW_ELEMENT).visitAll(o=>{s._s.has(o)||(s._s.add(o),s.On.next(o))})})})},"ElementObserver.findAllElements"),r.wa=!1,r.Pn=new Je(s.jb),St([G()],r.prototype,"observe",null),St([G()],r.prototype,"disconnect",null),r})(),Rd=(()=>{class s extends ks{constructor(){super(),this.Ss=typeof window.customElements=="object"&&typeof window.customElements.whenDefined=="function"&&typeof window.Promise=="function",this.Hb=si("CustomElementRegistrationProducer:onElementsFound",e=>{for(let i of e)Y.isMaskedElement(i)||Y.isMaskedElementChild(i)||Pf(i)&&this.register(csString.prototype.toLowerCase.call(i.tagName))});let t=oo(this.Hb);this.Nn=new Ad(e=>t.push(e)),this.Qs=new Set}onStart(){this.Ss&&this.Nn.observe()}onStop(){this.Qs.clear(),this.Nn.disconnect()}async register(t){this.Qs.has(t)||(this.Qs.add(t),await window.customElements.whenDefined(t),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(t)}))}}return Ms([G()],s.prototype,"register",null),s})(),mh=(()=>{class s{static isNavigationTimingObserverSupported(){var t,e;return(((t=window.PerformanceObserver)===null||t===void 0?void 0:t.supportedEntryTypes)==null?void 0:csArray.prototype.indexOf.call((e=window.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes,"navigation"))>=0}static getTimeOrigin(){return window.performance.timeOrigin}static zf(){if(this.isNavigationTimingObserverSupported())return new window.PerformanceObserver(t=>s.Bb(t))}static Bb(t){let i=t.getEntriesByType("navigation")[0];i&&(this.Li=i,s.Er(i))}static Ur(t){this.Fb(t),this.Li&&t(this.Li),this.ke||this.$b()}static Fb(t){this.Mt.add(t)}static zb(t){this.Mt.delete(t)}static $b(){if(this.Mn||(this.Mn=this.zf()),!this.Mn){this.Li||(this.Li={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),this.Er(this.Li);return}this.Mn.observe({type:"navigation",buffered:!0}),this.ke=!0}static Er(t){this.Mt.forEach(e=>e(t))}static Hr(t){this.zb(t),this.Mt.size===0&&this.kn()}static kn(){var t;this.ke&&((t=this.Mn)===null||t===void 0||t.disconnect(),this.ke=!1,this.Li=null,this.Mn=this.zf())}constructor(t){this.A=t}observe(){s.Ur(this.A)}disconnect(){s.Hr(this.A)}}return s.ke=!1,s.Mt=new Set,s.Li=null,s})(),Cd=(()=>{class s extends ks{constructor(){super(...arguments),this.ba=null,this.Gf=new mh(t=>{if(this.ba)return;let e=this.Gb(t);e&&(this.ba=e,this.produceEvent(e))})}onStart(){if(this.ba){this.produceEvent(this.ba);return}this.Gf.observe()}onStop(){this.Gf.disconnect()}Gb(t){let e=mh.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:e,requestStart:Math.floor(e+t.requestStart),domInteractive:Math.floor(e+t.domInteractive)},timestamp:K.now()}}}return s})(),kS="touchstart",DS="touchmove",xS="touchend",Id=(()=>{class s{constructor(t){this.A=t}observe(){s.qf&&s.Sh(this.A)}disconnect(){s.qf&&s.vh(this.A)}static qb(t,e){csArray.prototype.forEach.call(ii(s.Mt),i=>i(t,e))}static Sh(t){s.Mt.has(t)||(s.Mt.add(t),s.Mt.size===1&&(s.Dn.onGesture(s.qb),csArray.prototype.forEach.call(s.Vs,e=>Dt(e))))}static vh(t){s.Mt.delete(t),s.Mt.size===0&&csArray.prototype.forEach.call(s.Vs,e=>xt(e))}static _h(t){if(s.Dn.isValidTouchEvent(t))switch(t.type){case"touchstart":s.Dn.processActionDown(t);break;case"touchmove":s.Dn.processActionMove();break;case"touchend":s.Dn.processActionUp(t);break}}}return s.Vs=[{boundElement:_t.document,type:kS,listener:r=>s._h(r)},{boundElement:_t.document,type:DS,listener:r=>s._h(r)},{boundElement:_t.document,type:xS,listener:r=>s._h(r)}],s.qf=qa.isGestureDetectionSupported(),s.Mt=new Set,s.Dn=new qa,s})(),Pd=(()=>{class s extends ks{constructor(){super(),this.xn=new Id(this.Vc.bind(this))}onStart(){this.xn.observe()}onStop(){this.xn.disconnect()}Vc(t){let e=this.Wb(t);e&&this.produceEvent(e)}Wb(t){if(!this.Yb(t))return null;let e=Dm(t.target);return e?{type:"Gesture",targetId:e,data:{type:t.type,direction:t.direction,distance:t.distance,velocity:t.velocity,pageX:t.pageX,pageY:t.pageY}}:null}Yb(t){return t.target!==null&&!(Mt(t.target)&&Y.isMaskedElementChild(t.target))}}return s})(),Wi=[],cc=!1,Od=Ci(VS,"executeTasks");function LS(s){if(csArray.prototype.push.call(Wi,s),!cc){for(let r=0;r<3;r++)csSetTimeout(Od);cc=!0}}function VS(){let s=csDate.now();for(let r=0;r<Wi.length;r++)if(Wi[r](),csDate.now()-s>=35){Wi=csArray.prototype.slice.call(Wi,r+1),csSetTimeout(Od);return}Wi=[],cc=!1}var Gs=(()=>{let s;return function(r){r[r.Started=0]="Started",r[r.Stopped=1]="Stopped",r[r.Processing=2]="Processing",r[r.Completed=3]="Completed"}(s||(s={})),s})(),Nd=(()=>{class s{constructor(){this.kt=new zr,this.Pt=Gs.Stopped,this.A=null,this.Xf=t=>{this.Pt===Gs.Stopped||!t||(this.A(t),this.Kf())}}get queueLength(){return this.kt.length}start(t){if(this.A)throw new Error("callback already set");this.Pt=Gs.Started,this.A=t}push(t){this.kt.push(t),this.bh()}stop(){this.A=null,this.Pt=Gs.Stopped,this.kt.clear()}static pipe(t,e){let i=t,n=new csArray;for(let c of e){let u=new s;u.start(d=>{c.pushEvent(d)}),csArray.prototype.push.call(n,u),ht(i,d=>d.subscribe(E=>u.push(E))),i=[c]}let o=new US(n);return ht(i,c=>c.subscribe(u=>o.push(u))),o}Jf(){return this.Pt===Gs.Stopped}is(){return this.Pt===Gs.Processing}Kf(){if(!this.Jf()){if(this.kt.isEmpty){this.Pt=Gs.Completed;return}this.Pt=Gs.Processing,LS(()=>{let t=this.kt.pop();t instanceof Kc?t.complete(this.Xf):this.Xf(t)})}}bh(){this.Jf()||this.is()||this.Kf()}}return s})(),US=(()=>{class s extends Nd{constructor(t){super(),this.Qf=t}get queueLength(){return csArray.prototype.reduce.call(this.Qf,(t,e)=>t+e.queueLength,0)}stop(){super.stop(),ht(this.Qf,t=>t.stop())}}return s})(),Md=(()=>{class s{constructor(t,e=[]){this.producers=t,this.processors=e,this.F=!1,this.Mt=[]}get pendingEvents(){var t,e;return(e=(t=this.kt)===null||t===void 0?void 0:t.queueLength)!==null&&e!==void 0?e:0}start(){if(this.F)throw new Error("Recording is already started.");let t=this.Mt;this.kt=Nd.pipe(this.producers,this.processors),this.kt.start(e=>csArray.prototype.forEach.call(t,i=>i(e))),ht(this.producers,e=>e.start()),ht(this.processors,e=>e.start()),this.F=!0}stop(){this.kt.stop(),this.Mt.length=0;for(let t of this.producers)t.stop();for(let t of this.processors)t.stop();this.F=!1,this.Mt=[]}subscribe(t){if(this.F)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.Mt,t),()=>this.Mt=csArray.prototype.filter.call(this.Mt,e=>e!==t)}}return s})(),jS=(()=>{class s{constructor(t){this.Aa={},this.Oe=new Yc(t)}save({key:t,metadata:e,events:i}){this.Oe.isThresholdReached()||(this.Oe.addString(t),typeof i=="string"?this.Oe.addString(i):this.Oe.addArrayBuffer(i),!this.Oe.isThresholdReached()&&(this.Aa[t]={metadata:e,events:i}))}recover(t){let e=[];csArray.prototype.forEach.call(this.Zb(),i=>{let n=this.Aa[i];n!==void 0&&(delete n.metadata.datatype,csArray.prototype.push.call(e,n),this.tT(i))}),e.length!==0&&(t(e),this.Oe.reset())}Zb(){return Object.keys(this.Aa)}tT(t){delete this.Aa[t]}}return s})(),qs=(()=>{let s;return function(r){r[r.NOT_STARTED=0]="NOT_STARTED",r[r.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",r[r.OPEN_FAILED=2]="OPEN_FAILED",r[r.READY=3]="READY"}(s||(s={})),s})(),HS=(()=>{class s{constructor(t,e,i){this.ir=t,this.eT=i,this.Vi=qs.NOT_STARTED,this.Ra=[],this.Th=0,this.sT=self.origin,this.Pe=typeof window=="object"?"":"worker-",this.Oe=new Yc(e),this.jl()}async jl(){await this.Zf(),this.Vi===qs.READY?this.iT():this.eT(this.Ra)}iT(){csArray.prototype.forEach.call(this.Ra,t=>{this.save(t)}),this.Ra=[]}async save(t){try{if(this.Vi===qs.OPEN_IN_PROGRESS){csArray.prototype.push.call(this.Ra,t);return}if(this.Vi!==qs.READY||this.Oe.isThresholdReached())return;let{key:e,metadata:i,events:n}=t;if(this.Oe.addString(e),typeof n=="string"?this.Oe.addString(n):this.Oe.addArrayBuffer(n),this.Oe.isThresholdReached())return;await this.se.put(`${this.sT}/${e}`,new Response(n,{headers:i}))}catch{}}async recover(t){!this.se&&(await this.Zf(),this.Vi!==qs.READY)||this.rT(t)}async Zf(){try{this.Vi=qs.OPEN_IN_PROGRESS,this.se=await self.caches.open(`${this.Pe}${this.ir}`),this.Vi=qs.READY}catch{this.Vi=qs.OPEN_FAILED}}async rT(t){try{if(this.Th++,this.Th>1)return;let e=await this.se.keys();if(e.length===0)return;let i=await this.se.matchAll(),n=csArray.prototype.map.call(i,c=>{let u={};c.headers.forEach((E,f)=>{u[f]=E}),delete u["content-type"];let d=u.datatype;return delete u.datatype,d==="json"||d==="base64"?c.text().then(E=>({metadata:u,events:E})):c.arrayBuffer().then(E=>({metadata:u,events:E}))}),o=await Promise.all(n);await Promise.all(csArray.prototype.map.call(e,c=>this.se.delete(c))),t(o),this.Oe.reset()}catch{}finally{this.Th--}}}return s})(),BS=(()=>{class s{constructor(t){try{this.nT(t)}catch{this.Ah()}}nT(t){self.caches?this.oT(t):this.Ah()}save(t){this.Ca.save(t)}recover(t){this.Ca.recover(t)}oT(t){this.Ca=new HS(t,s.tg,e=>{this.Ah(e)})}Ah(t){this.Ca=new jS(s.tg),t&&csArray.prototype.forEach.call(t,e=>{this.Ca.save(e)})}}return s.tg=1024*1024*16,s})(),FS=(()=>{class s{constructor(t,e){this.S=t,this.R=e,this.Ln=Ve.ETR_DISABLED,this.Ia=Ve.ETR_PENDING,this.Rh=!0}getEtrStatus(t){t===void 0&&(t=this.R.getSession());let e=t==null?void 0:t.etrStatus;return this.eg()&&e===Ve.ETR_SAVED_SESSION?e:this.Ln}onEventTriggerRecording(t,e){switch(e){case Zs.ETR_PAGE:this.sg(Ve.ETR_SAVED_PAGE);break;case Zs.ETR_LEGACY:case Zs.ETR_SESSION:this.sg(Ve.ETR_SAVED_SESSION);break}}onCollectStateChange(t,e){t===Z.RECORDING_TEMPORARILY?this.Rh=!0:this.Rh=!1,t===Z.ANALYTICS_ONLY&&e===Se.ETR_ON?this.ig(this.Ia):this.ig(Ve.ETR_DISABLED)}ig(t){this.Ln=t,this.Ia=Ve.ETR_PENDING,this.rg(t),this.S.emitRecordingContextChange()}sg(t){this.Rh?Number(t)>Number(this.Ia)&&(this.Ia=t):this.eg()&&Number(t)>Number(this.Ln)&&(this.Ln=t,this.rg(t),this.S.emitRecordingContextChange())}rg(t){let e=this.R.getSession();e!==null&&e.etrStatus===Ve.ETR_NOT_SAVED_SESSION&&t===Ve.ETR_SAVED_SESSION&&(e.etrStatus=t,this.R.setSession(e))}eg(){return this.Ln!==Ve.ETR_DISABLED}}return s})(),Q=(()=>{let s;return function(r){r[r.MUTATION_INSERT=1]="MUTATION_INSERT",r[r.MUTATION_REMOVE=2]="MUTATION_REMOVE",r[r.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",r[r.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",r[r.INITIAL_DOM=5]="INITIAL_DOM",r[r.SCROLL=6]="SCROLL",r[r.CLICK=8]="CLICK",r[r.RESIZE=9]="RESIZE",r[r.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",r[r.INPUT_SELECT=11]="INPUT_SELECT",r[r.INPUT_TEXT=12]="INPUT_TEXT",r[r.HASH_CHANGE=13]="HASH_CHANGE",r[r.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",r[r.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",r[r.MOUSE_OVER=16]="MOUSE_OVER",r[r.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",r[r.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",r[r.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",r[r.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",r[r.ATTACH_SHADOW=22]="ATTACH_SHADOW",r[r.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",r[r.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",r[r.PAGE_EVENT=27]="PAGE_EVENT",r[r.API_ERROR=28]="API_ERROR",r[r.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",r[r.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",r[r.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",r[r.KEY_DOWN=32]="KEY_DOWN",r[r.KEY_UP=33]="KEY_UP",r[r.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",r[r.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",r[r.USER_IDENTIFIER=38]="USER_IDENTIFIER",r[r.TOUCH_START=41]="TOUCH_START",r[r.TOUCH_MOVE=42]="TOUCH_MOVE",r[r.TOUCH_END=43]="TOUCH_END",r[r.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",r[r.POINTER_DOWN=47]="POINTER_DOWN",r[r.POINTER_MOVE=48]="POINTER_MOVE",r[r.POINTER_UP=49]="POINTER_UP",r[r.CUSTOM_ERROR=50]="CUSTOM_ERROR",r[r.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",r[r.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",r[r.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",r[r.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",r[r.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",r[r.SCREEN_RESIZE=65]="SCREEN_RESIZE",r[r.RESOURCE_HASHES=66]="RESOURCE_HASHES",r[r.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",r[r.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",r[r.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",r[r.TEXT_REF=73]="TEXT_REF",r[r.TOUCH_CANCEL=74]="TOUCH_CANCEL",r[r.MUTATION_MOVE=75]="MUTATION_MOVE",r[r.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",r[r.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",r[r.VIDEO_PLAY=78]="VIDEO_PLAY",r[r.VIDEO_PAUSE=79]="VIDEO_PAUSE",r[r.VIDEO_SEEK=80]="VIDEO_SEEK",r[r.ADOPTED_STYLESHEET_DISABLED=98]="ADOPTED_STYLESHEET_DISABLED",r[r.STYLESHEET_DISABLED=99]="STYLESHEET_DISABLED",r[r.DEBUG=999]="DEBUG"}(s||(s={})),s})(),Cr=(()=>{let s;return function(r){r[r.SWIPE=0]="SWIPE",r[r.PINCH_IN=1]="PINCH_IN",r[r.PINCH_OUT=2]="PINCH_OUT",r[r.LONG_PRESS=3]="LONG_PRESS",r[r.TAP=4]="TAP",r[r.DOUBLE_TAP=5]="DOUBLE_TAP"}(s||(s={})),s})();function $S(s,r,t){let{timestamp:e}=s;switch(s.domEvent){case"initialDOM":{let{initialDOM:i}=s,n={type:Q.INITIAL_DOM,date:e,args:[i]};t.emitInitialDomDone(n);break}case"nodesAdded":{csArray.prototype.forEach.call(s.nodes,i=>{r({type:Q.MUTATION_INSERT,date:e,args:[s.target,s.nextSibling,i]})});break}case"nodesMoved":{for(let i of s.nodesIds)r({type:Q.MUTATION_MOVE,date:e,args:[i,s.nextSibling,s.target]});break}case"nodesRemoved":{csArray.prototype.forEach.call(s.nodesIds,i=>{r({type:Q.MUTATION_REMOVE,date:e,args:[i]})});break}case"attributeChanged":{let{target:i,namespace:n,attribute:o,newValue:c}=s;r({type:Q.MUTATION_ATTRIBUTE,date:e,args:[i,n,o,c]});break}case"characterDataChanged":{let{target:i,newValue:n}=s;r({type:Q.MUTATION_CHARACTER_DATA,date:e,args:[i,n]});break}case"cssRuleInserted":{let{target:i,rule:n,index:o}=s,c=mt(o)?[i,n,o]:[i,n];r({type:Q.STYLESHEET_RULE_INSERT,date:e,args:c});break}case"cssRuleDeleted":{let{target:i,index:n}=s;r({type:Q.STYLESHEET_RULE_DELETE,date:e,args:[i,n]});break}case"cssRuleUpdated":{let{target:i,rule:n,index:o}=s;r({type:Q.STYLESHEET_RULE_UPDATE,date:e,args:[i,n,o]});break}case"cssStyleSheetDisabled":{let{target:i,disabled:n}=s;r({type:Q.STYLESHEET_DISABLED,date:e,args:[i,n]});break}case"shadowRootAttached":{let{target:i,shadowRoot:n}=s;r({type:Q.ATTACH_SHADOW,date:e,args:[i,n]});break}case"adoptedStyleSheetRegistered":{let{sheetId:i,cssRules:n,disabled:o}=s;r({type:Q.REGISTER_ADOPTED_STYLE_SHEET,date:e,args:[i,{cssRules:n,disabled:o}]});break}case"adoptedStyleSheetsSet":{let{target:i,sheetsIds:n}=s;r({type:Q.SET_ADOPTED_STYLE_SHEETS,date:e,args:[i,n]});break}case"adoptedStyleSheetRuleInserted":{let{sheetId:i,rule:n,index:o}=s,c=mt(o)?[i,n,o]:[i,n];r({type:Q.ADOPTED_STYLESHEET_RULE_INSERT,date:e,args:c});break}case"adoptedStyleSheetRuleDeleted":{let{sheetId:i,index:n}=s;r({type:Q.ADOPTED_STYLESHEET_RULE_DELETE,date:e,args:[i,n]});break}case"adoptedStyleSheetRuleUpdated":{let{sheetId:i,rule:n,index:o}=s,c=[i,n,o];r({type:Q.ADOPTED_STYLESHEET_RULE_UPDATE,date:e,args:c});break}case"adoptedStyleSheetDisabled":{let{sheetId:i,disabled:n}=s,o=[i,n];r({type:Q.ADOPTED_STYLESHEET_DISABLED,date:e,args:o});break}default:q.error("translateDOMEvent: DOMEvent not supported");break}}function zS(s){let r=GS(s.data);return{type:Q.GESTURE_RECOGNITION,args:[s.targetId,r],date:s.timestamp}}function GS(s){let r={type:qS(s.type)};for(let t in s){let e=s[t];e!==void 0&&t!=="type"&&(r[t]=e)}return r}function qS(s){switch(s){case Wt.DRAG:case Wt.FLICK:return Cr.SWIPE;case Wt.LONG_PRESS:return Cr.LONG_PRESS;case Wt.TAP:return Cr.TAP;case Wt.PINCH_IN:return Cr.PINCH_IN;case Wt.PINCH_OUT:return Cr.PINCH_OUT}}function WS(s,r){let t=[],e=!1;return{push(i){if(csArray.prototype.push.call(t,i),t.length===r.batchSize){this.flush();return}r.autoFlushDelay&&r.autoFlushDelay>0&&!e&&(e=!0,csSetTimeout(()=>{e=!1,t.length>0&&this.flush()},r.autoFlushDelay))},flush(){if(!t.length)return;let i=t;t=[],s(i)}}}var YS=20;function XS(s){return WS(r=>{let t={visibleInViewPort:r},e={type:Q.TEXT_VISIBILITY,date:K.now(),args:[t]};s(e)},{batchSize:YS,autoFlushDelay:1e3})}var Ta=(()=>{let s;return function(r){r.REQUEST_START="requestStart",r.DOM_INTERACTIVE="domInteractive",r.TIME_ORIGIN="timeOrigin"}(s||(s={})),s})();function KS(s){return{type:Q.PERFORMANCE_TIMINGS,args:[{performanceTiming:Ta.REQUEST_START,timestamp:s.timings.requestStart},{performanceTiming:Ta.DOM_INTERACTIVE,timestamp:s.timings.domInteractive},{performanceTiming:Ta.TIME_ORIGIN,timestamp:s.timings.timeOrigin}],date:s.timestamp}}function JS(s){switch(s.inputType){case"text":return{type:Q.INPUT_TEXT,args:[s.target,s.value],date:s.timestamp};case"select":return{type:Q.INPUT_SELECT,args:[s.target,s.selectedIndex],date:s.timestamp};case"checkable":return{type:Q.INPUT_CHECKABLE,args:[s.target,s.checked],date:s.timestamp}}}var QS=500,Aa=0;function ZS(){return{processEvent(s,r){if(s.originalEvent.type===Q.PERFORMANCE_RESOURCE_TIMING)return Aa>=QS?null:(Aa+=1,r({...s.originalEvent,date:s.timestamp}));r(s.originalEvent)},reset(){Aa=0}}}function tv(s){switch(s.videoEventType){case"play":return{type:Q.VIDEO_PLAY,args:[s.nodeId],date:s.timestamp};case"pause":return{type:Q.VIDEO_PAUSE,args:[s.nodeId],date:s.timestamp};case"seeked":{let r=s;return{type:Q.VIDEO_SEEK,args:[r.nodeId,r.newTimePositionInSec],date:s.timestamp}}default:return null}}var kd=(()=>{class s{get pendingEvents(){return this.Oa.pendingEvents}constructor(t,e,i,n,o){this.Oa=t,this.S=e,this.bs=i,this.Ts=n,this.As=o,this.ie=()=>{},this.Na=()=>{},this.og=XS(c=>this.ie(c))}start(){var t,e;this.ag=ZS(),this.Oa.subscribe(i=>{var n,o,c,u,d,E;let f=i,{timestamp:_}=f;switch(f.type){case"Legacy":{let w=f.eventType==="user"?(n=this.Na)!==null&&n!==void 0?n:()=>{}:this.ie;this.ag.processEvent(f,w)}break;case"CustomElementRegistration":{this.ie({type:Q.CUSTOM_ELEMENT_REGISTRATION,date:_,args:[f.tagName]});break}case"DomEvent":{$S(f,this.ie,this.S);break}case"InputEvent":{let w=JS(f);(o=this.Na)===null||o===void 0||o.call(this,w);break}case"encryptedCharacterDataChanged":{let{target:w,rawData:A,encryptedData:V,encryptionMetadata:U}=f;this.ie({type:Q.MUTATION_ENCRYPTED_CHARACTER_DATA,date:_,args:[w,A,V,U]});break}case"StaticResource":{let{url:w}=f;this.ie({type:Q.STATIC_RESOURCE_URL,date:_,args:[w]});break}case"ResizeMaskedElement":{let{target:w,width:A,height:V}=f;this.ie({type:Q.MUTATION_ATTRIBUTE,date:_,args:[w,"","style",`width:${A}px !important;height:${V}px !important;`]});break}case"Gesture":{let w=zS(i);(c=this.Na)===null||c===void 0||c.call(this,w);break}case"TextVisibility":{this.og.push(f.text);break}case"StaticResourceManagerEvent":{(u=this.bs)===null||u===void 0||u.processEvent(f);break}case"screenResize":{let{width:w,height:A}=f,V={type:Q.SCREEN_RESIZE,date:_,args:[w,A]};this.ie(V);break}case"viewportResize":{let{width:w,height:A}=f,V={type:Q.RESIZE,date:_,args:[w,A]};this.ie(V);break}case"PerformanceTiming":{this.ie(KS(f));break}case"CustomError":{let w=(d=this.As)===null||d===void 0?void 0:d.translate(f);w&&this.ie(w);break}case"JSError":{let w=(E=this.Ts)===null||E===void 0?void 0:E.translate(f);w&&this.ie(w);break}case"VideoEvent":{let w=tv(f);w&&this.ie(w);break}case"warning":{q.warn(f.message);break}default:q.error(`WebRecorderEventTranslator: Event not supported (${f.type})`);break}}),this.S.emitInitialDomStart(),(t=this.Ts)===null||t===void 0||t.start(),(e=this.As)===null||e===void 0||e.start(),this.Oa.start()}stop(){var t,e,i;this.reset(),this.flush(),this.Oa.stop(),(t=this.bs)===null||t===void 0||t.flushEvents(),(e=this.Ts)===null||e===void 0||e.stop(),(i=this.As)===null||i===void 0||i.stop()}flush(){this.og.flush()}onEvent(t,e){var i;this.ie=t,this.Na=e,(i=this.bs)===null||i===void 0||i.onEvent(n=>this.ie(n))}reset(){this.ag.reset()}}return s})(),Dd=(()=>{class s extends ks{constructor(t){super(),this.De=t}subscribe(t){return super.subscribe(t)}onStart(){ht(this.De,t=>{t.onEvent(e=>{var i;return this.Sr(e,(i=t.eventType)!==null&&i!==void 0?i:"browser")})}),ht(this.De,t=>{var e;(e=t.start)===null||e===void 0||e.call(t)})}onStop(){ht(this.De,t=>{var e;return(e=t.stop)===null||e===void 0?void 0:e.call(t)})}Sr(t,e){this.produceEvent({timestamp:K.now(),type:"Legacy",originalEvent:t,eventType:e})}}return s})(),ce=(()=>{let s;return function(r){r[r.Active=0]="Active",r[r.Paused=1]="Paused",r[r.Stopped=2]="Stopped"}(s||(s={})),s})(),ev=(()=>{class s{constructor(t,e,i=[]){this.Sr=t,this.Ch=e,this.dT=i,this.Ma=null,this.Pt=ce.Active,this.ot=[]}reset(){this.Ma=null,this.ot=[],this.Pt=ce.Active}disconnect(){this.Pt=ce.Stopped}pT(){this.Ch(ce.Paused),this.Pt=ce.Paused,csSetTimeout(()=>{this.Pt===ce.Paused&&this.Ih()},s.STOP_TIMEOUT)}fT(){this.Ch(ce.Active),this.Pt=ce.Active,ht(this.ot,this.Sr),this.ot=[]}Ih(){this.ot=[],this.Ch(ce.Stopped),this.Pt=ce.Stopped}pushEvent(t,e){if(e.isUserEvent&&(this.Ma=t.date,this.Pt!==ce.Active)){this.fT(),this.Sr(t);return}if(this.gT(t)){this.Sr(t);return}switch(this.Pt){case ce.Active:if(this.mT(t,e)){this.pT(),csArray.prototype.push.call(this.ot,t);return}this.Sr(t);break;case ce.Paused:csArray.prototype.push.call(this.ot,t);break;case ce.Stopped:break}}mT(t,e){return!e.isUserEvent&&this.Ma!==null&&t.date-this.Ma>s.INACTIVITY_TIMEOUT}gT(t){return csArray.prototype.indexOf.call(this.dT,t.type)>-1}}return s.INACTIVITY_TIMEOUT=5e3,s.STOP_TIMEOUT=5e3,s})(),sv=2e3,iv=(()=>{class s extends re{constructor(t,e,i,n,o,c,u,d,E,f,_,w,A,V=[],U,P,C,j,F){super(),this.f=t,this.j=e,this.yT=i,this.G=n,this.R=o,this.$e=c,this.Et=u,this.Me=d,this.lt=E,this.W=f,this.Dt=_,this.Ct=w,this.xe=A,this.De=V,this.cg=U,this.Le=P,this.Un=C,this.Ts=j,this.As=F,this.qs=0,this.Bs=new Bc,this.vr={allowFromQuotaService:!0,allowFromSerialization:!0},this.lg=co(()=>{this.j.eventsCount()>0&&this.hg()},sv),this.Rs=M=>this.processBrowserEvent(M),this.Hn=M=>this.Nt(M),this.ka=0,this.Bn=0,this.Be=new zu,this.Ph=!1,this.ug=50*1024,this.Ui=!1,this.Fn=!1,this.Di=[],this.Da=new ev(M=>this.J(M),M=>{switch(M){case ce.Active:this.ET();break;case ce.Stopped:this.ST();break}},[Q.RESOURCE_HASHES,Q.TEXT_VISIBILITY,Q.API_ERROR,Q.JAVASCRIPT_ERROR]),this.dg=M=>{this.Dt.removeBatchInProgress(`${M.params.sn}.${M.params.pn}.${M.params.ri}`)}}init(){this.Oh(),this.W.onLoad(this.dg),this.W.onError(this.dg)}ET(){csArray.prototype.forEach.call(this.cg,t=>t.start())}ST(){csArray.prototype.forEach.call(this.cg,t=>t.stopForInactivity())}Oh(){var t,e,i;this.xe.onEvent(this.Rs,this.Hn),(t=this.lt)===null||t===void 0||t.onInputNodeToEncrypt(this.Hn),(e=this.lt)===null||e===void 0||e.onApiErrorToEncrypt(n=>{this.pg(n)}),(i=this.lt)===null||i===void 0||i.onUserIdentifierToEncrypt(this.Rs),this.Be.onEvent(n=>{if(csSetTimeout(()=>this.ji("page-state",n)),n!==je.Visible){if(n===je.Blur)return this.fg();if(!this.Ph)return this.Ph=!0,csSetTimeout(()=>{this.Ph=!1}),n===je.Hidden?this.fg():this.vT()}})}isRecording(){return this.R.hasValidSession()&&this.isStarted}fg(){if(!this.canSendEvents())return;this.xe.flush(),this.Dt.saveBatchesInProgress(),ht(this.De,c=>{var u,d;return ht((d=(u=c.getPendingEvents)===null||u===void 0?void 0:u.call(c))!==null&&d!==void 0?d:[],E=>this.j.addEvent(E))});let t=this.j.getEvents();if(t.length===0)return;this.ji("pending-events",this.xe.pendingEvents);let e=this.W.getQueryParams();e.rst=this.getRecordingStartTimestamp(),this.Bn=t[t.length-1].date,e.let=this.getRecordingLastEventTimestamp();let i=this.j.getCurrentRequestIndex(),n=i.getCurrentIndex();e.ri=n.toString(),this.Ct.removeQueryParams(),this.Ct.setQueryParams(e);let o=this.j.stringifyEvents();if(o.length>this.ug){let c=this.gg();if(c.length>0){let u=bi(c);this.Ct.send(u)||this.Dt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:u}),i.increment()}if(this.j.eventsCount()>0){e.ri=i.getCurrentIndex().toString();let u=this.j.stringifyEvents();this.Dt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:u}),i.increment()}}else this.Ct.send(o)||this.Dt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:o}),i.increment();this.Ct.removeQueryParams(),this.j.clearEvents()}vT(){if(!this.canSendEvents())return;this.xe.flush();let t=this.W.getQueryParams();this.Dt.saveBatchesInProgress(),t.rst=this.getRecordingStartTimestamp(),delete t.ri,t.hlm="true",this.Ct.removeQueryParams(),ht(this.De,n=>{var o,c;return ht((c=(o=n.getPendingEvents)===null||o===void 0?void 0:o.call(n))!==null&&c!==void 0?c:[],u=>this.j.addEvent(u))});let e=this.j.getEvents();if(e.length===0){delete t.let,delete t.rst,this.Ct.setQueryParams(t),this.Ct.send(),this.Ct.removeQueryParams();return}this.ji("pending-events",this.xe.pendingEvents),this.Bn=e[e.length-1].date,t.let=this.getRecordingLastEventTimestamp(),this.Ct.setQueryParams(t);let i=this.j.stringifyEvents();if(i.length>this.ug){let n=this.gg();if(n.length>0){let o=bi(n);this.Ct.send(o)||this.Dt.save({key:`${t.sn}.${t.pn}.last`,metadata:{...t,datatype:"json"},events:o})}else delete t.let,delete t.rst,delete t.ri,this.Ct.removeQueryParams(),this.Ct.setQueryParams(t),this.Ct.send(),this.Ct.removeQueryParams();if(this.j.eventsCount()>0){t.rst=this.getRecordingStartTimestamp(),t.let=this.getRecordingLastEventTimestamp();let o=this.j.getCurrentRequestIndex(),c=o.getCurrentIndex();t.ri=c.toString();let u=this.j.stringifyEvents();this.Dt.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:u}),o.increment()}}else this.Ct.send(i)||(this.Dt.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:i}),this.j.getCurrentRequestIndex().increment());this.Ct.removeQueryParams(),this.j.clearEvents()}blockSendingEventsFromQuotaService(){this.vr.allowFromQuotaService=!1}allowSendingEventsFromQuotaService(){this.vr.allowFromQuotaService=!0}blockSendingEventsFromSerialization(){this.vr.allowFromSerialization=!1}allowSendingEventsFromSerialization(){this.vr.allowFromSerialization=!0}canSendEvents(){return this.vr.allowFromQuotaService&&this.vr.allowFromSerialization}onIframeJavascriptError(t){var e;if(this.$e&&this.Ts){(e=this.$e)===null||e===void 0||e.anonymize(t);let i=this.Ts.translate({message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename,timestamp:K.now(),type:"JSError"});i&&this.Rs(i)}}onIframeCustomError(t){if(this.As){let e=this.As.translate({...t,timestamp:K.now(),type:"CustomError"});e&&this.Rs(e)}}onIframeDetailedApiError(t){this.mg(t)}onIframeRecordingUserEvent(t){for(let e of t)this.Nt(e)}onIframeRecordingBrowserEvent(t){if(this.isStarted)for(let e of t)this.processBrowserEvent(e)}processBrowserEvent(t){this.G.isCurrentPageviewValid()&&this.Da.pushEvent(t,{isUserEvent:!1})}Nt(t){this.G.refreshSession(),this.G.isSessionValid()&&this.Da.pushEvent(t,{isUserEvent:!0})}J(t){Ht.general.nbEvents.increase(),this.j.addEvent(t),this.j.isThresholdReached()?this.pushEvents():this.j.isFull()&&this.lg(),this.yg(t)}yg(t){this.f.emitDebugEvents&&this.Bs.emit("recordingEvent",{...t,typeName:Q[t.type]})}onStart(){var t;this.ji("tag-version","15.136.1"),this.ji("page-state",document.visibilityState),this.Da.reset(),this.Be.start(),this.initStates(),this.xe.start(),this.Et&&this.Me&&this.Et.subscribe(s.Ut,e=>this.mg(e),{detailedEvent:!0}),this.f.emitDebugEvents&&this.Bs.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.Di,e=>this.Eg(e)),this.Di=[],this.Ui&&((t=this.Le)===null||t===void 0||t.enableOnlineAssets(),this.Ui=!1)}onStop(){var t;this.Be.stop(),this.Et&&this.Et.unsubscribe(s.Ut),this.xe.stop(),this.Da.disconnect(),(t=this.Le)===null||t===void 0||t.disableOnlineAssets()}clearStates(){this.xe.flush(),this.lg.cancel(),this.pushEvents(),this.W.removeQueryParams()}initStates(){this.ka=K.now(),this.j.getCurrentRequestIndex().reset(),this.qs=0,this.W.setQueryParams(this.yT.getRequestParameters())}pushEvents(){ht(this.De,t=>{var e;return(e=t.flushEvents)===null||e===void 0?void 0:e.call(t)}),this.j.eventsCount()>0&&(this.isStarted?this.hg():this.j.clearEvents())}hg(){if(!this.canSendEvents())return;let t=this.j.getOrderedBatchSlots();for(let e of t){let i=e.batch.getEvents();if(!i.length)continue;this.Bn=i[i.length-1].date;let n=e.metadata.requestIndex,o=n.getCurrentIndex(),c=this.ka>this.Bn?i[0].date:this.ka;this.W.setQueryParams({pn:csString(e.metadata.pageNumber),ri:o.toString(),rst:c.toString(),let:this.getRecordingLastEventTimestamp()});let u=this.W.getQueryParams();this.Dt.addBatchInProgress(`${u.sn}.${u.pn}.${o}`,{...this.W.getQueryParams()},i),this.W.send(i),n.increment(),e.batch.clearEvents(),this.Sg&&this.Sg()}this.j.clearEmptyBatchSlots()}addInitialDom(t){this.j.addEventByTimestamp(t),this.yg(t)}mg(t){if(this.Un&&(t.plainCustomRequestHeaders||t.plainCustomResponseHeaders||t.requestBodyAttributes||t.responseBodyAttributes||t.customRequestHeaders||t.customResponseHeaders||t.queryParameters||t.requestBody||t.responseBody)){if(this.Un.truncate(t),this.lt){this.lt.registerApiErrorToEncrypt(t);return}t.customRequestHeaders="",t.customResponseHeaders="",t.requestBodyAttributes="",t.responseBodyAttributes="",t.queryParameters="",t.requestBody="",t.responseBody=""}this.pg(t)}pg(t){if(this.qs<s._T){let e={type:Q.API_ERROR,date:K.now(),args:[this.Me.anonymize(t)]};this.Rs(e),this.qs=this.qs+1,at.counters.networkRequests.count("collected")}}wT(t){t===Zs.ETR_SESSION?this.W.setQueryParams({[s.bT]:s.vg}):t===Zs.ETR_PAGE&&this.W.setQueryParams({[s.TT]:s.vg})}clearEvents(){this.j.clearEvents()}onCustomJavaScriptErrorEvent(t){var e;let i=(e=this.Ts)===null||e===void 0?void 0:e.translate({type:"JSError",timestamp:K.now(),message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename});i&&this.Rs(i)}onCustomErrorEvent(t){var e;let i=(e=this.As)===null||e===void 0?void 0:e.translate({type:"CustomError",timestamp:K.now(),message:t.message,attributes:t.attributes});i&&this.Rs(i)}onPageEvent(t){this._g(t)}onUserIdentifierEvent(t){var e;let i={userIdentifier:t,date:K.now(),keyId:this.f.encryptionPublicKeyId};(e=this.lt)===null||e===void 0||e.registerUserIdentifierToEncrypt(i)}onEventTriggerRecording(t,e){this.isStarted?this.Eg({eventName:t,eventType:e}):csArray.prototype.push.call(this.Di,{eventName:t,eventType:e})}Eg(t){this.wT(t.eventType),this._g(t.eventName),this.pushEvents()}_g(t){let e={type:Q.PAGE_EVENT,date:K.now(),args:[{eventName:csString.prototype.slice.call(t,0,s.AT)}]};this.j.addEvent(e)}triggerUnanonymizationConsentGranted(){let t={date:K.now(),type:Q.UNANONYMIZED_CONSENT_GRANTED};this.j.addEvent(t)}triggerUnanonymizationConsentWithdrawn(){let t={date:K.now(),type:Q.UNANONYMIZED_CONSENT_WITHDRAWN};this.j.addEvent(t)}triggerRecordingForSessionGranted(){this.ji("consent-granted")}triggerRecordingForSessionWithdrawn(){this.ji("consent-withdrawn")}activateOnlineAssetsOnNextPageview(){this.Fn=!0}getStaticResourceManagerStatus(){return this.Le?{isStarted:this.f.useStaticResourceManager&&Sd.isSupported(),onlineAssets:{activated:this.Le.isOnlineAssetsActivated(),enabledOnNextPageview:this.Fn}}:null}resetOnlineAssetsOnPageview(){this.Ui=!1,this.Fn=!1}updateOnlineAssetsOnPageview(){this.Le&&this.Fn&&(this.Ui=!0,this.Fn=!1)}onRecordingRequestSent(t){this.Sg=t}getRecordingStartTimestamp(){return this.ka.toString()}getRecordingLastEventTimestamp(){return this.Bn.toString()}onOptOut(){ht(this.De,t=>{var e;return(e=t.releaseResources)===null||e===void 0?void 0:e.call(t)})}ji(t,e){if(!this.f.emitRecordInfoEvents)return;let i={date:K.now(),type:Q.RECORDING_INFO_EVENT,args:e==null?[t]:[t,e]};this.j.addEvent(i)}gg(){return this.j.extractEvents(Q.API_ERROR,Q.JAVASCRIPT_ERROR,Q.CUSTOM_ERROR,Q.TEXT_VISIBILITY,Q.POINTER_DOWN)}}return s.Ut="RecordingService",s.AT=255,s._T=20,s.TT="etrp",s.bT="etrs",s.vg="1",st([ie("addInitialDom")],s.prototype,"addInitialDom",null),s})(),rv=(()=>{class s extends re{constructor(t,e,i){super(),this.Kt=t,this.Ct=e,this.W=i,this.Nh=!1,this.$n={},this.RT=n=>{if(n.length!==0)for(let o of n){let{metadata:c,events:u}=o;this.CT(c.rt)&&this.W.send(u,c)}},window.addEventListener("focus",()=>{this.recover()})}onStart(){this.$n={}}onStop(){}recover(){this.Kt.recover(this.RT)}addBatchInProgress(t,e,i){this.$n[t]={metadata:{...e},events:i}}removeBatchInProgress(t){delete this.$n[t]}blockSendingLastMessage(){this.Nh=!1}allowSendingLastMessage(){this.Nh=!0}sendLastMessageBeacon(){if(this.Nh){let{ri:t,rst:e,let:i,...n}=this.W.getQueryParams();n.hlm="true",this.Ct.setQueryParams(n),this.Ct.send()}}CT(t){return!!t&&csString.prototype.indexOf.call(t,Z.RECORDING_TEMPORARILY)===-1}saveBatchesInProgress(){csArray.prototype.forEach.call(Object.keys(this.$n),t=>{let{metadata:e,events:i}=this.$n[t];this.Kt.save({key:`${e.sn}.${e.pn}.${e.ri}`,metadata:{...e,datatype:"json"},events:csJSON.stringify(i)})})}save(t){this.Kt.save(t)}}return st([G("RecordingRecovery")],s.prototype,"recover",null),s})();function ye(s,r=0){let t=Math.pow(10,r);return Math.round(s*t)/t}var xd=(()=>{class s{constructor(t,e){this.Ot=t,this.M=e,this.Vs=[{boundElement:window,type:"hashchange",listener:()=>this.hashChangeListener()},{boundElement:document,type:"visibilitychange",listener:()=>this.visibilityChangeListener()}]}onEvent(t){this.L=t}start(){this.yi(),this.triggerInitialEvents()}stop(){this.Ei()}yi(){csArray.prototype.forEach.call(this.Vs,t=>Dt(t))}Ei(){csArray.prototype.forEach.call(this.Vs,t=>xt(t))}triggerInitialEvents(){this.hashChangeListener()}hashChangeListener(){let t={type:Q.HASH_CHANGE,args:[this.M.anonymizePII(this.Ot.href)],date:K.now()};this.L(t)}visibilityChangeListener(){let t={type:Q.VISIBILITY_CHANGE,args:[document.visibilityState],date:K.now()};this.L(t)}}return st([G("hashChange")],s.prototype,"hashChangeListener",null),st([G("visibilityChange")],s.prototype,"visibilityChangeListener",null),s})();function nv(s){if(!L(s))return null;let t=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(s);return t?Number(t[2]):null}var ov=!!window.chrome,av=33,Ld=(()=>{class s{constructor(){this.eventType="user",this.Dh=[],this.BT=[{type:"pointerup",listener:e=>this.pointerUpListener(e),boundElement:document},{type:"pointermove",listener:e=>this.pointerMoveListener(e),boundElement:document},{type:"pointerdown",listener:e=>this.pointerDownListener(e),boundElement:document}],this.FT=[{type:"touchstart",listener:e=>this.touchStartListener(e),boundElement:document},{type:"touchmove",listener:e=>this.touchMoveListener(e),boundElement:document},{type:"touchend",listener:e=>this.touchEndCancelListener(e),boundElement:document},{type:"touchcancel",listener:e=>this.touchEndCancelListener(e),boundElement:document}],this.La=[{type:"click",listener:e=>this.clickListener(e),boundElement:document},{type:"keyup",listener:e=>this.keyUpListener(e),boundElement:document},{type:"keydown",listener:e=>this.keyDownListener(e),boundElement:document},{type:"copy",listener:e=>this.copyListener(e),boundElement:document},{type:"cut",listener:e=>this.cutListener(e),boundElement:document},{type:"paste",listener:e=>this.pasteListener(e),boundElement:document},{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e)),boundElement:document},{type:"mouseover",listener:e=>this.mouseOverListener(e),boundElement:document}],this.xh=[{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e))}];let t=nv(window.navigator.userAgent);(t===null||t&&t>=16)&&csArray.prototype.push.call(this.xh,{type:"mouseover",listener:e=>this.mouseOverListener(e)}),this.le=new or((e,i)=>{switch(i){case"initial":case"added":this.yi(e);break;case"removed":this.Ei(e);break}})}init(){this.$T(),this.zT(),this.Zc()}onEvent(t){csArray.prototype.push.call(this.Dh,t)}re(t,e=!1){csArray.prototype.forEach.call(this.Dh,i=>i(t,e))}start(){this.uh(),this.yi(document),this.le.observe()}stop(){this.Ei(document),this.le.disconnect(),this.Dh=[]}zT(){this.GT()&&csArray.prototype.push.call(this.La,...this.BT)}$T(){this.qT()&&csArray.prototype.push.call(this.La,...this.FT)}yi(t){zn(t)?csArray.prototype.forEach.call(this.La,e=>Dt(e)):csArray.prototype.forEach.call(this.xh,e=>{let i={type:e.type,listener:e.listener,boundElement:t};Dt(i)})}Ei(t){zn(t)?csArray.prototype.forEach.call(this.La,e=>xt(e)):csArray.prototype.forEach.call(this.xh,e=>{let i={type:e.type,listener:e.listener,boundElement:t};xt(i)})}GT(){return"PointerEvent"in window&&typeof window.PointerEvent=="function"}qT(){return"TouchEvent"in window&&typeof window.TouchEvent=="function"}uh(){this.WT()}WT(){let t=Xi.getScrollContainer()||document,e=Rt(t),i=this.Cg(t);if(i.top!==0||i.left!==0){let n={type:Q.SCROLL,args:[e,i.left,i.top],date:K.now()};this.re(n,!0)}}Cg(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}}scrollListener(t){if(Y.isMaskedElement(t)||Y.isMaskedElementChild(t))return;let e=Rt(t),i=this.Cg(t),n={type:Q.SCROLL,args:[e,i.left,i.top],date:K.now()};this.re(n)}mouseOverListener(t){if(Y.isMaskedElementChild(t.target))return;let e=Rt(t.target),i={type:Q.MOUSE_OVER,args:[e],date:K.now()};this.re(i)}clickListener(t){let e=te(t);if(Y.isMaskedElementChild(e))return;let i=Rt(e),n={type:Q.CLICK,args:[i],date:K.now()};this.re(n)}keyUpListener(t){let e=te(t);if(Y.isMaskedElementChild(e))return;let i=Rt(e),n=this.U[t.key];if(n===void 0)return;let o={type:Q.KEY_UP,args:[i,n],date:K.now()};this.re(o)}keyDownListener(t){let e=te(t);if(Y.isMaskedElementChild(e))return;let i=Rt(e),n=this.U[t.key];if(n===void 0)return;let o={type:Q.KEY_DOWN,args:[i,n],date:K.now()};this.re(o)}copyListener(t){let e=te(t);if(Y.isMaskedElementChild(e))return;let i=Rt(e),n={type:Q.CLIPBOARD_COMMAND,args:[i,Ki.COPY],date:K.now()};this.re(n)}cutListener(t){let e=te(t);if(Y.isMaskedElementChild(e))return;let i=Rt(e),n={type:Q.CLIPBOARD_COMMAND,args:[i,Ki.CUT],date:K.now()};this.re(n)}pasteListener(t){let e=te(t);if(Y.isMaskedElementChild(e))return;let i=Rt(e),n={type:Q.CLIPBOARD_COMMAND,args:[i,Ki.PASTE],date:K.now()};this.re(n)}pointerUpListener(t){let e=te(t);if(Y.isMaskedElementChild(e))return;let i=Rt(e),n={type:Q.POINTER_UP,args:[t.pointerId,t.pointerType,ye(t.clientX,1),ye(t.clientY,1),i,t.button],date:K.now()};this.re(n)}pointerMoveListener(t){let e={type:Q.POINTER_MOVE,args:[t.pointerId,t.pointerType,ye(t.clientX,1),ye(t.clientY,1)],date:K.now()};this.re(e)}pointerDownListener(t){let e=te(t);if(Y.isMaskedElementChild(e))return;let i=Rt(e),n={type:Q.POINTER_DOWN,args:[t.pointerId,t.pointerType,ye(t.clientX,1),ye(t.clientY,1),i,t.button,{pageX:ye(t.pageX,1),pageY:ye(t.pageY,1)}],date:K.now()};this.re(n)}touchStartListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let n=e[i],o={type:Q.TOUCH_START,args:[n.identifier,ye(n.clientX,1),ye(n.clientY,1)],date:K.now()};this.re(o)}}touchMoveListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let n=e[i],o={type:Q.TOUCH_MOVE,args:[n.identifier,ye(n.clientX,1),ye(n.clientY,1)],date:K.now()};this.re(o)}}touchEndCancelListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let n=e[i],o={type:t.type==="touchend"?Q.TOUCH_END:Q.TOUCH_CANCEL,args:[n.identifier,ye(n.clientX,1),ye(n.clientY,1)],date:K.now()};this.re(o)}}Zc(){this.U={},this.U[" "]=pt.SPACE,this.U.Spacebar=pt.SPACE,this.U.Backspace=pt.BACKSPACE,this.U.Enter=pt.ENTER,this.U.Delete=pt.DELETE,this.U.ArrowUp=pt.ARROWUP,this.U.ArrowDown=pt.ARROWDOWN,this.U.ArrowLeft=pt.ARROWLEFT,this.U.ArrowRight=pt.ARROWRIGHT,this.U.Up=pt.ARROWUP,this.U.Down=pt.ARROWDOWN,this.U.Left=pt.ARROWLEFT,this.U.Right=pt.ARROWRIGHT,this.U.CapsLock=pt.CAPSLOCK,this.U.Shift=pt.SHIFT,this.U.Tab=pt.TAB,this.U.Escape=pt.ESCAPE,this.U.Esc=pt.ESCAPE,this.U.End=pt.END,this.U.Alt=pt.ALT,this.U.Control=pt.CTRL,this.U.Meta=pt.META}}return st([ie("RecordingPageEvents.start")],s.prototype,"start",null),st([G("scroll")],s.prototype,"scrollListener",null),st([G("mouseOver"),Pt(),Hm()],s.prototype,"mouseOverListener",null),st([G("click"),Pt()],s.prototype,"clickListener",null),st([G("Event handler type: keyup")],s.prototype,"keyUpListener",null),st([G("Event handler type: keydown")],s.prototype,"keyDownListener",null),st([G("Event handler type: copy")],s.prototype,"copyListener",null),st([G("Event handler type: cut")],s.prototype,"cutListener",null),st([G("Event handler type: paste")],s.prototype,"pasteListener",null),st([G("Event handler type: pointerup"),Pt()],s.prototype,"pointerUpListener",null),st([G("Event handler type: pointermove"),Pt(),ar({wait:av})],s.prototype,"pointerMoveListener",null),st([G("Event handler type: pointerdown"),Pt()],s.prototype,"pointerDownListener",null),st([G("Event handler type: touchstart"),Pt()],s.prototype,"touchStartListener",null),st([G("Event handler type: touchmove"),Pt()],s.prototype,"touchMoveListener",null),st([G("Event handler type: touchend-cancel"),Pt()],s.prototype,"touchEndCancelListener",null),s})(),Vd=(()=>{class s{constructor(){}onScannedAsset(t){this.Va=t}scanCssString(t){this.Lh(Lr(t))}scanElement(t,e){Y.getMaskedElementDetails(t).state!==Y.MaskedElementState.NotMasked||e&&Y.isMaskedAttribute(t,e)||(to(t)?this.YT(t):bc(t)?this.XT(t,e):(this.KT(t,e),this.JT(t,e),this.QT(t,e)))}XT(t,e){var i;if((!e||e==="href")&&t.href){let o={assetId:((i=t.sheet)===null||i===void 0?void 0:i.href)||t.href,assetBasePath:window.location.href,assetRawPath:Du(t)};this.Va({type:"stylesheet",asset:o})}}YT(t){var e;let i=new Set;if(t.textContent)for(let o of Lr(t.textContent))i.add(o);let n;try{n=(e=t.sheet)===null||e===void 0?void 0:e.cssRules}catch(o){o.name==="SecurityError"||o.name==="InvalidAccessError"||q.error(o.message)}if(n)for(let o=0;o<n.length;o++){let c=n.item(o).cssText;for(let u of Lr(c))i.add(u)}this.Lh(ii(i))}Vh(t){return!this.ZT(t)&&!Ye(t)&&!nu(t)}KT(t,e){if(Sf(t)||Ef(t)){if(!e||e==="src"){let i=t.getAttribute("src");if(i&&this.Vh(i)){let n={assetId:t.src,assetRawPath:i,assetBasePath:window.location.href};this.Va({type:"asset",asset:n})}}(!e||e==="srcset")&&t.srcset&&this.tA(t.srcset)}}JT(t,e){if(t.nodeType!==1){Nt.warn(`StaticResourceUrlTracker: Wrong element nodeType: ${t==null?void 0:t.nodeName}/${t.nodeType}`);return}if(t.hasAttribute&&(!e||e==="style")&&t.hasAttribute("style")){let i=t.getAttribute("style");if(typeof i=="string")this.scanCssString(i);else throw new Error("Unexpected style: "+t.outerHTML)}}tA(t){this.Lh(Jc(t))}QT(t,e){if((bf(t)||Tf(t)||Af(t))&&(!e||e==="href"||e==="xlink:href")){let i=t.getAttribute("href")||t.getAttribute("xlink:href");if(i&&this.Vh(i)){let n={assetId:Qs(i),assetRawPath:i,assetBasePath:window.location.href};this.Va({type:"asset",asset:n})}}}Lh(t){return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,e=>this.Vh(e)),e=>({rawUrl:e,absoluteUrl:Qs(e)})),e=>{let i={assetId:e.absoluteUrl,assetBasePath:window.location.href,assetRawPath:e.rawUrl};this.Va({type:"asset",asset:i})})}ZT(t){return/^https:\/\/\w+:\w+@/.test(t)}}return s})(),cv=30,lv=0,Ud=(()=>{class s{constructor(t,e=cv,i=lv){this.eA=t,this.sA=e,this.iA=i,this.Ge=new zr,this.Ue=!1,this.Uh=0,this.Ig=()=>{for(this.Uh=0;this.Ge.length;){if(this.Uh>=this.sA){csSetTimeout(this.Ig,this.iA);return}let n=K.elapsed(),o=this.Ge.pop();if(!o)break;this.runTask(o);let c=K.elapsed()-n;this.Uh+=c}this.Ue=!1}}schedule(t,e=!1){if(!this.eA||e){t();return}Ht.general.pendingTasks.increase(),this.Ge.push(t),this.rA()}rA(){this.Ue||(this.Ue=!0,csSetTimeout(()=>{this.Ig()}))}runTask(t){Ht.general.pendingTasks.decrease(),t()}runPendingTasks(){this.Ge.forEach(t=>{this.runTask(t)}),this.Ge.clear()}clearQueue(){Ht.general.pendingTasks.clear(),Ht.mutations.pendingMutations.clear(),this.Ge.clear()}isEmpty(){return this.Ge.length===0}}return st([G("TaskScheduler"),ie("runTask")],s.prototype,"runTask",null),st([ie("runPendingTasks")],s.prototype,"runPendingTasks",null),s})(),jd=(()=>{class s{constructor(){this.F=!1,this.Pg=new Xc(t=>t.type==="cssRuleInserted"&&this.nA(t)),this.oA=oo(t=>{this.F&&t.length>0&&this.O.schedule(()=>ht(t,e=>this.qn.scanElement(e)))}),this.aA=({type:t,asset:e})=>{var i,n,o;t==="stylesheet"&&((i=this.cA)===null||i===void 0||i.call(this,e)),(n=this.lA)===null||n===void 0||n.call(this,e);let c={date:K.now(),type:Q.STATIC_RESOURCE_URL,args:[e.assetId]};(o=this.L)===null||o===void 0||o.call(this,c)},this.O=new Ud(!0,30,0),this.Nn=new Ad(t=>this.hA(t)),this.D=new Je(t=>this.bo(t)),this.qn=new Vd,this.qn.onScannedAsset(this.aA)}onEvent(t){this.L=t}onAsset(t){this.lA=t}onStyleSheetFound(t){this.cA=t}start(){this.F||(this.F=!0,this.Pg.observe(),this.Nn.observe(),this.D.observe())}stop(){this.F&&(this.Pg.disconnect(),this.Nn.disconnect(),this.D.disconnect(),this.F=!1)}nA(t){!t.rule||!this.F||this.qn.scanCssString(t.rule)}hA(t){this.F&&Y.getMaskedElementDetails(t).state===Y.MaskedElementState.NotMasked&&this.oA.push(t)}bo(t){csSetTimeout(()=>{for(let e of t)switch(e.type){case"attributes":this.qn.scanElement(e.target,e.attributeName);break;case"characterData":this.uA(e.target);break;case"childList":}})}uA(t){$n(t)&&csNodeparentNode.apply(t)&&to(csNodeparentNode.apply(t))&&this.qn.scanCssString(t.data)}}return s})(),Hd=2*1e3*1024,hv=200,yh=(()=>{class s{constructor(t=Hd){this.Vt=[],this.jh=new Yc(t)}addEvent(t){this.jh.addString(bi(t)),csArray.prototype.push.call(this.Vt,t)}addEventByTimestamp(t){let e=0;for(;e<this.Vt.length&&!(this.Vt[e].date>=t.date);e+=1);csArray.prototype.splice.call(this.Vt,e,0,t)}eventsCount(){return this.Vt.length}clearEvents(){this.jh.reset(),this.Vt=[]}isFull(){return this.eventsCount()>=hv}isThresholdReached(){return this.jh.isThresholdReached()}getEvents(){return this.Vt}extractEvents(...t){let e=[],i=[];return csArray.prototype.forEach.call(this.Vt,n=>{csArray.prototype.indexOf.call(t,n.type)!==-1?csArray.prototype.push.call(e,n):csArray.prototype.push.call(i,n)}),this.Vt=i,e}stringifyEvents(){return bi(this.Vt)}eI(t){t.type===Q.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)}}return st([ie("RecordingBatch.addEvent")],s.prototype,"addEvent",null),s})();function uv(s){if(typeof Object.values=="function")return Object.values(s);let r=[];for(let t in s)s.hasOwnProperty(t)&&csArray.prototype.push.call(r,s[t]);return r}var Eh=(()=>{class s{constructor(){this.Ua=1}getCurrentIndex(){return this.Ua}increment(){this.Ua+=1}reset(){this.Ua=1}getRequestParameters(){return{ri:`${this.Ua}`}}}return s})(),dv=3,pv=(()=>{class s{constructor(t,e=Hd,i=dv){this.dA=t,this.Og=e,this.Hh=i,this.ja={}}addEvent(t){this.Ng().addEvent(t)}addEventByTimestamp(t){this.Ng().addEventByTimestamp(t)}eventsCount(){return csArray.prototype.reduce.call(this.Hi(),(t,e)=>t+e.batch.eventsCount(),0)}isFull(){return csArray.prototype.some.call(this.Hi(),t=>t.batch.isFull())}isThresholdReached(){let t=this.Hi();return t.length>=this.Hh||csArray.prototype.some.call(t,e=>e.batch.isThresholdReached())}getEvents(){return csArray.prototype.reduce.call(this.getOrderedBatchSlots(),(t,e)=>csArray.prototype.concat.call(t,e.batch.getEvents()),[])}extractEvents(...t){return csArray.prototype.reduce.call(this.getOrderedBatchSlots(),(e,i)=>csArray.prototype.concat.call(e,i.batch.extractEvents(...t)),[])}stringifyEvents(){return bi(this.getEvents())}clearEvents(){csArray.prototype.forEach.call(this.Hi(),t=>t.batch.clearEvents())}clearEmptyBatchSlots(){let t=this.getOrderedBatchSlots();for(let e=0;e<t.length-1;e++)t[e].batch.eventsCount()===0&&delete this.ja[t[e].metadata.pageNumber]}Hi(){return uv(this.ja)}getOrderedBatchSlots(){return csArray.prototype.sort.call(this.Hi(),fv)}Mg(){let t=this.dA();if(t<=0)return q.error("RecordingBatchGroup: getCurrentPn() <= 0"),{batch:new yh(this.Og),metadata:{pageNumber:0,requestIndex:new Eh}};let e=this.ja[t];if(e)return e;let i={batch:new yh(this.Og),metadata:{pageNumber:t,requestIndex:new Eh}};return this.ja[t]=i,this.Hi().length>this.Hh&&q.warn(`RecordingBatchGroup: max number of slots overflowed(${this.Hi().length}/${this.Hh})`),i}Ng(){return this.Mg().batch}getCurrentRequestIndex(){return this.Mg().metadata.requestIndex}}return s})();function fv(s,r){return s.metadata.pageNumber-r.metadata.pageNumber}var gv="csPersisted",Sh="v2/recording",Bd=["isRecording"],Zc=["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"],Fd=["replay:resourceManager:getStatus","cssrm:getStatus"],mv=(()=>{class s{constructor(t,e,i,n,o,c,u,d,E,f,_,w,A,V,U,P,C,j,F,M,tt,ct){this.Us=t,this.R=e,this.f=i,this.ze=n,this.E=o,this.M=c,this.G=u,this.ce=d,this.$e=E,this.Et=f,this.Me=_,this.bt=w,this.S=A,this.Ws=V,this.pA=U,this.ee=P,this.ue=C,this.tt=j,this.Un=F,this.it=M,this.sI=tt,this.lt=ct}init(){var t,e;let i=[],n=[];csArray.prototype.push.call(n,new yd),this.Wn=new Ed(this.it.shouldUseAnonymization(),this.f.whitelistedAttributes,this.M,this.f.anonymizeDigits),this.Bi();let o=new BS(gv);this.fA(o),this.j=new pv(()=>{var j;return((j=this.R.getSession())===null||j===void 0?void 0:j.pageNumber)||0});let c=new jd;csArray.prototype.push.call(i,c);let u=new Fr(this.ze,{getRequestParameters:()=>({let:this.recordingService.getRecordingLastEventTimestamp()})},{getRequestParameters:()=>({rst:this.recordingService.getRecordingStartTimestamp()})},{getRequestParameters:()=>({rt:csArray.prototype.join.call(this.R.getCollectStates(),",")})}),d=new Gu(`${this.f.getRecordingUri()}/${Sh}`);csArray.prototype.push.call(n,this.Wn),csArray.prototype.push.call(n,new vd(this.tt)),csArray.prototype.push.call(n,new _d),this.Fi=new Ld,this.Fi.init(),csArray.prototype.push.call(i,this.Fi),this.Dt=new rv(o,d,this.W),csArray.prototype.push.call(i,new xd(window.location,this.M));let E=new md,f=new CS,_=new PS,w=new Td(this.lt),A=new Rd,V=[f,this.ce,E,new Dd(csArray.prototype.filter.call(i,j=>j)),A,new Cd,new Pd,w,_],U=new Md(V,n),P=new kd(U,this.S,this.bs,this.Ts,this.As),C=[E,f,_,w,A];this.recordingService=new iv(this.f,this.j,u,this.G,this.R,this.$e,this.Et,this.Me,this.lt,this.W,this.Dt,d,P,i,C,this.Le,this.Un,this.Ts,this.As),this.Ws.addListener(this.recordingService),this.pA.addListener(this.recordingService),this.recordingService.init(),this.E.register(Bd,()=>this.R.isReplayRecorded()&&!this.ee.isUrlExcludedForSessionReplay()),this.E.register(Zc,()=>{this.recordingService.activateOnlineAssetsOnNextPageview(),this.S.emitRecordingContextChange()}),this.E.register(Fd,()=>this.recordingService.getStaticResourceManagerStatus()),this.Yn=new FS(this.S,this.R),this.Ws.addListener(this.Yn),this.Us.enableRecordingContext(this.recordingService,this.R,this.Yn),this.Bh()}onAfterNaturalPageView(){var t;this.ee.isUrlExcludedForSessionReplay()?this.recordingService.resetOnlineAssetsOnPageview():this.recordingService.updateOnlineAssetsOnPageview(),(t=this.iI)===null||t===void 0||t.initState()}onStartTracking(){this.Dt.recover(),this.Bi(),this.R.isReplayRecorded()&&!this.ee.isUrlExcludedForSessionReplay()&&(this.R.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Fh())}onArtificialPageViewEnd(){this.R.isReplayRecorded()&&!this.ee.isUrlExcludedForSessionReplay()&&!this.R.isTemporarilyRecorded()&&this.Dt.sendLastMessageBeacon(),this.recordingService.clearStates()}onAfterArtificialPageView(){this.Bi(),this.R.isReplayRecorded()&&!this.ee.isUrlExcludedForSessionReplay()?(this.R.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.recordingService.updateOnlineAssetsOnPageview(),this.mA()):(this.recordingService.resetOnlineAssetsOnPageview(),this._r())}onBeforeSessionRenewal(){this.recordingService.clearStates(),this._r()}onOptout(){this._r(),this.recordingService.onOptOut()}onReplayUnanonymizationConsentGranted(){this.Bi(),this.recordingService.triggerUnanonymizationConsentGranted(),this.S.emitRecordingContextChange()}onReplayUnanonymizationConsentWithdrawn(){this.Bi(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.S.emitRecordingContextChange()}onCollectStateChange(t,e){t===Z.QUOTA_REACHED||t===Z.ANALYTICS_ONLY&&e===Se.ETR_OFF?(this.recordingService.clearEvents(),this._r()):(this.W.setQueryParams({rt:csArray.prototype.join.call(this.R.getCollectStates(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents(),this.Yn.onCollectStateChange(t,e))}onInitialDomStart(){this.recordingService.blockSendingEventsFromSerialization(),this.Dt.blockSendingLastMessage()}onInitialDomDone(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.Dt.allowSendingLastMessage(),this.Fi.start(),this.recordingService.pushEvents(),at.counters.longTasks.count>0&&at.counters.longTasks.flush(),at.counters.tasks.count>0&&at.counters.tasks.flush()}onAfterReplayRecordingConsentGranted(){this.R.isReplayRecorded()&&!this.ee.isUrlExcludedForSessionReplay()&&(this.R.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Fh(),this.recordingService.triggerRecordingForSessionGranted())}onAfterReplayRecordingConsentWithdrawn(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this._r())}Bh(){var t,e,i,n;if(!((e=(t=this.f.experimental.sessionReplay)===null||t===void 0?void 0:t.shadowRoot)===null||e===void 0)&&e.filterByHostSelector){let o=(n=(i=this.f.experimental.sessionReplay)===null||i===void 0?void 0:i.shadowRoot)===null||n===void 0?void 0:n.filterByHostSelector;ht(o,c=>{ee(c)&&Je.setShadowRootFilter(u=>{try{return be.call(u.host,c)}catch{return!1}})})}}Fh(){this.recordingService.start(),this.Dt.start(),this.S.emitRecordingContextChange()}_r(){km(),this.recordingService.stop(),this.Dt.stop(),this.S.emitRecordingContextChange()}mA(){this._r(),this.Fh()}fA(t){let e="byteArray";this.W=this.ue.create(`${this.f.getRecordingUri()}/${Sh}`,!0,e,t,["rt","v","pid","pn","sn","uu"])}Bi(){var t;let e=this.it.shouldUseAnonymization();this.Wn.setAnonymization(e),(t=this.gA)===null||t===void 0||t.setAnonymization(e)}}return st([ie("Recording.onStartTracking")],s.prototype,"onStartTracking",null),st([ie("onInitialDomDone")],s.prototype,"onInitialDomDone",null),s})(),yv=(()=>{class s{constructor(t,e){this.ae=t,this.f=e,this.kg=!1}enableRecordingContext(t,e,i){this.kg=!0,this.fr=t,this.R=e,this.Yn=i}getRecordingContext(){var t,e,i;if(!this.kg)return{isRecording:!1,recordingStartTimestamp:0,etrState:Se.ETR_OFF,etrStatus:Ve.ETR_DISABLED,collectState:Z.ANALYTICS_ONLY};let n=this.R.getSession();return{isRecording:this.fr.isRecording(),useAnonymization:this.ae.getSensitiveStatus().useAnonymization,enableOnlineResources:(t=this.fr.getStaticResourceManagerStatus())===null||t===void 0?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:(e=this.fr.getStaticResourceManagerStatus())===null||e===void 0?void 0:e.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.fr.getRecordingStartTimestamp(),10),etrState:this.f.malkaEtrEnabled?Se.ETR_ON:Se.ETR_OFF,etrStatus:this.Yn.getEtrStatus(n),collectState:(i=n==null?void 0:n.collectState)!==null&&i!==void 0?i:Z.ANALYTICS_ONLY}}}return s})(),sr=(()=>{class s{static isRecordingSupported(){return"MutationObserver"in window&&"visibilityState"in document}static isAsyncSerializationSupported(){return"Promise"in window&&"findIndex"in csArray.prototype}}return s})(),Ev=(()=>{let s;return function(r){r.COMPRESSION_DISABLED="compressionDisabled"}(s||(s={})),s})(),Sv=(()=>{class s{constructor(){}static init(t){(!this.$h||t!==void 0)&&this.initFlags(t)}static initFlags(t=document.cookie){var e;let i=(e=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))===null||e===void 0?void 0:e[1];if(this.$h=new Map,i){let n=csString.prototype.split.call(i,".");for(let o=0;o<n.length;o++){let[c,u]=csString.prototype.split.call(n[o],"=");this.$h.set(c,u||"true")}}}static getBoolean(t){let e=this.getString(t);return e!=null&&e!=="false"&&parseInt(e)!==0}static getString(t){var e;return this.init(),(e=this.$h)===null||e===void 0?void 0:e.get(t)}static isCompressionEnabled(){return!this.getBoolean(Ev.COMPRESSION_DISABLED)}static Log(t){return(e,i,n)=>{var o;let c=i.toString(),u=`${(o=e.constructor)===null||o===void 0?void 0:o.name}.${c}`,d=n.value;vv(s.getString("debugLog"),t)&&(n.value=function(...E){return console.log(u,...E),d.bind(this)(...E)})}}}return s})();function vv(s,r){var t;return s==null?!1:s===r||!!(!((t=csString.prototype.match.call(s,new csRegExp("(^|,)("+r+")(,|$)")))===null||t===void 0)&&t.length)}function vh(){function i(a){let S=a.length;for(;--S>=0;)a[S]=0}let n=0,o=1,c=2,u=3,d=258,E=29,f=256,_=f+1+E,w=30,A=19,V=2*_+1,U=15,P=16,C=7,j=256,F=16,M=17,tt=18,ct=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),gt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Xt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),$t=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O=512,z=new Array((_+2)*2);i(z);let X=new Array(w*2);i(X);let it=new Array(O);i(it);let It=new Array(d-u+1);i(It);let Kt=new Array(E);i(Kt);let ne=new Array(w);i(ne);function Qe(a,S,v,b,g){this.static_tree=a,this.extra_bits=S,this.extra_base=v,this.elems=b,this.max_length=g,this.has_stree=a&&a.length}let Ds,le,Vt;function Oe(a,S){this.dyn_tree=a,this.max_code=0,this.stat_desc=S}let hs=a=>a<256?it[a]:it[256+(a>>>7)],Ne=(a,S)=>{a.pending_buf[a.pending++]=S&255,a.pending_buf[a.pending++]=S>>>8&255},At=(a,S,v)=>{a.bi_valid>P-v?(a.bi_buf|=S<<a.bi_valid&65535,Ne(a,a.bi_buf),a.bi_buf=S>>P-a.bi_valid,a.bi_valid+=v-P):(a.bi_buf|=S<<a.bi_valid&65535,a.bi_valid+=v)},wt=(a,S,v)=>{At(a,v[S*2],v[S*2+1])},B=(a,S)=>{let v=0;do v|=a&1,a>>>=1,v<<=1;while(--S>0);return v>>>1},rn=a=>{a.bi_valid===16?(Ne(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)},Ni=(a,S)=>{let v=S.dyn_tree,b=S.max_code,g=S.stat_desc.static_tree,N=S.stat_desc.has_stree,I=S.stat_desc.extra_bits,k=S.stat_desc.extra_base,ot=S.stat_desc.max_length,et,Zt,de,bt,vs,Bs,Tn=0;for(bt=0;bt<=U;bt++)a.bl_count[bt]=0;for(v[a.heap[a.heap_max]*2+1]=0,et=a.heap_max+1;et<V;et++)Zt=a.heap[et],bt=v[v[Zt*2+1]*2+1]+1,bt>ot&&(bt=ot,Tn++),v[Zt*2+1]=bt,!(Zt>b)&&(a.bl_count[bt]++,vs=0,Zt>=k&&(vs=I[Zt-k]),Bs=v[Zt*2],a.opt_len+=Bs*(bt+vs),N&&(a.static_len+=Bs*(g[Zt*2+1]+vs)));if(Tn!==0){do{for(bt=ot-1;a.bl_count[bt]===0;)bt--;a.bl_count[bt]--,a.bl_count[bt+1]+=2,a.bl_count[ot]--,Tn-=2}while(Tn>0);for(bt=ot;bt!==0;bt--)for(Zt=a.bl_count[bt];Zt!==0;)de=a.heap[--et],!(de>b)&&(v[de*2+1]!==bt&&(a.opt_len+=(bt-v[de*2+1])*v[de*2],v[de*2+1]=bt),Zt--)}},ni=(a,S,v)=>{let b=new Array(U+1),g=0,N,I;for(N=1;N<=U;N++)b[N]=g=g+v[N-1]<<1;for(I=0;I<=S;I++){let k=a[I*2+1];k!==0&&(a[I*2]=B(b[k]++,k))}},nn=()=>{let a,S,v,b,g,N=new Array(U+1);for(v=0,b=0;b<E-1;b++)for(Kt[b]=v,a=0;a<1<<ct[b];a++)It[v++]=b;for(It[v-1]=b,g=0,b=0;b<16;b++)for(ne[b]=g,a=0;a<1<<gt[b];a++)it[g++]=b;for(g>>=7;b<w;b++)for(ne[b]=g<<7,a=0;a<1<<gt[b]-7;a++)it[256+g++]=b;for(S=0;S<=U;S++)N[S]=0;for(a=0;a<=143;)z[a*2+1]=8,a++,N[8]++;for(;a<=255;)z[a*2+1]=9,a++,N[9]++;for(;a<=279;)z[a*2+1]=7,a++,N[7]++;for(;a<=287;)z[a*2+1]=8,a++,N[8]++;for(ni(z,_+1,N),a=0;a<w;a++)X[a*2+1]=5,X[a*2]=B(a,5);Ds=new Qe(z,ct,f+1,_,U),le=new Qe(X,gt,0,w,U),Vt=new Qe(new Array(0),Xt,0,A,C)},on=a=>{let S;for(S=0;S<_;S++)a.dyn_ltree[S*2]=0;for(S=0;S<w;S++)a.dyn_dtree[S*2]=0;for(S=0;S<A;S++)a.bl_tree[S*2]=0;a.dyn_ltree[j*2]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0},an=a=>{a.bi_valid>8?Ne(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},yo=(a,S,v,b)=>{an(a),b&&(Ne(a,v),Ne(a,~v)),a.pending_buf.set(a.window.subarray(S,S+v),a.pending),a.pending+=v},xs=(a,S,v,b)=>{let g=S*2,N=v*2;return a[g]<a[N]||a[g]===a[N]&&b[S]<=b[v]},Te=(a,S,v)=>{let b=a.heap[v],g=v<<1;for(;g<=a.heap_len&&(g<a.heap_len&&xs(S,a.heap[g+1],a.heap[g],a.depth)&&g++,!xs(S,b,a.heap[g],a.depth));)a.heap[v]=a.heap[g],v=g,g<<=1;a.heap[v]=b},Mi=(a,S,v)=>{let b,g,N=0,I,k;if(a.last_lit!==0)do b=a.pending_buf[a.d_buf+N*2]<<8|a.pending_buf[a.d_buf+N*2+1],g=a.pending_buf[a.l_buf+N],N++,b===0?wt(a,g,S):(I=It[g],wt(a,I+f+1,S),k=ct[I],k!==0&&(g-=Kt[I],At(a,g,k)),b--,I=hs(b),wt(a,I,v),k=gt[I],k!==0&&(b-=ne[I],At(a,b,k)));while(N<a.last_lit);wt(a,j,S)},Ls=(a,S)=>{let v=S.dyn_tree,b=S.stat_desc.static_tree,g=S.stat_desc.has_stree,N=S.stat_desc.elems,I,k,ot=-1,et;for(a.heap_len=0,a.heap_max=V,I=0;I<N;I++)v[I*2]!==0?(a.heap[++a.heap_len]=ot=I,a.depth[I]=0):v[I*2+1]=0;for(;a.heap_len<2;)et=a.heap[++a.heap_len]=ot<2?++ot:0,v[et*2]=1,a.depth[et]=0,a.opt_len--,g&&(a.static_len-=b[et*2+1]);for(S.max_code=ot,I=a.heap_len>>1;I>=1;I--)Te(a,v,I);et=N;do I=a.heap[1],a.heap[1]=a.heap[a.heap_len--],Te(a,v,1),k=a.heap[1],a.heap[--a.heap_max]=I,a.heap[--a.heap_max]=k,v[et*2]=v[I*2]+v[k*2],a.depth[et]=(a.depth[I]>=a.depth[k]?a.depth[I]:a.depth[k])+1,v[I*2+1]=v[k*2+1]=et,a.heap[1]=et++,Te(a,v,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],Ni(a,S),ni(v,ot,a.bl_count)},zt=(a,S,v)=>{let b,g=-1,N,I=S[0*2+1],k=0,ot=7,et=4;for(I===0&&(ot=138,et=3),S[(v+1)*2+1]=65535,b=0;b<=v;b++)N=I,I=S[(b+1)*2+1],!(++k<ot&&N===I)&&(k<et?a.bl_tree[N*2]+=k:N!==0?(N!==g&&a.bl_tree[N*2]++,a.bl_tree[F*2]++):k<=10?a.bl_tree[M*2]++:a.bl_tree[tt*2]++,k=0,g=N,I===0?(ot=138,et=3):N===I?(ot=6,et=3):(ot=7,et=4))},Gt=(a,S,v)=>{let b,g=-1,N,I=S[0*2+1],k=0,ot=7,et=4;for(I===0&&(ot=138,et=3),b=0;b<=v;b++)if(N=I,I=S[(b+1)*2+1],!(++k<ot&&N===I)){if(k<et)do wt(a,N,a.bl_tree);while(--k!==0);else N!==0?(N!==g&&(wt(a,N,a.bl_tree),k--),wt(a,F,a.bl_tree),At(a,k-3,2)):k<=10?(wt(a,M,a.bl_tree),At(a,k-3,3)):(wt(a,tt,a.bl_tree),At(a,k-11,7));k=0,g=N,I===0?(ot=138,et=3):N===I?(ot=6,et=3):(ot=7,et=4)}},Jt=a=>{let S;for(zt(a,a.dyn_ltree,a.l_desc.max_code),zt(a,a.dyn_dtree,a.d_desc.max_code),Ls(a,a.bl_desc),S=A-1;S>=3&&a.bl_tree[$t[S]*2+1]===0;S--);return a.opt_len+=3*(S+1)+5+5+4,S},Qt=(a,S,v,b)=>{let g;for(At(a,S-257,5),At(a,v-1,5),At(a,b-4,4),g=0;g<b;g++)At(a,a.bl_tree[$t[g]*2+1],3);Gt(a,a.dyn_ltree,S-1),Gt(a,a.dyn_dtree,v-1)},Eo=a=>{let S=4093624447,v;for(v=0;v<=31;v++,S>>>=1)if(S&1&&a.dyn_ltree[v*2]!==0)return 0;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return 1;for(v=32;v<f;v++)if(a.dyn_ltree[v*2]!==0)return 1;return 0},dr=!1,So=a=>{dr||(nn(),dr=!0),a.l_desc=new Oe(a.dyn_ltree,Ds),a.d_desc=new Oe(a.dyn_dtree,le),a.bl_desc=new Oe(a.bl_tree,Vt),a.bi_buf=0,a.bi_valid=0,on(a)},pr=(a,S,v,b)=>{At(a,(n<<1)+(b?1:0),3),yo(a,S,v,!0)},vt=a=>{At(a,o<<1,3),wt(a,j,z),rn(a)},oi=(a,S,v,b)=>{let g,N,I=0;a.level>0?(a.strm.data_type===2&&(a.strm.data_type=Eo(a)),Ls(a,a.l_desc),Ls(a,a.d_desc),I=Jt(a),g=a.opt_len+3+7>>>3,N=a.static_len+3+7>>>3,N<=g&&(g=N)):g=N=v+5,v+4<=g&&S!==-1?pr(a,S,v,b):a.strategy===4||N===g?(At(a,(o<<1)+(b?1:0),3),Mi(a,z,X)):(At(a,(c<<1)+(b?1:0),3),Qt(a,a.l_desc.max_code+1,a.d_desc.max_code+1,I+1),Mi(a,a.dyn_ltree,a.dyn_dtree)),on(a),b&&an(a)},ki=(a,S,v)=>(a.pending_buf[a.d_buf+a.last_lit*2]=S>>>8&255,a.pending_buf[a.d_buf+a.last_lit*2+1]=S&255,a.pending_buf[a.l_buf+a.last_lit]=v&255,a.last_lit++,S===0?a.dyn_ltree[v*2]++:(a.matches++,S--,a.dyn_ltree[(It[v]+f+1)*2]++,a.dyn_dtree[hs(S)*2]++),a.last_lit===a.lit_bufsize-1);var vo=So,cn=pr,_o=oi,wo=ki,bo=vt,To={_tr_init:vo,_tr_stored_block:cn,_tr_flush_block:_o,_tr_tally:wo,_tr_align:bo},ln=(a,S,v,b)=>{let g=a&65535|0,N=a>>>16&65535|0,I=0;for(;v!==0;){I=v>2e3?2e3:v,v-=I;do g=g+S[b++]|0,N=N+g|0;while(--I);g%=65521,N%=65521}return g|N<<16|0};let Ao=()=>{let a,S=[];for(var v=0;v<256;v++){a=v;for(var b=0;b<8;b++)a=a&1?3988292384^a>>>1:a>>>1;S[v]=a}return S},Ro=new Uint32Array(Ao());var Me=(a,S,v,b)=>{let g=Ro,N=b+v;a^=-1;for(let I=b;I<N;I++)a=a>>>8^g[(a^S[I])&255];return a^-1},us={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},un={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:fr,_tr_stored_block:gr,_tr_flush_block:ds,_tr_tally:he,_tr_align:dn}=To,{Z_NO_FLUSH:ps,Z_PARTIAL_FLUSH:Vs,Z_FULL_FLUSH:pn,Z_FINISH:Et,Z_BLOCK:ai,Z_OK:qt,Z_STREAM_END:fs,Z_STREAM_ERROR:me,Z_DATA_ERROR:Co,Z_BUF_ERROR:mr,Z_DEFAULT_COMPRESSION:Io,Z_FILTERED:Po,Z_HUFFMAN_ONLY:Di,Z_RLE:fn,Z_FIXED:gn,Z_DEFAULT_STRATEGY:mn,Z_UNKNOWN:Oo,Z_DEFLATED:gs}=un,No=9,Mo=15,ko=8,yr=256+1+29,yn=30,Lo=19,Vo=2*yr+1,Uo=15,ut=3,Be=258,ue=Be+ut+1,Er=32,ms=42,xi=69,Li=73,ci=91,Vi=103,ys=113,Fe=666,Ut=1,li=2,ke=3,Us=4,Sr=3,$e=(a,S)=>(a.msg=us[S],S),Ui=a=>(a<<1)-(a>4?9:0),ze=a=>{let S=a.length;for(;--S>=0;)a[S]=0},De=(a,S,v)=>(S<<a.hash_shift^v)&a.hash_mask,Ae=a=>{let S=a.state,v=S.pending;v>a.avail_out&&(v=a.avail_out),v!==0&&(a.output.set(S.pending_buf.subarray(S.pending_out,S.pending_out+v),a.next_out),a.next_out+=v,S.pending_out+=v,a.total_out+=v,a.avail_out-=v,S.pending-=v,S.pending===0&&(S.pending_out=0))},jt=(a,S)=>{ds(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,S),a.block_start=a.strstart,Ae(a.strm)},dt=(a,S)=>{a.pending_buf[a.pending++]=S},xe=(a,S)=>{a.pending_buf[a.pending++]=S>>>8&255,a.pending_buf[a.pending++]=S&255},vr=(a,S,v,b)=>{let g=a.avail_in;return g>b&&(g=b),g===0?0:(a.avail_in-=g,S.set(a.input.subarray(a.next_in,a.next_in+g),v),a.state.wrap===1?a.adler=ln(a.adler,S,g,v):a.state.wrap===2&&(a.adler=Me(a.adler,S,g,v)),a.next_in+=g,a.total_in+=g,g)},_r=(a,S)=>{let v=a.max_chain_length,b=a.strstart,g,N,I=a.prev_length,k=a.nice_match,ot=a.strstart>a.w_size-ue?a.strstart-(a.w_size-ue):0,et=a.window,Zt=a.w_mask,de=a.prev,bt=a.strstart+Be,vs=et[b+I-1],Bs=et[b+I];a.prev_length>=a.good_match&&(v>>=2),k>a.lookahead&&(k=a.lookahead);do if(g=S,!(et[g+I]!==Bs||et[g+I-1]!==vs||et[g]!==et[b]||et[++g]!==et[b+1])){b+=2,g++;do;while(et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&et[++b]===et[++g]&&b<bt);if(N=Be-(bt-b),b=bt-Be,N>I){if(a.match_start=S,I=N,N>=k)break;vs=et[b+I-1],Bs=et[b+I]}}while((S=de[S&Zt])>ot&&--v!==0);return I<=a.lookahead?I:a.lookahead},Es=a=>{let S=a.w_size,v,b,g,N,I;do{if(N=a.window_size-a.lookahead-a.strstart,a.strstart>=S+(S-ue)){a.window.set(a.window.subarray(S,S+S),0),a.match_start-=S,a.strstart-=S,a.block_start-=S,b=a.hash_size,v=b;do g=a.head[--v],a.head[v]=g>=S?g-S:0;while(--b);b=S,v=b;do g=a.prev[--v],a.prev[v]=g>=S?g-S:0;while(--b);N+=S}if(a.strm.avail_in===0)break;if(b=vr(a.strm,a.window,a.strstart+a.lookahead,N),a.lookahead+=b,a.lookahead+a.insert>=ut)for(I=a.strstart-a.insert,a.ins_h=a.window[I],a.ins_h=De(a,a.ins_h,a.window[I+1]);a.insert&&(a.ins_h=De(a,a.ins_h,a.window[I+ut-1]),a.prev[I&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=I,I++,a.insert--,!(a.lookahead+a.insert<ut)););}while(a.lookahead<ue&&a.strm.avail_in!==0)},js=(a,S)=>{let v=65535;for(v>a.pending_buf_size-5&&(v=a.pending_buf_size-5);;){if(a.lookahead<=1){if(Es(a),a.lookahead===0&&S===ps)return Ut;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;let b=a.block_start+v;if((a.strstart===0||a.strstart>=b)&&(a.lookahead=a.strstart-b,a.strstart=b,jt(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-ue&&(jt(a,!1),a.strm.avail_out===0))return Ut}return a.insert=0,S===Et?(jt(a,!0),a.strm.avail_out===0?ke:Us):(a.strstart>a.block_start&&(jt(a,!1),a.strm.avail_out===0),Ut)},ji=(a,S)=>{let v,b;for(;;){if(a.lookahead<ue){if(Es(a),a.lookahead<ue&&S===ps)return Ut;if(a.lookahead===0)break}if(v=0,a.lookahead>=ut&&(a.ins_h=De(a,a.ins_h,a.window[a.strstart+ut-1]),v=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),v!==0&&a.strstart-v<=a.w_size-ue&&(a.match_length=_r(a,v)),a.match_length>=ut)if(b=he(a,a.strstart-a.match_start,a.match_length-ut),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ut){a.match_length--;do a.strstart++,a.ins_h=De(a,a.ins_h,a.window[a.strstart+ut-1]),v=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=De(a,a.ins_h,a.window[a.strstart+1]);else b=he(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(b&&(jt(a,!1),a.strm.avail_out===0))return Ut}return a.insert=a.strstart<ut-1?a.strstart:ut-1,S===Et?(jt(a,!0),a.strm.avail_out===0?ke:Us):a.last_lit&&(jt(a,!1),a.strm.avail_out===0)?Ut:li},Ze=(a,S)=>{let v,b,g;for(;;){if(a.lookahead<ue){if(Es(a),a.lookahead<ue&&S===ps)return Ut;if(a.lookahead===0)break}if(v=0,a.lookahead>=ut&&(a.ins_h=De(a,a.ins_h,a.window[a.strstart+ut-1]),v=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ut-1,v!==0&&a.prev_length<a.max_lazy_match&&a.strstart-v<=a.w_size-ue&&(a.match_length=_r(a,v),a.match_length<=5&&(a.strategy===Po||a.match_length===ut&&a.strstart-a.match_start>4096)&&(a.match_length=ut-1)),a.prev_length>=ut&&a.match_length<=a.prev_length){g=a.strstart+a.lookahead-ut,b=he(a,a.strstart-1-a.prev_match,a.prev_length-ut),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=g&&(a.ins_h=De(a,a.ins_h,a.window[a.strstart+ut-1]),v=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);if(a.match_available=0,a.match_length=ut-1,a.strstart++,b&&(jt(a,!1),a.strm.avail_out===0))return Ut}else if(a.match_available){if(b=he(a,0,a.window[a.strstart-1]),b&&jt(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return Ut}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(b=he(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ut-1?a.strstart:ut-1,S===Et?(jt(a,!0),a.strm.avail_out===0?ke:Us):a.last_lit&&(jt(a,!1),a.strm.avail_out===0)?Ut:li},En=(a,S)=>{let v,b,g,N,I=a.window;for(;;){if(a.lookahead<=Be){if(Es(a),a.lookahead<=Be&&S===ps)return Ut;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=ut&&a.strstart>0&&(g=a.strstart-1,b=I[g],b===I[++g]&&b===I[++g]&&b===I[++g])){N=a.strstart+Be;do;while(b===I[++g]&&b===I[++g]&&b===I[++g]&&b===I[++g]&&b===I[++g]&&b===I[++g]&&b===I[++g]&&b===I[++g]&&g<N);a.match_length=Be-(N-g),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ut?(v=he(a,1,a.match_length-ut),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(v=he(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),v&&(jt(a,!1),a.strm.avail_out===0))return Ut}return a.insert=0,S===Et?(jt(a,!0),a.strm.avail_out===0?ke:Us):a.last_lit&&(jt(a,!1),a.strm.avail_out===0)?Ut:li},jo=(a,S)=>{let v;for(;;){if(a.lookahead===0&&(Es(a),a.lookahead===0)){if(S===ps)return Ut;break}if(a.match_length=0,v=he(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,v&&(jt(a,!1),a.strm.avail_out===0))return Ut}return a.insert=0,S===Et?(jt(a,!0),a.strm.avail_out===0?ke:Us):a.last_lit&&(jt(a,!1),a.strm.avail_out===0)?Ut:li};function Re(a,S,v,b,g){this.good_length=a,this.max_lazy=S,this.nice_length=v,this.max_chain=b,this.func=g}let Hs=[new Re(0,0,0,0,js),new Re(4,4,8,4,ji),new Re(4,5,16,8,ji),new Re(4,6,32,32,ji),new Re(4,4,16,16,Ze),new Re(8,16,32,32,Ze),new Re(8,16,128,128,Ze),new Re(8,32,128,256,Ze),new Re(32,128,258,1024,Ze),new Re(32,258,258,4096,Ze)],Sn=a=>{a.window_size=2*a.w_size,ze(a.head),a.max_lazy_match=Hs[a.level].max_lazy,a.good_match=Hs[a.level].good_length,a.nice_match=Hs[a.level].nice_length,a.max_chain_length=Hs[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ut-1,a.match_available=0,a.ins_h=0};function Ho(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=gs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Vo*2),this.dyn_dtree=new Uint16Array((2*yn+1)*2),this.bl_tree=new Uint16Array((2*Lo+1)*2),ze(this.dyn_ltree),ze(this.dyn_dtree),ze(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Uo+1),this.heap=new Uint16Array(2*yr+1),ze(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*yr+1),ze(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let wr=a=>{if(!a||!a.state)return $e(a,me);a.total_in=a.total_out=0,a.data_type=Oo;let S=a.state;return S.pending=0,S.pending_out=0,S.wrap<0&&(S.wrap=-S.wrap),S.status=S.wrap?ms:ys,a.adler=S.wrap===2?0:1,S.last_flush=ps,fr(S),qt},br=a=>{let S=wr(a);return S===qt&&Sn(a.state),S},Bo=(a,S)=>!a||!a.state||a.state.wrap!==2?me:(a.state.gzhead=S,qt),Hi=(a,S,v,b,g,N)=>{if(!a)return me;let I=1;if(S===Io&&(S=6),b<0?(I=0,b=-b):b>15&&(I=2,b-=16),g<1||g>No||v!==gs||b<8||b>15||S<0||S>9||N<0||N>gn)return $e(a,me);b===8&&(b=9);let k=new Ho;return a.state=k,k.strm=a,k.wrap=I,k.gzhead=null,k.w_bits=b,k.w_size=1<<k.w_bits,k.w_mask=k.w_size-1,k.hash_bits=g+7,k.hash_size=1<<k.hash_bits,k.hash_mask=k.hash_size-1,k.hash_shift=~~((k.hash_bits+ut-1)/ut),k.window=new Uint8Array(k.w_size*2),k.head=new Uint16Array(k.hash_size),k.prev=new Uint16Array(k.w_size),k.lit_bufsize=1<<g+6,k.pending_buf_size=k.lit_bufsize*4,k.pending_buf=new Uint8Array(k.pending_buf_size),k.d_buf=1*k.lit_bufsize,k.l_buf=3*k.lit_bufsize,k.level=S,k.strategy=N,k.method=v,br(a)},Fo=(a,S)=>Hi(a,S,gs,Mo,ko,mn),Tr=(a,S)=>{let v,b;if(!a||!a.state||S>ai||S<0)return a?$e(a,me):me;let g=a.state;if(!a.output||!a.input&&a.avail_in!==0||g.status===Fe&&S!==Et)return $e(a,a.avail_out===0?mr:me);g.strm=a;let N=g.last_flush;if(g.last_flush=S,g.status===ms)if(g.wrap===2)a.adler=0,dt(g,31),dt(g,139),dt(g,8),g.gzhead?(dt(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),dt(g,g.gzhead.time&255),dt(g,g.gzhead.time>>8&255),dt(g,g.gzhead.time>>16&255),dt(g,g.gzhead.time>>24&255),dt(g,g.level===9?2:g.strategy>=Di||g.level<2?4:0),dt(g,g.gzhead.os&255),g.gzhead.extra&&g.gzhead.extra.length&&(dt(g,g.gzhead.extra.length&255),dt(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(a.adler=Me(a.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=xi):(dt(g,0),dt(g,0),dt(g,0),dt(g,0),dt(g,0),dt(g,g.level===9?2:g.strategy>=Di||g.level<2?4:0),dt(g,Sr),g.status=ys);else{let I=gs+(g.w_bits-8<<4)<<8,k=-1;g.strategy>=Di||g.level<2?k=0:g.level<6?k=1:g.level===6?k=2:k=3,I|=k<<6,g.strstart!==0&&(I|=Er),I+=31-I%31,g.status=ys,xe(g,I),g.strstart!==0&&(xe(g,a.adler>>>16),xe(g,a.adler&65535)),a.adler=1}if(g.status===xi)if(g.gzhead.extra){for(v=g.pending;g.gzindex<(g.gzhead.extra.length&65535)&&!(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>v&&(a.adler=Me(a.adler,g.pending_buf,g.pending-v,v)),Ae(a),v=g.pending,g.pending===g.pending_buf_size));)dt(g,g.gzhead.extra[g.gzindex]&255),g.gzindex++;g.gzhead.hcrc&&g.pending>v&&(a.adler=Me(a.adler,g.pending_buf,g.pending-v,v)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=Li)}else g.status=Li;if(g.status===Li)if(g.gzhead.name){v=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>v&&(a.adler=Me(a.adler,g.pending_buf,g.pending-v,v)),Ae(a),v=g.pending,g.pending===g.pending_buf_size)){b=1;break}g.gzindex<g.gzhead.name.length?b=g.gzhead.name.charCodeAt(g.gzindex++)&255:b=0,dt(g,b)}while(b!==0);g.gzhead.hcrc&&g.pending>v&&(a.adler=Me(a.adler,g.pending_buf,g.pending-v,v)),b===0&&(g.gzindex=0,g.status=ci)}else g.status=ci;if(g.status===ci)if(g.gzhead.comment){v=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>v&&(a.adler=Me(a.adler,g.pending_buf,g.pending-v,v)),Ae(a),v=g.pending,g.pending===g.pending_buf_size)){b=1;break}g.gzindex<g.gzhead.comment.length?b=g.gzhead.comment.charCodeAt(g.gzindex++)&255:b=0,dt(g,b)}while(b!==0);g.gzhead.hcrc&&g.pending>v&&(a.adler=Me(a.adler,g.pending_buf,g.pending-v,v)),b===0&&(g.status=Vi)}else g.status=Vi;if(g.status===Vi&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&Ae(a),g.pending+2<=g.pending_buf_size&&(dt(g,a.adler&255),dt(g,a.adler>>8&255),a.adler=0,g.status=ys)):g.status=ys),g.pending!==0){if(Ae(a),a.avail_out===0)return g.last_flush=-1,qt}else if(a.avail_in===0&&Ui(S)<=Ui(N)&&S!==Et)return $e(a,mr);if(g.status===Fe&&a.avail_in!==0)return $e(a,mr);if(a.avail_in!==0||g.lookahead!==0||S!==ps&&g.status!==Fe){let I=g.strategy===Di?jo(g,S):g.strategy===fn?En(g,S):Hs[g.level].func(g,S);if((I===ke||I===Us)&&(g.status=Fe),I===Ut||I===ke)return a.avail_out===0&&(g.last_flush=-1),qt;if(I===li&&(S===Vs?dn(g):S!==ai&&(gr(g,0,0,!1),S===pn&&(ze(g.head),g.lookahead===0&&(g.strstart=0,g.block_start=0,g.insert=0))),Ae(a),a.avail_out===0))return g.last_flush=-1,qt}return S!==Et?qt:g.wrap<=0?fs:(g.wrap===2?(dt(g,a.adler&255),dt(g,a.adler>>8&255),dt(g,a.adler>>16&255),dt(g,a.adler>>24&255),dt(g,a.total_in&255),dt(g,a.total_in>>8&255),dt(g,a.total_in>>16&255),dt(g,a.total_in>>24&255)):(xe(g,a.adler>>>16),xe(g,a.adler&65535)),Ae(a),g.wrap>0&&(g.wrap=-g.wrap),g.pending!==0?qt:fs)},$o=a=>{if(!a||!a.state)return me;let S=a.state.status;return S!==ms&&S!==xi&&S!==Li&&S!==ci&&S!==Vi&&S!==ys&&S!==Fe?$e(a,me):(a.state=null,S===ys?$e(a,Co):qt)},zo=(a,S)=>{let v=S.length;if(!a||!a.state)return me;let b=a.state,g=b.wrap;if(g===2||g===1&&b.status!==ms||b.lookahead)return me;if(g===1&&(a.adler=ln(a.adler,S,v,0)),b.wrap=0,v>=b.w_size){g===0&&(ze(b.head),b.strstart=0,b.block_start=0,b.insert=0);let ot=new Uint8Array(b.w_size);ot.set(S.subarray(v-b.w_size,v),0),S=ot,v=b.w_size}let N=a.avail_in,I=a.next_in,k=a.input;for(a.avail_in=v,a.next_in=0,a.input=S,Es(b);b.lookahead>=ut;){let ot=b.strstart,et=b.lookahead-(ut-1);do b.ins_h=De(b,b.ins_h,b.window[ot+ut-1]),b.prev[ot&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=ot,ot++;while(--et);b.strstart=ot,b.lookahead=ut-1,Es(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=ut-1,b.match_available=0,a.next_in=I,a.input=k,a.avail_in=N,b.wrap=g,qt};var Go=Fo,qo=Hi,Ar=br,Wo=wr,Yo=Bo,Bi=Tr,Ss=$o,vn=zo,Xo="pako deflate (from Nodeca project)",ui={deflateInit:Go,deflateInit2:qo,deflateReset:Ar,deflateResetKeep:Wo,deflateSetHeader:Yo,deflate:Bi,deflateEnd:Ss,deflateSetDictionary:vn,deflateInfo:Xo};let Ko=(a,S)=>Object.prototype.hasOwnProperty.call(a,S);var _n=function(a){let S=Array.prototype.slice.call(arguments,1);for(;S.length;){let v=S.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(let b in v)Ko(v,b)&&(a[b]=v[b])}}return a},di=a=>{let S=0;for(let b=0,g=a.length;b<g;b++)S+=a[b].length;let v=new Uint8Array(S);for(let b=0,g=0,N=a.length;b<N;b++){let I=a[b];v.set(I,g),g+=I.length}return v},pi={assign:_n,flattenChunks:di};let ts=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ts=!1}let fi=new Uint8Array(256);for(let a=0;a<256;a++)fi[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;fi[254]=fi[254]=1;var Jo=a=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let S,v,b,g,N,I=a.length,k=0;for(g=0;g<I;g++)v=a.charCodeAt(g),(v&64512)===55296&&g+1<I&&(b=a.charCodeAt(g+1),(b&64512)===56320&&(v=65536+(v-55296<<10)+(b-56320),g++)),k+=v<128?1:v<2048?2:v<65536?3:4;for(S=new Uint8Array(k),N=0,g=0;N<k;g++)v=a.charCodeAt(g),(v&64512)===55296&&g+1<I&&(b=a.charCodeAt(g+1),(b&64512)===56320&&(v=65536+(v-55296<<10)+(b-56320),g++)),v<128?S[N++]=v:v<2048?(S[N++]=192|v>>>6,S[N++]=128|v&63):v<65536?(S[N++]=224|v>>>12,S[N++]=128|v>>>6&63,S[N++]=128|v&63):(S[N++]=240|v>>>18,S[N++]=128|v>>>12&63,S[N++]=128|v>>>6&63,S[N++]=128|v&63);return S};let wn=(a,S=a.length)=>{if(S<65534&&a.subarray&&ts)return String.fromCharCode.apply(null,a.length===S?a:a.subarray(0,S));let v="";for(let b=0;b<S;b++)v+=String.fromCharCode(a[b]);return v};var Qo=(a,S)=>{let v=S||a.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,S));let b,g,N=new Array(v*2);for(g=0,b=0;b<v;){let I=a[b++];if(I<128){N[g++]=I;continue}let k=fi[I];if(k>4){N[g++]=65533,b+=k-1;continue}for(I&=k===2?31:k===3?15:7;k>1&&b<v;)I=I<<6|a[b++]&63,k--;if(k>1){N[g++]=65533;continue}I<65536?N[g++]=I:(I-=65536,N[g++]=55296|I>>10&1023,N[g++]=56320|I&1023)}return wn(N,g)},Zo=(a,S)=>{S=S||a.length,S>a.length&&(S=a.length);let v=S-1;for(;v>=0&&(a[v]&192)===128;)v--;return v<0||v===0?S:v+fi[a[v]]>S?v:S},bn={string2buf:Jo,buf2string:Qo,utf8border:Zo};function ta(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ea=ta;let h=Object.prototype.toString,{Z_NO_FLUSH:l,Z_SYNC_FLUSH:p,Z_FULL_FLUSH:m,Z_FINISH:y,Z_OK:T,Z_STREAM_END:x,Z_DEFAULT_COMPRESSION:D,Z_DEFAULT_STRATEGY:R,Z_DEFLATED:H}=un;function W(a){this.options=pi.assign({level:D,method:H,chunkSize:16384,windowBits:15,memLevel:8,strategy:R},a||{});let S=this.options;S.raw&&S.windowBits>0?S.windowBits=-S.windowBits:S.gzip&&S.windowBits>0&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ea,this.strm.avail_out=0;let v=ui.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(v!==T)throw new Error(us[v]);if(S.header&&ui.deflateSetHeader(this.strm,S.header),S.dictionary){let b;if(typeof S.dictionary=="string"?b=bn.string2buf(S.dictionary):h.call(S.dictionary)==="[object ArrayBuffer]"?b=new Uint8Array(S.dictionary):b=S.dictionary,v=ui.deflateSetDictionary(this.strm,b),v!==T)throw new Error(us[v]);this._dict_set=!0}}W.prototype.push=function(a,S){let v=this.strm,b=this.options.chunkSize,g,N;if(this.ended)return!1;for(S===~~S?N=S:N=S===!0?y:l,typeof a=="string"?v.input=bn.string2buf(a):h.call(a)==="[object ArrayBuffer]"?v.input=new Uint8Array(a):v.input=a,v.next_in=0,v.avail_in=v.input.length;;){if(v.avail_out===0&&(v.output=new Uint8Array(b),v.next_out=0,v.avail_out=b),(N===p||N===m)&&v.avail_out<=6){this.onData(v.output.subarray(0,v.next_out)),v.avail_out=0;continue}if(g=ui.deflate(v,N),g===x)return v.next_out>0&&this.onData(v.output.subarray(0,v.next_out)),g=ui.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===T;if(v.avail_out===0){this.onData(v.output);continue}if(N>0&&v.next_out>0){this.onData(v.output.subarray(0,v.next_out)),v.avail_out=0;continue}if(v.avail_in===0)break}return!0},W.prototype.onData=function(a){this.chunks.push(a)},W.prototype.onEnd=function(a){a===T&&(this.result=pi.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function J(a,S){S=S||{};let v=new W(S);if(v.push(a,!0),v.err)throw v.msg||us[v.err];return v.result}function rt(a,S){return S=S||{},S.gzip=!0,J(a,S)}return(a,S,v)=>{let b=rt(a);return S==="base64"?b=btoa(wn(b)):b=b.buffer,v&&v(b),b}}var _v=(()=>{class s extends du{constructor(t){super(t),this.algorithm=ro.GZIP,this.Dg=vh(),this.yA=(i,n,o)=>{let c=this.Dg(i,n);o(c)},this.compress=_h(),typeof CompressionStream!="undefined"&&ov||(this.compress=this.yA,this.getCompressorSourceCode=()=>vh.toString())}compressSync(t,e){return this.Dg(t,e)}getCompressorSourceCode(){return _h.toString()}}return s})();function _h(){let s=r=>new Promise(t=>{let e=new FileReader;e.onload=i=>t(i.target.result.split(",")[1]),e.readAsDataURL(new Blob([r]))});return(r,t,e)=>{let i=new Response(r).body.pipeThrough(new CompressionStream("gzip")),n=new Response(i).arrayBuffer();if(t==="base64"){n.then(o=>s(o)).then(o=>e(o));return}n.then(o=>e(o))}}var wv=(()=>{class s extends du{constructor(){super(...arguments),this.algorithm=ro.UNCOMPRESSED}compress(t,e,i){i(this.compressSync(t,e))}compressSync(t,e){return t}getCompressorSourceCode(){return function(){return(t,e,i)=>i(t)}.toString()}}return s})(),$d=(()=>{class s{static create(t,e=!0){return this.instance?this.instance:e&&!Sv.isCompressionEnabled()?new wv(t):this.instance=new _v(t)}}return s})(),tl=["setEncryptionSelectors"],ur=["setPIISelectors"],fo=["setCapturedElementsSelector"],bv=(()=>{class s{constructor(t,e,i,n,o,c,u){this.S=t,this.E=e,this.nt=i,this.ye=n,this.Bt=o,this.lt=c,this.wr=u}init(){var t,e;this.wr&&this.lt&&((t=this.wr)===null||t===void 0||t.addSelector((e=this.lt)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ht()}onStartTracking(t){this.ye.start(),this.S.emitSensitiveStatusChange()}onBeforeArtificialPageView(){this.ye.stop(),this.S.emitSensitiveStatusChange()}onAfterArtificialPageView(){this.ye.start(),this.S.emitSensitiveStatusChange()}onBeforeSessionRenewal(){this.ye.stop(),this.S.emitSensitiveStatusChange()}onOptout(){this.ye.stop(),this.S.emitSensitiveStatusChange()}onReplayUnanonymizationConsentGranted(){this.S.emitSensitiveStatusChange()}onReplayUnanonymizationConsentWithdrawn(){this.S.emitSensitiveStatusChange()}ht(){this.E.register(ur,t=>{this.nt.setMaskedElementSettingsFromCommand(t),this.S.emitSensitiveStatusChange()}),this.E.register(fo,t=>{this.Bt.setWhitelistedElementsSelector(t),this.S.emitSensitiveStatusChange()}),this.E.register(tl,t=>{var e,i;(e=this.lt)===null||e===void 0||e.setEncryptionSelectors(t),(i=this.wr)===null||i===void 0||i.addSelector(t)})}}return s})(),el=(()=>{class s extends re{constructor(t,e,i,n,o,c){super(),this.ce=t,this.nt=e,this.Bt=i,this.wr=n,this.br=o,this.it=c}onStart(){var t,e,i;this.Bt.start(),this.ce.setMaskedElementSettings(this.nt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements())),this.ce.startIdentifier(),(e=this.wr)===null||e===void 0||e.start(),(i=this.br)===null||i===void 0||i.start()}onStop(){var t,e;this.Bt.stop(),this.ce.stopIdentifier(),(t=this.wr)===null||t===void 0||t.stop(),(e=this.br)===null||e===void 0||e.stop()}}return s})(),Tv=(()=>{class s{constructor(t,e,i,n,o){this.it=t,this.nt=e,this.ye=i,this.Bt=n,this.lt=o}getSensitiveStatus(){var t,e;return{started:this.ye.isStarted,useAnonymization:this.it.shouldUseAnonymization(),capturedElementSelector:this.Bt.getWhitelistedElementsSelector(),maskedElementSettings:this.nt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:(e=this.lt)===null||e===void 0?void 0:e.getEncryptionSelectors()}}getElementSensitiveStatus(t){let e=this.ye.isStarted,i=this.it.shouldUseAnonymization();return e?Y.isMaskedElement(t)||Y.isMaskedElementChild(t)?fe.MASKED:_u.shouldEncrypt(t)?fe.ENCRYPTED:Cs.isEditableNode(t)?fe.ANONYMIZED:i?is.isWhitelistedElement(t)?fe.CAPTURED:fe.ANONYMIZED:fe.CAPTURED:fe.ANONYMIZED}}return s})(),Av=(()=>{class s{constructor(t){this.G=t}onAfterVisitorRenewal(){this.G.renewSession()}}return s})(),wh=(()=>{let s;return function(r){function t(f,_){for(let w of f)if(i(w,_))return!0;return!1}r.isUrlMatching=t;function e(f,_){if(L(_)){for(let w of f)if(i(w,_))return!0}else if(Ur(_)){for(let w of f)if(i(w,csString(_)))return!0}return!1}r.isMatching=e;function i(f,_){let w=n(f,_);return f.negate?!w:w}function n(f,_){switch(f.rule_type==="date"&&(f.match_operation==="less_than"||f.match_operation==="greater_than")&&(_=(new csDate(_).valueOf()/1e3).toFixed(0)),f.match_operation){case"exact":switch(f.rule_type){case"string":return L(f.pattern)?csString.prototype.toLowerCase.call(_)===csString.prototype.toLowerCase.call(f.pattern):!1;case"boolean":return _===f.pattern||_===csString(f.pattern);case"number":return Ot(_)?Number(_)===Number(f.pattern):!1;default:return _===f.pattern}case"starts_with":return L(f.pattern)?csString.prototype.indexOf.call(_,f.pattern)===0:!1;case"ends_with":return L(f.pattern)?rr(_,f.pattern):!1;case"contains":return L(f.pattern)?csString.prototype.indexOf.call(_,f.pattern)!==-1:!1;case"regex":if(!L(f.pattern))return!1;try{return new csRegExp(f.pattern).test(_)}catch(w){return q.warn(`targeting.matchOperation.regex invalid ${w==null?void 0:w.message}`),!1}case"simple":return L(f.pattern)?E(_)===E(f.pattern):!1;case"greater_than":return Number(_)>Number(f.pattern);case"less_than":return Number(_)<Number(f.pattern);case"exact_date":{let w=Number(f.pattern);if(!Lt(w))return!1;let A=new csDate(w*1e3);return new csDate(_).toDateString()===A.toDateString()}case"exact_days_ago":return o(f,_);case"more_than_days_ago":return c(f,_);case"less_than_days_ago":return u(f,_);case"unknown":return d(_);default:return q.warn(`targeting.matchOperation.regex not managed operation ${f.match_operation}`),!1}}function o(f,_){let w=new csDate,A=w.setDate(w.getDate()-Number(f.pattern)),V=new csDate(A);return new csDate(_).toDateString()===V.toDateString()}function c(f,_){let w=Number(f.pattern);if(!Lt(w))return!1;let A=Number(w)+1,V=new csDate,U=new csDate(V);return U.setDate(V.getDate()-A),new csDate(_).getTime()<=U.getTime()}function u(f,_){let w=Number(f.pattern);if(!Lt(w))return!1;if(w===0)return o(f,_);let A=new csDate,V=new csDate(A);return V.setDate(A.getDate()-w),new csDate(_).getTime()>=V.getTime()}function d(f){return Ot(f)?L(f)?csString.prototype.trim.call(f)==="":Ur(f)?f===!0:Lt(f)?f!==0:!1:!0}function E(f){let _=se(f,"http://")||se(f,"https://")?f:`https://${f}`,w=Dc(_);return w!==null?csString.prototype.replace.call(w.host,/^www./,""):f}}(s||(s={})),s})(),Rv=(()=>{class s{constructor(){this.Lg=[],this.Vg=[]}setTargetingRules(t){for(let e of t)e.component==="url"?csArray.prototype.push.call(this.Lg,e):e.component==="trigger"&&csArray.prototype.push.call(this.Vg,e)}matchUrl(t){return wh.isUrlMatching(this.Lg,t)}matchTrigger(t){return wh.isMatching(this.Vg,t)}}return s})(),Cv=(()=>{class s extends re{constructor(t,e,i){super(),this.Ha=t,this.Gh=e,this.w=i}init(){this.qh=new Rv,this.Ha&&this.qh.setTargetingRules(this.Ha)}onStart(){}checkInitialUrlTargetingRules(){let t=this.w.getAnonymizedUrl();this.Wh(t,"url")&&this.Gh()}onStop(){}onTargetingRulesArtificialPageview(t){this.isStarted&&this.Wh(t,"url")&&this.Gh()}onExternalEvent(t){this.isStarted&&this.Wh(t.name,"trigger")&&this.Gh()}Wh(t,e){var i,n;return e==="url"&&L(t)&&(!((i=this.qh)===null||i===void 0)&&i.matchUrl(t))?!0:!!(e==="trigger"&&(!((n=this.qh)===null||n===void 0)&&n.matchTrigger(t)))}}return s})(),Iv=(()=>{class s{constructor(t,e,i,n,o,c){this.Ha=t,this.bA=e,this.S=i,this.Tt=n,this.X=o,this.w=c}init(){this.Kn=new Cv(this.Ha,this.bA,this.w),this.X.addListener(this.Kn),this.Kn.init()}start(){this.Kn.start()}stop(){this.Kn.stop()}checkInitialUrlTargetingRules(){this.Kn.checkInitialUrlTargetingRules()}emitTargetingCollectState(){let t=this.Tt.getInitialCollectState();t===Z.ANALYTICS_ONLY?this.S.emitCollectStateChange(Z.ANALYTICS_ONLY_RULES_TARGETING,Se.ETR_OFF):t===Z.RECORDING_GLOBAL_SAMPLING&&this.S.emitCollectStateChange(Z.RECORDING_RULES_TARGETING,Se.ETR_OFF)}}return s})(),sl=["networkRequest:maskUrls"],zd=["networkRequest:maskUrls:reset"],Gd=":";function bh(s){let r=[],t=Pv(s),e=csString.prototype.split.call(t,"/");for(let i of e)se(i,Gd)?csArray.prototype.push.call(r,{key:i,value:`CS_ANONYMIZED_${csString.prototype.toUpperCase.call(csString.prototype.slice.call(i,1))}`}):csArray.prototype.push.call(r,{key:i,value:null});return r}function Pv(s){let r=s;return se(s,"/")&&(r=csString.prototype.substring.call(r,1)),rr(s,"/")&&(r=csString.prototype.slice.call(r,0,-1)),r}var qd=(()=>{class s{constructor(){this.jg=new Set,this.Hg=[],this.Yh=new Set,this.Xh=[]}addUrlMaskingPattern(t){if(this.jg.has(t))return;this.jg.add(t);let e=bh(t);csArray.prototype.push.call(this.Hg,e)}getUrlMaskingPatterns(){return this.Hg}resetPartialUrlMaskingPatterns(){this.Yh.clear(),this.Xh=[]}addPartialUrlMaskingPattern(t){if(this.Yh.has(t))return;this.Yh.add(t);let e=bh(t);csArray.prototype.push.call(this.Xh,e)}getPartialUrlMaskingPatterns(){return this.Xh}}return s})(),Ov=(()=>{class s{constructor(t,e,i){this.f=t,this.I=e,this.R=i,this.Je=K.now()}resetStartTime(){this.Je=K.now()}getSessionData(){let{projectId:t}=this.f,e=this.I.getVisitor();e==null&&q.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{id:i,visitsCount:n}=e!=null?e:{},o=this.R.getSession();o===null&&q.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{pageNumber:c}=o!=null?o:{};return{projectId:t,userId:i,sessionNumber:n,pageNumber:c,relativeTimestamp:K.now()-this.Je}}}return s})(),Wd=["clearSession"],Yd=["extendSession"],Nv=["getSessionData"],Xd=["session:start:newVisitor"],Mv=["session:clear:visitor"],kv=(()=>{class s{constructor(t,e,i,n){this.f=t,this.I=e,this.R=i,this.E=n}init(){this.Kh=new Ov(this.f,this.I,this.R),this.E.register(Wd,()=>this.R.removeSession()),this.E.register(Yd,()=>this.R.extendSessionPeriodically(),{disableApplyPending:!0}),this.E.register(Nv,()=>this.Kh.getSessionData(),{disableApplyPending:!0}),this.E.register(Xd,()=>this.I.renewVisitor()),this.E.register(Mv,()=>{this.I.resetVisitor()},{disableApplyImmediate:!0})}onBeforeNaturalPageView(){this.I.createOrUpdateVisitor(),this.R.createOrUpdateSession()}onBeforeArtificialPageView(){this.I.createOrUpdateVisitor(),this.R.createOrUpdateSession()}onAfterNaturalPageView(){this.Kh.resetStartTime()}onAfterArtificialPageView(){this.Kh.resetStartTime()}onOptout(){this.I.removeVisitor(),this.R.removeSession()}onCollectStateChange(t){this.R.updateCollectState(t)}}return s})(),Dv=(()=>{class s{constructor(t,e,i,n,o,c,u,d,E,f,_,w,A,V,U,P,C,j,F,M,tt,ct,gt,Xt,$t,O,z,X,it,It,Kt,ne,Qe,Ds){this.yt=t,this.Ba=e,this.de=i,this.I=n,this.R=o,this.G=c,this.xi=u,this.S=d,this.E=E,this.Jh=f,this.f=_,this.Qh=w,this.ti=A,this.Jn=V,this._t=U,this.M=P,this.Q=C,this.tt=j,this.w=F,this.CA=M,this.X=tt,this.pt=ct,this.vt=gt,this.Bg=Xt,this.ee=$t,this.IA=O,this.O=z,this.ue=X,this.N=it,this.wt=It,this.Tt=Kt,this.nt=ne,this.qe=Qe,this.ps=Ds,this.PA=(le=!1)=>{let Vt=this.R.getSession();Vt===null?(this.Tr=new Iv(this.f.recordTargetingRules,this.Fg,this.S,this.Tt,this.X,this.w),this.Tr.init(),this.Tr.start()):(Vt.collectState===Z.RECORDING_RULES_TARGETING||Vt.collectState===Z.ANALYTICS_ONLY_RULES_TARGETING)&&this.Fg(le)},this.Fg=(le=!1)=>{this.Ar.onLoad(()=>{var Vt,Oe;(Vt=this.Tr)===null||Vt===void 0||Vt.emitTargetingCollectState(),(Oe=this.Tr)===null||Oe===void 0||Oe.stop(),this.S.emitStartTracking(le)}),this.Fa(le)},this.Fa=(le=!1)=>{this.ti.isActive()||(this.nt.init(),this.Zh.start(le),this.Ar.start())},this.OA=()=>{this.S.emitBeforeSessionRenewal(),this.Rr(!0),this.S.emitAfterSessionRenewal()},this.NA=()=>{this.S.emitBeforeSessionRenewal(),this.Tt.refreshQuota(le=>{le!==Z.QUOTA_REACHED&&(this.Rr(!0),this.S.emitAfterSessionRenewal())})}}start(){if(this.Qh.init(),this.ti.init(),this.ti.isActive())return;let t,e,i,n,o,c,u,d,E,f,_,w,A,V,U,P,C,j,F;this.O.schedule(()=>{U=new Av(this.G),w=new Ou(this.Q),A=new Vc(()=>{}),P=new Uc,F=new vu;let M=new el(A,this.nt,P,j,F,this.$a());V=new Tv(this.$a(),this.nt,M,P,C);let tt=new bv(this.S,this.E,this.nt,M,P,C,j);tt.init(),this.S.addListener(tt),t=new fE(this.f,this.Ba,this.I,this.Q,w,this.E,this.G,new Tu(q),this.pt,this.ue,this.X,V,this.bl),e=new PE(this.E,this.R,this.f,this.yt,this.de,this.M),_=new yv(V,this.f);let ct=null;ct=new Iu(this.f),f=new ty(this.f,ct,_,V,this.pt),f.init();let gt=new pd;i=new GE(this.I,this.R,this.E,this.pt,ct,this.f,gt,_),n=new kE(this.f,this.Ba,this.I,this.E,this.M,this.G,this.w);let Xt;this.Zh=new rS(this.f,this.E,this.S,this.Ba,this.I,this.R,this.xi,this._t,this.vt,this.w,this.ee,gt,this.X,this.qe,Xt),this.$g=new kv(this.f,this.I,this.R,this.E),u=new XE(this.f,this.E,this.de,this.Ba,this.X),d=new qE(this.E),E=new iy,this.Ar=new Fc}),this.O.schedule(()=>{this.Jn.init()}),this.O.schedule(()=>{i.init()}),this.O.schedule(()=>{e.init()}),this.O.schedule(()=>{n.init()}),this.O.schedule(()=>{this.Bg.init()}),this.O.schedule(()=>{this.Zh.init()}),this.O.schedule(()=>{this.$g.init()}),this.O.schedule(()=>{u.init()}),this.O.schedule(()=>{this.CA.init()}),this.O.schedule(()=>{d.init()}),this.O.schedule(()=>{E.init()}),this.O.schedule(()=>{this.IA.init()}),this.O.schedule(()=>{this.S.addListener(this.$g),this.S.addListener(this.Jh),this.S.addListener(t),this.S.addListener(this.Jn),this.S.addListener(i),this.S.addListener(n),this.S.addListener(this.Bg),this.S.addListener(this.Zh),this.S.addListener(u),this.S.addListener(e),this.S.addListener(f),this.S.addListener(E),this.S.addListener(U)}),sr.isRecordingSupported()&&this.O.schedule(()=>{let M=new mv(_,this.R,this.f,this.yt,this.E,this.M,this.G,A,this.$e,this.Et,this.Me,this.bt,this.S,this.X,this.pt,this.ee,this.ue,this.tt,this.Un,this.$a(),this.ar,C);M.init(),this.S.addListener(M),i.setRecordingService(M.recordingService)}),this.O.schedule(()=>{var M;let tt,ct;if(ct=new Hu(this.X),tt=new ju(this.E,ct,this.f,this.N,this.wt,this.I,this.M,this.$a(),this.nt),tt.init(),(!((M=this.f.voc)===null||M===void 0)&&M.enabled||this.f.isSMB)&&!this.f.vocData){let gt=new Vy(this.f,this.E,this.w,tt,ct);gt.init(),this.S.addListener(gt)}}),this.O.schedule(()=>{t.init()}),this.O.schedule(()=>{this.f.isQuotaEnabled()?this.G.onSessionExpired(()=>{this.NA()}):this.G.onSessionExpired(()=>{this.OA()}),this.Rr()})}Rr(t=!1){var e,i,n;if(this.f.hasTargetingRules()){this.PA(t),this.E.start(),(e=this.bl)===null||e===void 0||e.start(),this.Tr&&this.Tr.checkInitialUrlTargetingRules();return}this.E.start(),(i=this.bl)===null||i===void 0||i.start(),this.Ar.onLoad(()=>{this.S.emitStartTracking(t)}),(!Pu(this.f)||t)&&this.Fa(t)}$a(){if(this.it)return this.it;let t=new Wr;return this.it=new ao(this.f,this.w,t,this._t),this.it.init(),this.it.shouldUseAnonymization()&&at.counters.pageAnonymisation.count("anonymized-on-start"),this.it}}return s})(),xv=(()=>{class s{constructor(t,e,i,n,o,c,u,d){this.f=t,this.I=e,this.Ye=i,this.zg=n,this.MA=o,this.kA=c,this.DA=u,this.tu=d}compute(t){var e,i;this.f.crossDomainTracking&&!this.f.cookielessTrackingEnabled?this.f.crossDomainSingleIframeTracking?(e=this.DA)===null||e===void 0||e.start(()=>this.eu(t)):(i=this.kA)===null||i===void 0||i.applyUpToDate(()=>this.eu(t)):this.eu(t)}eu(t){this.MA.handle(),this.zg.clear(),this.xA()?(this.zg.restoreClearedVisitor(),t(!0)):(this.Ye.exclude(this.f),t(!1))}xA(){let t=os.boolean(this.f.sampleRate);return this.tu.isForceIncluded()||!this.Ye.isExcluded()&&this.I.doesVisitorExist()||!this.Ye.isExcluded()&&t}}return s})(),Th=(()=>{class s{constructor(t,e,i,n){this.f=t,this.ut=e,this.S=i,this.R=n,this.LA=10*1e3}createOrUpdateVisitor(){var t;let e=this.getVisitor();e===null&&(e=this.VA(),(t=this.R)===null||t===void 0||t.removeSession()),this.UA(e),this.setVisitor(e)}VA(){return{id:Hc.generate(),visitsCount:0,appliedTrackingDraw:this.f.lastTrackingDraw,creationTimestamp:gl(),lastVisitTimestamp:0,hitTimestamp:0,expires:K.now()+this.f.visitorCookieTimeout,allowSubdomains:this.f.allowSubdomains,identityPrint:null}}UA(t){let e=gl();this.R&&!this.R.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=e),t.hitTimestamp=e,t.appliedTrackingDraw=this.f.lastTrackingDraw,this.Gg=t.visitsCount}getRequestParameters(){let t=this.getVisitor();return t?{uu:t.id,sn:`${t.visitsCount}`,hd:`${t.hitTimestamp}`}:{}}getVisitor(){return this.ut.get()}setVisitor(t){this.ut.set(t)}doesVisitorExist(){return this.ut.get()!==null}resetVisitor(){this.qg(),this.S.emitAfterVisitorCleared()}removeVisitor(){this.ut.remove()}hasAllowSubdomainsChanged(){let t=this.getVisitor();return t?t.allowSubdomains!==this.f.allowSubdomains:!1}handleSubdomainChange(){this.ut.handleSubdomainChange()}isSessionRenewed(){let t=this.getVisitor();return t===null||this.Gg===void 0?!1:t.visitsCount!==this.Gg}jA(){return!mt(this.Wg)||K.now()-this.Wg>this.LA}renewVisitor(){this.jA()?(this.Wg=K.now(),this.qg(),this.S.emitAfterVisitorRenewal()):q.warn("session:start:newVisitor is trying to renew visitor under time limit")}qg(){this.S.emitBeforeVisitorRenewal(),this.removeVisitor()}}return s})(),Ge="_cs_s",lc=18e5,Ra=".",Lv=13,Mn=(()=>{let s;return function(r){r[r.NOT_FOUND=0]="NOT_FOUND",r[r.EXPIRED=1]="EXPIRED",r[r.FOUND=2]="FOUND"}(s||(s={})),s})(),Vv=(()=>{class s{constructor(t,e,i){this.f=t,this.N=e,this.K=i,this.se=null,this.su=!1}get(t){let e=this.getRawSession(t);return this.isValid(e)?yu(e):null}getRawSession(t){if(t){let E=this.iu();return Ga(E)}let{sessionString:e,status:i}=this.HA(),n=Ga(e);if(i!==Mn.EXPIRED)return n;if(this.f.cookielessTrackingEnabled)return null;let o=this.iu();if(!o)return null;let c=csString.prototype.split.call(o,Ra);if(!s.Yg(c))return o;let u=c[c.length-1],d=parseInt(u,10);return isNaN(d)||this.BA(d),n}onCookieToSet(t){this.fi=t}onCookieToRemove(t){this.gi=t}set(t,e=lc){var i;let n=K.now()+e,o=gm(t);o+=`${Ra}${n}`,this.FA(o,n),this.f.cookielessTrackingEnabled?this.K.setItem(Ge,o):(this.N.set(Ge,o,e),(i=this.fi)===null||i===void 0||i.call(this,Ge,o,e))}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(Ge):(this.N.delete(Ge),(t=this.gi)===null||t===void 0||t.call(this,Ge)),this.$A()}handleSubdomainChange(){if(this.f.cookielessTrackingEnabled)return;let t=this.get(!0);t&&(this.f.allowSubdomains?this.N.delete(Ge,io.CURRENT_DOMAIN):this.N.delete(Ge,this.N.getRootDomain()),this.set(t))}isValid(t){return t!==null&&Lc(t)}FA(t,e){this.se={sessionString:t,expires:e}}HA(){return this.se?this.se&&K.now()<=this.se.expires?{sessionString:this.se.sessionString,status:Mn.FOUND}:{sessionString:this.se.sessionString,status:Mn.EXPIRED}:{sessionString:this.iu(),status:Mn.NOT_FOUND}}$A(){this.se=null}BA(t){this.se&&(this.se.expires=t,this.su=!0)}isCacheRefreshed(){return this.su}resetCacheRefreshed(){this.su=!1}iu(){if(this.f.cookielessTrackingEnabled){let e=this.K.getItem(Ge);return!e||this.Xg(e)?null:e}let t=this.N.get(Ge);return!t||this.Xg(t)?null:t}Xg(t){let e=csString.prototype.split.call(t,Ra);if(!s.Yg(e))return!1;let i=parseInt(e[e.length-1],10);return!isNaN(i)&&K.now()>i}static Yg(t){return t[t.length-1].length===Lv}}return s})(),il=60*1e3,Uv=60*il,jv=4*Uv-il,Gi=(()=>{let s;return function(r){r[r.NO=0]="NO",r[r.WITHDRAWN=1]="WITHDRAWN",r[r.GRANTED=2]="GRANTED"}(s||(s={})),s})(),Hv=(()=>{class s{constructor(t,e,i,n,o){this.Ne=t,this.Tt=e,this.S=i,this.zA=n,this.GA=o,this.Qn=null,this.ru=0,this.Zn=Gi.NO}setDynamicVariablesService(t){this.qA=t}createOrUpdateSession(){this.nu(),this.WA=K.now(),this.ru=0;let t=this.Kg();t===null?(t=this.YA(),this.za(t),this.S.emitSessionCreated()):(t=this.Tt.sanitizeSessionCollectState(t),this.KA(t),t.collectState=this.Tt.getEligibleCollectState(t)),this.setSession(t)}grantReplayRecording(t){t.collectState=this.Tt.getInitialCollectState(),t.collectState=this.Tt.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)}grantReplayRecordingBeforeSessionStart(){this.Zn=Gi.GRANTED}withdrawnReplayRecording(t){t.collectState=this.Tt.getRecordingConsentWithdrawn(),this.setSession(t)}withdrawnReplayRecordingBeforeSessionStart(){this.Zn=Gi.WITHDRAWN}za(t){this.Zn===Gi.WITHDRAWN?(t.collectState=this.Tt.getRecordingConsentWithdrawn(),this.setSession(t)):this.Zn===Gi.GRANTED?t.collectState=this.Tt.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.Tt.computeInitialCollectState(t),this.Zn=Gi.NO}YA(){return{pageNumber:1,collectState:this.Tt.getInitialCollectState(),replayConsent:this.zA?za.NOT_EXPRESSED:za.UNNECESSARY,etrStatus:Ve.ETR_NOT_SAVED_SESSION}}KA(t){t.pageNumber+=1}isReplayRecorded(){let t=this.getSession();return!!t&&this.Tt.isReplayRecorded(t)}isTemporarilyRecorded(){let t=this.getSession();return(t==null?void 0:t.collectState)===Z.RECORDING_TEMPORARILY}getRequestParameters(){let t={},e=this.getSession();return e!==null&&(t.pn=`${e.pageNumber}`),t}getSession(){return this.Ne.get()}Kg(){return this.Ne.get(!0)}doesSessionExist(){return this.Ne.get()!==null}setSession(t){this.Ne.set(t),this.S.emitSessionRefreshed()}refreshSession(){let t=this.Kg();t&&this.setSession(t)}removeSession(){this.Ne.remove(),this.S.emitSessionRemoved()}getCollectStates(){let t=this.getSession(),e=[];return t&&(t.collectState!==Z.ANALYTICS_ONLY&&csArray.prototype.push.call(e,t.collectState===Z.RECORDING_RULES_TARGETING?Z.RECORDING_GLOBAL_SAMPLING:t.collectState),this.GA&&csArray.prototype.push.call(e,Z.RECORDING_ETR_SAMPLING)),e}updateCollectState(t){let e=this.getSession();e!==null&&(e.collectState=t,this.setSession(e))}hasValidSession(){let t=this.Ne.getRawSession();return this.Ne.isValid(t)}handleSubdomainChange(){this.Ne.handleSubdomainChange()}pollCacheRefreshEvent(t=!0){let e=this.Ne.isCacheRefreshed();return e&&t&&this.Ne.resetCacheRefreshed(),e}extendSessionPeriodically(){this.Qn||this.Jg()}extendSession(){let t=this.getSession();return t===null?(q.warn("extendSession is trying to extend an expired session"),this.nu(),!1):(this.setSession(t),!0)}Jg(){if(this.JA()){this.nu();return}this.extendSession()&&(this.QA(),this.ZA())}ZA(){this.Qn=window.csSetTimeout(()=>{this.Jg()},lc-il)}JA(){return jv-(K.now()+lc-this.WA)<0}nu(){this.Qn&&(window.csClearTimeout(this.Qn),this.Qn=null)}QA(){this.ru+=1,this.qA.trackDynamicVariable("session_expiry_update",this.ru)}}return s})(),Bv=(()=>{class s{constructor(t,e,i){this.f=t,this.I=e,this.Ye=i}clear(){this.tR()&&(this.Qg=this.I.getVisitor(),this.I.removeVisitor()),this.eR()&&this.Ye.removeExclusion()}tR(){return this.I.doesVisitorExist()&&this.I.getVisitor().appliedTrackingDraw!==this.f.lastTrackingDraw}eR(){return this.Ye.getAppliedTrackingDraw()!==this.f.lastTrackingDraw}restoreClearedVisitor(){this.Qg&&this.I.setVisitor(this.Qg)}}return s})(),Fv=(()=>{class s{constructor(t,e,i){this.I=t,this.R=e,this.sR=i}handle(){this.I.hasAllowSubdomainsChanged()&&(this.I.handleSubdomainChange(),this.R.handleSubdomainChange(),this.sR.handleSubdomainChange())}}return s})(),Ws="_cs_c",Ei=(()=>{let s;return function(r){r[r.NOT_REQUIRED=0]="NOT_REQUIRED",r[r.NOT_EXPRESSED=1]="NOT_EXPRESSED",r[r.GRANTED=2]="GRANTED",r[r.WITHDRAWN=3]="WITHDRAWN"}(s||(s={})),s})(),$v=(()=>{class s{constructor(t,e,i){this.f=t,this.N=e,this.wt=i}get(){let t;return this.f.cookielessTrackingEnabled?t=this.wt.getItem(Ws):t=this.N.get(Ws),t===null?t:Number(t)}set(t){this.f.cookielessTrackingEnabled?this.wt.setItem(Ws,csString(t)):this.N.set(Ws,csString(t),Sc)}remove(){this.f.cookielessTrackingEnabled?this.wt.removeItem(Ws):this.N.delete(Ws)}handleSubdomainChange(){this.f.cookielessTrackingEnabled||(this.f.allowSubdomains?this.N.delete(Ws,io.CURRENT_DOMAIN):this.N.delete(Ws,this.N.getRootDomain()))}}return s})(),zv=(()=>{class s{constructor(t,e,i){this.f=t,this.R=e,this.S=i}grantReplayConsent(){if(!Js.isReplayConsentNeeded(this.f))return;let t=this.R.getSession();if(!t){this.R.grantReplayRecordingBeforeSessionStart();return}Js.isRecordingBlockedByConsent(t)&&(this.R.grantReplayRecording(t),this.S.emitAfterReplayRecordingConsentGranted())}withdrawReplayConsent(){if(!Js.isReplayConsentNeeded(this.f))return;let t=this.R.getSession();if(!t){this.R.withdrawnReplayRecordingBeforeSessionStart();return}Js.isRecordingWithDrawn(t)||(this.R.withdrawnReplayRecording(t),this.S.emitAfterReplayRecordingConsentWithdrawn())}}return s})(),Kd=["replay:consent:unanonymized:granted","trackConsentGranted"],Jd=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],Qd=["replay:consent:startForSession:granted"],Zd=["replay:consent:startForSession:withdrawn"],Gv=(()=>{class s{constructor(t,e,i,n,o){this.f=t,this.E=e,this._t=i,this.R=n,this.S=o}init(){this.Zg=new zv(this.f,this.R,this.S),this._t.setInitialConsent(),this.ht()}ht(){this.E.register(Kd,()=>{this._t.grantReplayAnonymizationConsent()}),this.E.register(Jd,()=>{this._t.withdrawReplayAnonymizationConsent()}),this.E.register(Qd,()=>{this.Zg.grantReplayConsent()}),this.E.register(Zd,()=>{this.Zg.withdrawReplayConsent()})}onOptout(){this._t.removeAllConsents()}onBeforeVisitorRenewal(){this._t.removeAllConsents()}onAfterVisitorRenewal(){this._t.setInitialConsent()}onAfterVisitorCleared(){this._t.setInitialConsent()}}return s})(),qv=(()=>{class s{constructor(t,e,i){this.f=t,this.ut=e,this.S=i}setInitialConsent(){let t=this.ut.get();(t===null||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()}hasConsentRequiredChanged(t){let e=this.f.consentRequired;return e&&t===Ei.NOT_REQUIRED||!e&&t!==Ei.NOT_REQUIRED}handleSubdomainChange(){this.ut.handleSubdomainChange()}setDefaultReplayAnonymization(){let t=this.f.consentRequired?Ei.NOT_EXPRESSED:Ei.NOT_REQUIRED;this.ut.set(t)}grantReplayAnonymizationConsent(){this.f.consentRequired&&(this.ut.set(Ei.GRANTED),this.S.emitReplayUnanonymizationConsentGranted())}withdrawReplayAnonymizationConsent(){this.f.consentRequired&&(this.ut.set(Ei.WITHDRAWN),this.S.emitReplayUnanonymizationConsentWithdrawn())}removeAllConsents(){this.ut.remove()}isReplayUnanonymizedAllowedByConsent(){return!this.f.consentRequired||this.ut.get()===Ei.GRANTED}getRequestParameters(){return{uc:`${this.ut.get()}`}}}return s})(),Wv=(()=>{class s{constructor(t,e,i,n,o,c,u){this.S=t,this.E=e,this.Jh=i,this.Qh=n,this.ti=o,this.iR=c,this.Jn=u}start(){this.S.addListener(this.iR),this.S.addListener(this.Jn),this.S.addListener(this.Jh),this.Jn.init(),this.Qh.init(),this.ti.init(),!this.ti.isActive()&&this.E.start()}}return s})(),Yv=(()=>{class s{constructor(t,e){this.Ot=t,this.ut=e}exclude(t){this.ut.set(csString(t.lastTrackingDraw))}removeExclusion(){this.ut.remove()}isExcluded(){return this.rR()||this.nR()}rR(){return this.getAppliedTrackingDraw()!==0}getAppliedTrackingDraw(){return this.ut.get()}nR(){return csString.prototype.indexOf.call(this.Ot.href,As)>0}}return s})(),Xv=(()=>{class s{constructor(t){this.Mi=t}onOptout(){this.Mi.removeExclusion()}}return s})(),Ca=(()=>{let s;return function(r){r.SessionReplay="SR",r.None=""}(s||(s={})),s})(),Kv=".^",tp=".*",ep=(()=>{class s{constructor(t){this.w=t,this.ou=new csRegExp(`${Kv}`)}setExcludeUrlForSessionReplay(t){try{this.ou=new csRegExp(t)}catch{q.warn(`excludeURLforReplay - invalid regex '${t}'`),this.ou=new csRegExp(`${tp}`)}}tm(){return this.ou.test(this.w.getAnonymizedUrl())?Ca.SessionReplay:Ca.None}isUrlExcludedForSessionReplay(){return this.tm()===Ca.SessionReplay}getRequestParameters(){return{ex:this.tm()}}}return s})(),sp=["excludeURLforReplay"],ip=(()=>{class s{constructor(t,e){this.Mi=t,this.E=e}init(){this.E.register(sp,t=>{if(L(t))this.Mi.setExcludeUrlForSessionReplay(t);else throw new Error("Command misuse: excludeURLforReplay")})}}return s})(),Ia="_cs_inc",Jv=(()=>{class s{constructor(t,e){this.Ot=t,this.N=e}isForceIncluded(){return this.oR()||this.aR()}isForceReplayRecorded(){return this.cR(Z.RECORDING_GLOBAL_SAMPLING)}oR(){return this.N.get(Ia)!==null}cR(t){return this.N.get(Ia)===t}aR(){return csString.prototype.indexOf.call(this.Ot.href,Ia)>0}}return s})(),Or="_cs_optout",Qv=(()=>{class s{constructor(t,e,i){this.f=t,this.N=e,this.wt=i}get(){return this.f.cookielessTrackingEnabled?this.wt.getItem(Or):this.N.get(Or)}set(t){this.f.cookielessTrackingEnabled?this.wt.setItem(Or,t):this.N.set(Or,t,Sc)}}return s})(),Ah="1",Zv=(()=>{class s{constructor(t,e,i){this.S=t,this.Ot=e,this.ut=i}init(){!this.isActive()&&this.lR()&&this.activate()}isActive(){return this.ut.get()===Ah}activate(){this.S.emitOptout(),this.ut.set(Ah)}lR(){return csString.prototype.indexOf.call(this.Ot.href,Or)>0}}return s})(),rl=["optout"],rp=["optin"],t_=(()=>{class s{constructor(t,e){this.E=t,this.ti=e}init(){this.E.register(rl,()=>{this.ti.activate()})}}return s})(),e_=(()=>{class s{constructor(t,e){this.E=t,this.pt=e}init(){this.pt.addListener(this.E)}onOptout(){this.E.stop()}onBeforeSessionRenewal(){this.E.stop()}}return s})(),hc=(()=>{let s;return function(r){r.UXA="_uxa",r.WVT="cs_wvt"}(s||(s={})),s})(),np=(()=>{class s extends re{constructor(t){super(),this.au=t,this.ns={}}register(t,e,i){for(let n of t){let o=(...c)=>{try{let u=e(...c);return at.counters.commandApplied.count(n),u}catch(u){at.counters.commandMisuse.count(n),q.warn(`Misused Command: ${n}; Args: ${csJSON.stringify(c)}; Error: ${ei(u)?u.stack:u}`)}};this.ns[n]={callback:o,configuration:i},this.ns}}onStart(){this.uR(),this.dR()}onStop(){for(let t of this.au)window[t]=[]}applyFromIntegration(t,e,i){this.em(t,e,`Commands.apply.from.integration: ${i}`),at.counters.commandsFromIntegrations.count(t)}applyFromImplementation(t,e,i){this.em(t,e,`Commands.apply.from.implementation: ${i}`),at.counters.commandsFromCSTC.count(t)}onIframeCommands(t){for(let e of t.commands)this.pR(e.name,e.params,t.iframePath),at.counters.commandsFromIframe.count(e.name)}em(t,e,i){if(!this.isStarted){window._uxa.push([t,...e]);return}q.tryToExecute(i,()=>{if(this.ns[t])return this.ns[t].callback(...e)})()}pR(t,e,i){q.tryToExecute(`Commands.apply.from.iframe: ${i}`,()=>{if(this.ns[t])return this.ns[t].callback(...e)})()}uR(){for(let t of this.au)window[t].forEach(([e,...i])=>this.sm(e,i,!1))}dR(){for(let t of this.au)window[t]={push:([e,...i])=>this.sm(e,i,!0)}}sm(t,e,i){var n,o;if(this.ns[t]){if(((n=this.ns[t].configuration)===null||n===void 0?void 0:n.disableApplyPending)&&!i||((o=this.ns[t].configuration)===null||o===void 0?void 0:o.disableApplyImmediate)&&i)return;try{return this.ns[t].callback(...e)}catch(u){at.counters.commandError.count(t),q.error(`Command ${t} failed - params: ${csJSON.stringify(e)}`,u)}}}}return s})(),Rh=(()=>{class s{constructor(t,e,i,n,o){this.f=t,this.I=e,this.R=i,this.dm=n,this.ii=o}getRequestParameters(){var t;let e={...Mc(),...this.f.getRequestParameters()},i=this.R.getSession();i&&(e.pn=`${i.pageNumber}`);let n=this.I.getVisitor();if(n&&(e.sn=`${n.visitsCount}`,e.uu=`${n.id}`),!((t=this.dm)===null||t===void 0)&&t.hasSubProjectId()&&(e.subProjectID=`${this.dm.getSubProjectId()}`),this.SR(e),window.heap&&!this.f.isCsCrosswritingHeap())try{e.happid=window.heap.appid,window.heap.getSessionId&&(e.hsid=window.heap.getSessionId()),window.heap.getUserId?e.huu=window.heap.getUserId():window.heap.userId&&(e.huu=window.heap.userId),window.heap.getPageviewMetadata&&(e.hpvid=window.heap.getPageviewMetadata().pageviewId)}catch{delete e.happid,delete e.hsid,delete e.huu,delete e.hpvid}return e}SR(t){if(!this.ii)return;let e=this.ii.getSharedContext();e&&(t.happid=e.happid,t.t=e.pageTitle,t.fvt=csString(e.firstViewTime),t.fvurl=e.firstViewUrl,e.previousViewUrl&&(t.pvurl=e.previousViewUrl),t.url=e.currentViewUrl,e.sessionReferrer&&(t.fpvurl=e.sessionReferrer),t.sw=csString(e.screenWidth),t.sh=csString(e.screenHeight),t.cvt=csString(e.currentViewTime),e.encryptedIdentity&&(t.i=e.encryptedIdentity),e.cvarp&&(t.cvarp=e.cvarp))}}return s})(),s_=(()=>{class s{constructor(t,e){this.E=t,this.cs=e}init(){this.E.register(["debugEvents"],t=>{typeof t=="boolean"&&this.cs.updateDynamicFields("emitDebugEvents",t)})}}return s})();function Ch(s,r,t){if(!mt(r)&&!mt(t))return s.href;let e=mt(r)?op(r):s.pathname,i=mt(t)?ap(t):s.search;return`${s.protocol}//${s.host}${e}${i}`}function op(s){return se(s,"/")?s:`/${s}`}function ap(s){return se(s,"?")||s===""?s:`?${s}`}var Pa=(()=>{let s;return function(r){r[r.page=1]="page",r[r.onNextPageviewOnly=2]="onNextPageviewOnly"}(s||(s={})),s})(),cp=(()=>{class s{constructor(t,e){this.Ot=t,this.tt=e,this.vR=10}overridePath(t,e){if(t===""){this.Cr=void 0;return}let i=this.pm(e);i&&(this.du=i),this.Cr=e?this.fm(t,e):t}overrideQuery(t,e){let i=this.pm(e);i&&(this.pu=i),this.eo=e?this.fm(t,e):t}computeOverriddenUrl(t){return this._R(t)?this.getAnonymizedUrl():t}wR(t){return(typeof t=="string"||typeof t=="number")&&t in Pa}_R(t){let e=this.Ro(this.Ot.href);return this.Ro(t)===e}Ro(t){return bg(t,"/")?csString.prototype.slice.call(t,0,-1):t}pm(t){return mt(t==null?void 0:t.lifespan)&&this.wR(t==null?void 0:t.lifespan)?t==null?void 0:t.lifespan:null}bR(){return this.du&&this.du in Pa}TR(){return this.pu&&this.pu in Pa}cleanupOverrideLifespan(){this.bR()&&(this.Cr=void 0,this.du=void 0),this.TR()&&(this.eo=void 0,this.pu=void 0)}getAnonymizedUrl(){let t=Ch(this.Ot,this.Cr,this.eo);return this.tt.anonymizeUrl(t)}getUrl(){return Ch(this.Ot,this.Cr,this.eo)}getAnonymizedPathAndQuery(){let t=mt(this.Cr)?op(this.Cr):this.Ot.pathname,e=mt(this.eo)?ap(this.eo):this.Ot.search;return this.tt.anonymizeUrl(t+e)}getUrlProtocol(){return this.Ot.protocol}getRequestParameters(){return{url:this.getAnonymizedUrl()}}fm(t,e){return this.AR(e)?this.RR(t):this.CR(e)?this.IR(t):t}CR(t){return!!t.decodeURI}IR(t){return this.gm(t,1,!1)}AR(t){return!!t.decodeURIDeep}RR(t){return this.gm(t,this.vR,!0)}gm(t,e,i){let n=t;for(let o=0;o<e;o++)try{let c=window.decodeURI(n);if(c===n)return n;n=c}catch{return n}return i&&q.warn(`decodeURIDeep limit reached: ${n}`),n}}return s})(),go=(()=>{class s{constructor(){this.listeners=[]}addListener(t){csArray.prototype.push.call(this.listeners,t)}}return s})(),i_=(()=>{class s extends go{emitPageEvent(t){for(let e of this.listeners)e.onPageEvent&&e.onPageEvent(t)}emitEventTriggerRecording(t,e){for(let i of this.listeners)i.onEventTriggerRecording&&i.onEventTriggerRecording(t,e)}emitCustomJavaScriptErrorEvent(t){for(let e of this.listeners)e.onCustomJavaScriptErrorEvent&&e.onCustomJavaScriptErrorEvent(t)}emitCustomErrorEvent(t){for(let e of this.listeners)e.onCustomErrorEvent&&e.onCustomErrorEvent(t)}emitUserIdentifierEvent(t){for(let e of this.listeners)e.onUserIdentifierEvent&&e.onUserIdentifierEvent(t)}emitExternalEvent(t){for(let e of this.listeners)e.onExternalEvent&&e.onExternalEvent({type:nt.EXTERNAL_EVENT,name:t,ts:0})}emitTargetingRulesArtificialPageview(t){for(let e of this.listeners)e.onTargetingRulesArtificialPageview&&e.onTargetingRulesArtificialPageview(t)}}return s})(),Vr="|iframe|",lp=(()=>{class s extends go{constructor(t,e,i,n){super(),this.PR=t,this.NR=e,this.MR=i,this.kR=n}emitIframeEvent(t,e,i){if(this.DR(e)&&t===null){q.error(`iframeEventEmitter received event ${e} with null iframe, content:${csJSON.stringify(i)}`);return}switch(e){case $.ChildLogMessage:this.xR(i);break;case $.AnalysisEvent:{let n=i,o=this.PR.transformEvent(t,n);o.isUserEvent?this.LR(o.event):this.VR(o.event);break}case $.RecordingEvent:{let n=i,o=this.kR.transformEvents(t,n);if(o.events.length===0)return;o.containsUserEvent?this.UR(o.events):this.jR(o.events);break}case $.JavascriptError:this.HR(i);break;case $.ApiError:this.BR(i);break;case $.DetailedApiError:this.FR(i);break;case $.CustomError:this.$R(i);break;case $.EmerchandisingMessage:{let n=this.MR.transformEvent(t,i);this.zR(n);break}case $.Commands:{let n=this.NR.transformEvent(t,i);this.GR(n);break}case $.IntegrationCallback:this.qR(i);break;case $.StaticResource:this.WR(i);break;case $.TrackingContextRequestMessage:this.YR(i);break;default:q.error(`Parent received unknown data type from iframe : ${csJSON.stringify(i)}`)}}DR(t){let e=[$.AnalysisEvent,$.RecordingEvent,$.EmerchandisingMessage,$.Commands];return csArray.prototype.indexOf.call(e,t)!==-1}xR(t){let{message:e,errorCode:i,level:n}=t;switch(n){case yt.debug:q.debug(e,i);break;case yt.warn:q.warn(e,!0,i);break;case yt.implementation:q.implementation(e,i);break;case yt.error:q.error(e,i);break;case yt.critical:q.critical(e,i);break}}LR(t){for(let e of this.listeners)e.onIframeAnalysisUserEvent&&e.onIframeAnalysisUserEvent(t)}VR(t){for(let e of this.listeners)e.onIframeAnalysisBrowserEvent&&e.onIframeAnalysisBrowserEvent(t)}UR(t){for(let e of this.listeners)e.onIframeRecordingUserEvent&&e.onIframeRecordingUserEvent(t)}jR(t){for(let e of this.listeners)e.onIframeRecordingBrowserEvent&&e.onIframeRecordingBrowserEvent(t)}HR(t){for(let e of this.listeners)e.onIframeJavascriptError&&e.onIframeJavascriptError(t)}BR(t){for(let e of this.listeners)e.onIframeApiError&&e.onIframeApiError(t)}FR(t){for(let e of this.listeners)e.onIframeDetailedApiError&&e.onIframeDetailedApiError(t)}zR(t){for(let e of this.listeners)e.onIframeEmerchandisingMessage&&e.onIframeEmerchandisingMessage(t)}GR(t){for(let e of this.listeners)e.onIframeCommands&&e.onIframeCommands(t)}qR(t){for(let e of this.listeners)e.onIframeIntegrationCallback&&e.onIframeIntegrationCallback(t)}WR(t){for(let e of this.listeners)e.onIframeStaticResource&&e.onIframeStaticResource(t)}YR(t){for(let e of this.listeners)e.onTrackingContextRequestCallback&&e.onTrackingContextRequestCallback(t)}$R(t){for(let e of this.listeners)e.onIframeCustomError&&e.onIframeCustomError(t)}}return s})(),r_=(()=>{class s{setItem(t,e){window.localStorage.setItem(t,e)}getItem(t){return window.localStorage.getItem(t)}removeItem(t){window.localStorage.removeItem(t)}}return s})(),mo=["setCustomVariable"],n_=(()=>{class s{constructor(t,e){this.E=t,this.vt=e}init(){this.E.register(mo,(t,e,i,n)=>{this.vt.set(t,e,i,n)})}onAfterArtificialPageView(){this.vt.deleteNextPageOnlyCustomVariables()}onAfterNaturalPageView(){this.vt.deleteNextPageOnlyCustomVariables()}onOptout(){this.vt.removeCustomVariablesSession()}onBeforeVisitorRenewal(){this.vt.removeCustomVariablesSession(),this.vt.removeCustomVariablesPage()}}return s})(),Ih=512,Ph=255,Oa={SESSION:["visit",2],PAGE:["page",3],NEXT_PAGE_ONLY:["nextPageOnly",4]},o_=(()=>{class s{constructor(t,e){this.M=t,this.ut=e,this.qt={},this.Ve={}}set(t,e,i,n){let o,c;if((Lt(t)||L(t))&&Number(t)>0&&Ot(e)&&Ot(i)&&!we(e)&&!we(i)&&this.XR(n)){let u=this.M.anonymizePII(csString(e)),d=this.M.anonymizePII(csString(i));if(o=[csString.prototype.slice.call(u,0,Ih),csString.prototype.slice.call(d,0,Ph)],c=i!=="",!mt(n)||csArray.prototype.indexOf.call(Oa.SESSION,n)>=0){let E=this.getCustomVariablesSession();c?E[t]=o:delete E[t],this.setCustomVariableSession(E)}(!mt(n)||csArray.prototype.indexOf.call(Oa.PAGE,n)>=0)&&(c?this.qt[t]=o:delete this.qt[t]),mt(n)&&csArray.prototype.indexOf.call(Oa.NEXT_PAGE_ONLY,n)>=0&&(c?this.Ve[t]=o:delete this.Ve[t])}else throw new Error(`Command misuse: ${mo[0]}`)}getCustomVariablesSession(){let t=this.ut.get();if(!t)return{};let e=window.csJSON.parse(t);return e!==null&&He(e)?e:{}}setCustomVariableSession(t){this.ut.set(window.csJSON.stringify(t))}removeCustomVariablesSession(){this.ut.remove()}removeCustomVariablesPage(){this.qt={}}getRequestParameters(){let t=this.getCustomVariablesSession();for(let i in this.Ve)this.Ve.hasOwnProperty(i)&&(this.qt[i]=this.Ve[i]);for(let i in this.qt)this.qt.hasOwnProperty(i)&&(t[i]=this.qt[i]);if(window.csJSON.stringify(t).length<=2)return{};let e={cvars:this.mm(t)};return this.hasCustomVariablesPage()&&(e.cvarp=this.getCustomVariablesPage()),e}deleteNextPageOnlyCustomVariables(){if(Object.keys(this.Ve).length>0)for(let t in this.Ve)this.Ve[t]===this.qt[t]&&(delete this.qt[t],delete this.Ve[t])}hasCustomVariablesPage(){return this.qt&&!ka(this.qt)}getCustomVariablesPage(){return this.mm(this.qt)}ym(t){for(let e in t)if(t.hasOwnProperty(e)){let i=parseInt(e,10),n=t[e],o=n[0],c=n[1];(!Gp(i,1,20)||o.length>Ih||c.length>Ph)&&delete t[e]}}mm(t){this.ym(t);let e=ka(t)?[]:t;return window.csJSON.stringify(e)}XR(t){return!mt(t)||L(t)||Lt(t)}getAllValidCustomVars(){let t=this.getCustomVariablesSession();for(let e in this.Ve)this.Ve.hasOwnProperty(e)&&(this.qt[e]=this.Ve[e]);for(let e in this.qt)this.qt.hasOwnProperty(e)&&(t[e]=this.qt[e]);return this.ym(t),t}}return s})(),es="_cs_id",Oh=(()=>{class s{constructor(t,e,i){this.f=t,this.N=e,this.K=i}onCookieToSet(t){this.fi=t}onCookieToRemove(t){this.gi=t}get(){let t;return this.f.cookielessTrackingEnabled?t=this.K.getItem(es):t=this.N.get(es),t?(hm(t)||q.warn(`Invalid visitor string: ${t}`),cm(t)):null}set(t){var e;let i=lm(t);if(this.f.cookielessTrackingEnabled)this.K.setItem(es,i);else{let n=new csDate(t.expires);this.N.set(es,i,n),(e=this.fi)===null||e===void 0||e.call(this,es,i,n)}}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(es):(this.N.delete(es),(t=this.gi)===null||t===void 0||t.call(this,es))}handleSubdomainChange(){if(this.f.cookielessTrackingEnabled)return;let t=this.get();t&&(t.allowSubdomains=this.f.allowSubdomains,this.f.allowSubdomains?this.N.delete(es,io.CURRENT_DOMAIN):this.N.delete(es,this.N.getRootDomain()),this.set(t))}}return s})(),a_=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"],c_=1024,l_=1024,hp=(()=>{class s{constructor(t,e){this.ft=t,this.f=e}getEventTargetPathAndHierarchy(t,e){let i=te(t),n={isNodeSensitive(o){return Y.isMaskedElement(o)||Y.isMaskedElementChild(o)},isAttributeSensitive(o,c){return Y.isMaskedAttribute(o,c)},allWhitelistedAttributes:ou(this.f.whitelistedAttributes),attributeIgnoreTokens:a_,useAnonymization:e,attrMaxLength:l_,hierarchyMaxLength:c_};return this.ft.getElementPathAndHierarchy(i,n,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules})}getEventTargetPath(t){let e=te(t);return this.ft.getElementPath(e,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules})}getEventTargetPathAndTargetLink(t){let e=te(t),{path:i,firstAnchorParent:n}=this.ft.getElementPathAndFirstAnchorParent(e,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules}),o=this.KR(n)?n.href:"";return{path:i,targetLink:o}}hasValidEventTarget(t){let e=te(t);return this.ft.isValidElement(e)}getElementPath(t){return this.ft.getElementPath(t,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules})}KR(t){var e;return t!==null&&t.hasAttribute("href")&&!Fa((e=t.getAttribute("href"))!==null&&e!==void 0?e:"","#")}}return s})(),up=(()=>{class s{constructor(t,e){this.Q=t,this.JR=e}transformEvent(t,e){this.QR(t,e.event);let i=this.Q.getElementPath(t);return this.ZR(i,e.event),e}QR(t,e){if(By(e)){let i=t.getBoundingClientRect();e.x=Math.round(i.left+e.x+Yt.windowOffsetX()),e.y=Math.round(i.top+e.y+Yt.windowOffsetY())}}ZR(t,e){Bu(e)&&(e.tgt=`${t}${Vr}${e.tgt}`),jy(e)&&(e.tgtHM=`${t}${Vr}${e.tgtHM}`,this.JR||(e.tgtHMH=Qu(e.tgtHM))),Hy(e)&&(e.tgtLk=`${t}${Vr}${e.tgtLk}`)}}return s})(),dp=(()=>{class s{constructor(t){this.Q=t}transformEvent(t,e){let i=this.Q.getElementPath(t);return{iframePath:e.iframePath?`${i}${Vr}${e.iframePath}`:i,commands:e.commands}}}return s})(),pp=(()=>{class s{constructor(t){this.Q=t}transformEvent(t,e){if(e.products.length===0)return e;let i=this.Q.getElementPath(t),n=csArray.prototype.map.call(e.products,o=>({...o,targetPath:`${i}${Vr}${o.targetPath}`}));return{...e,products:n}}}return s})(),fp=(()=>{class s{constructor(){this.t0={clientX:2,clientY:3},this.e0={clientX:1,clientY:2},this.s0=[Q.POINTER_DOWN,Q.POINTER_MOVE,Q.POINTER_UP],this.i0=[Q.TOUCH_START,Q.TOUCH_MOVE,Q.TOUCH_END]}transformEvents(t,e){if(!Ct.isConnected(t))return e.events=csArray.prototype.filter.call(e.events,c=>c.type!==Q.VISIBILITY_CHANGE),e.events.length===0||(q.warn(`IframeRecordingEventsTransformer received event ${$.RecordingEvent}
        from disconnected iframe, content:${csJSON.stringify(e.events)}`),e.events=[]),e;let i=Rt(t),n=null;csArray.prototype.some.call(e.events,c=>this.Em(c)||this.Sm(c))&&(n=t.getBoundingClientRect());for(let c of e.events)this.Em(c)?this.r0(n,c):this.Sm(c)&&this.n0(n,c),c.context=c.context&&c.context.length>0?`${i}/${c.context}`:`${i}`;return e}n0(t,e){this.vm(this.e0,t,e)}r0(t,e){this.vm(this.t0,t,e)}vm(t,e,i){i.args&&(i.args[t.clientX]=Math.round(e.left+i.args[t.clientX]),i.args[t.clientY]=Math.round(e.top+i.args[t.clientY]))}Em(t){return csArray.prototype.indexOf.call(this.s0,t.type)!==-1}Sm(t){return csArray.prototype.indexOf.call(this.i0,t.type)!==-1}}return s})(),h_=(()=>{class s{constructor(t){this.fu=t}start(){this.fu.onEvent(t=>this.J(t)),this.fu.start()}stop(){this.fu.stop()}J(t){let e=`Content Security Policy error. Violated directive: ${t.violatedDirective} - Source file: ${t.sourceFile}`;q.warn(e)}}return s})(),u_=(()=>{class s{constructor(){this.$t={boundElement:document,type:"securitypolicyviolation",listener:t=>this.securityPolicyViolationListener(t)}}start(){Dt(this.$t)}stop(){xt(this.$t)}onEvent(t){this.L=t}o0(t){if(!t)return!1;let e=t.disposition;return L(t.sourceFile)&&csArray.prototype.some.call(s.a0,i=>csString.prototype.indexOf.call(t.sourceFile,i)>0)&&e!=="report"}securityPolicyViolationListener(t){this.o0(t)&&this.L({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})}}return s.a0=["contentsquare","cdnssl.clicktale.net"],st([G("Event handler type: securitypolicyviolation")],s.prototype,"securityPolicyViolationListener",null),s})(),d_=(()=>{class s{init(){this._m=new h_(new u_),this._m.start()}onOptout(){this._m.stop()}}return s})(),Nh=1/0,{toString:p_}=Object.prototype;function f_(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":p_.call(s)}var nl=s=>typeof s=="symbol"||typeof s=="object"&&s!=null&&f_(s)==="[object Symbol]";function gp(s){if(typeof s=="string"||nl(s))return s;let r=`${s}`;return typeof s=="number"?r==="0"&&1/s===-Nh?"-0":r:s instanceof Number&&r==="0"&&1/s.valueOf()===-Nh?"-0":r}var g_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m_=/^\w*$/;function y_(s,r){return csArray.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||nl(s)?!0:m_.test(s)||!g_.test(s)||r!=null&&s in Object(r)}function ol(s,r){if(typeof s!="function"||r!=null&&typeof r!="function")throw new TypeError("Expected a function");let t=function(...e){let i=r?r.apply(this,e):e[0],{cache:n}=t;if(n.has(i))return n.get(i);let o=s.apply(this,e);return t.cache=n.set(i,o)||n,o};return t.cache=new(ol.Cache||Map),t}ol.Cache=Map;var E_=500;function S_(s){let r=ol(s,t=>{let{cache:e}=r;return e.size===E_&&e.clear(),t});return r}var v_=46,__=/\\(\\)?/g,w_=csRegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),mp=S_(s=>{let r=[];return csString.prototype.charCodeAt.call(s,0)===v_&&csArray.prototype.push.call(r,""),csString.prototype.replace.call(s,w_,(t,e,i,n)=>{let o=t;return i?o=csString.prototype.replace.call(n,__,"$1"):e&&(o=csString.prototype.trim.call(e)),csArray.prototype.push.call(r,o),t}),r});function b_(s,r){return csArray.isArray(s)?s:y_(s,r)?[s]:mp(s)}function T_(s,r){let t=b_(r,s),e=s,i=0,{length:n}=t;for(;e!=null&&i<n;){let o=gp(t[i]);e=e[o],i+=1}return i&&i===n?e:void 0}function A_(s){return"iterable"in s}function yp(s){return mt(s.iterable)?L(s.iterable)||s.iterable===null:!0}function Ep(s,r,t){let e=s==null?void 0:T_(s,r);return e===void 0?t:e}var R_=/\b__p \+= '';/g,C_=/\b(__p \+=) '' \+/g,I_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P_=/['\n\r\u2028\u2029\\]/g,Sp=/[&<>"']/g,O_=csRegExp(Sp.source),N_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/($^)/,M_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},k_=/[()=,{}[\]/\s]/,D_=/<%-([\s\S]+?)%>/g,x_=/<%([\s\S]+?)%>/g,vp=/<%=([\s\S]+?)%>/g,{hasOwnProperty:Mh}=Object.prototype,L_="Invalid `variable` option passed into `_.template`";function V_(s){return`\\${M_[s]}`}var U_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},j_={escape:D_,evaluate:x_,interpolate:vp,variable:"",imports:{_:{template:jn,escape(s){return s&&O_.test(s)?csString.prototype.replace.call(s,Sp,r=>U_[r]):s!=null?s:""}}}};function jn(s,r){let t={...j_,...r},e=Object.keys(t.imports||{}),i=csArray.prototype.map.call(e,A=>t==null?void 0:t.imports[A]),n,o,c=0,u=t.interpolate||kn,d="__p += '",E=csRegExp(`${(t.escape||kn).source}|${u.source}|${(u===vp?N_:kn).source}|${(t.evaluate||kn).source}|$`,"g"),f=`//# sourceURL=${Mh.call(t,"sourceURL")?csString.prototype.replace.call(`${t.sourceURL}`,/\s/g," "):void 0}
`;s==null||csString.prototype.replace.call(s,E,(A,V,U,P,C,j)=>{let F=U||P;return d+=csString.prototype.replace.call(csString.prototype.slice.call(s,c,j),P_,V_),V&&(n=!0,d+=`' +
__e(${V}) +
'`),C&&(o=!0,d+=`';
${C};
__p += '`),F&&(d+=`' +
((__t = (${F})) == null ? '' : __t) +
'`),c=j+A.length,A}),d+=`';
`;let _=Mh.call(t,"variable")&&t.variable;if(!_)d=`with (obj) {
${d}
}
`;else if(k_.test(_))throw new Error(L_);d=csString.prototype.replace.call(csString.prototype.replace.call(o?csString.prototype.replace.call(d,R_,""):d,C_,"$1"),I_,"$1;"),d=`function(${_||"obj"}) {
${_?"":`obj || (obj = {});
`}var __t, __p = ''${n?", __e = _.escape":""}${o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`}${d}return __p
}`;let w;try{w=Function(...e,`${f}return ${d}`)(...i)}catch(A){w=A}if(w.source=d,w instanceof Error)throw w;return w}var H_=/^(\s*("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\s*,?)+$/,B_=/<%[\s\S]+?%>|<%-[\s\S]+?%>|<%=[\s\S]+?%>|\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/,F_=/^document\.querySelector\(("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\)\.(textContent|value)$/;function kh(s){if(!H_.test(s)||B_.test(s))throw new Error("whitelisted function is wrongly used")}var Dh={"window.location.hash.replace(":(s,r)=>{let t=csString.prototype.substring.call(s,29,s.length-1);return kh(t),jn(`\${${s}}`)(r)},"window.sessionStorage.getItem(":(s,r)=>{let t=csString.prototype.substring.call(s,30,s.length-1);return kh(t),jn(`\${${s}}`)(r)},"document.querySelector(":(s,r)=>{if(F_.test(s))return jn(`\${${s}}`)(r)},"new Date().getTime()":(s,r)=>new csDate().getTime().toString()};function $_(s){let r=Ps(Object.keys(Dh),t=>se(s,t));if(r)return Dh[r]}function z_(s){return se(s,"'")&&rr(s,"'")}var G_=/\$\{([\s\S]+?)\}/g,q_=s=>(r,t,e)=>{let i="";return csArray.prototype.forEach.call(csString.prototype.split.call(t,"+"),n=>{let o=csString.prototype.trim.call(n),c=Ep(s,o);if(c===void 0)if(z_(o))c=csString.prototype.substring.call(o,1,o.length-1);else{let u=$_(o);if(u&&(c=u(o,s)),c===void 0)throw new Error("undefined not allowed")}i+=c}),i};function ir(s,r){try{return csString.prototype.replace.call(s,G_,q_(r))}catch{return null}}function uc(s,r){let t={};for(let e of Object.keys(s)){let i=s[e];if(L(i)){let n=ir(i,r);if(n===null)return null;t[e]=n}else t[e]=i}return t}function dc(s,r){let t=csArray.prototype.join.call(csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(s,","),e=>ir(e,r)),e=>e!==null&&ee(e)),",");return ee(t)?t:null}function W_(s){return csArray.isArray(s)?csArray.prototype.map.call(s,gp):nl(s)?[s]:csArray.from(mp(s))}function Y_(s,r){try{let e=/^values\(([a-zA-Z0-9_$[\].]+)\)\[\?([a-zA-Z0-9_$]+)\]$/.exec(s);if(!e)return null;let i=e[1],n=e[2],o=Ep(r,W_(i));if(typeof o!="object"||o===null)return null;let c=[];return csArray.prototype.forEach.call(Object.keys(o),u=>{let d=o[u];typeof d=="object"&&d!==null&&!csArray.isArray(d)&&n in d&&csArray.prototype.push.call(c,d)}),c}catch{return null}}function X_(s,r){let e=/^\[([0-9]+):([0-9+])\]$/.exec(s);if(!e)return null;let i=parseInt(e[1],10),n=parseInt(e[2],10);return n<=i||n>r.length?null:csArray.prototype.slice.call(r,i,n)}function K_(s,r){let t=csString.prototype.split.call(s,"|");if(t.length>2)return null;let e=Y_(csString.prototype.trim.call(t[0]),r);return t.length===2?e===null?null:X_(csString.prototype.trim.call(t[1]),e):e}var Na=(()=>{let s;return function(r){r.AND="AND",r.OR="OR"}(s||(s={})),s})(),We=(()=>{let s;return function(r){r.STARTS_WITH="startsWith",r.EQUALS="equals",r.NOT_EQUALS="notEquals",r.CONTAINS="contains",r.NOT_CONTAINS="notContains",r.MATCHES="matches",r.NOT_MATCHES="notMatches",r.EXIST="exist",r.NOT_EXIST="notExist"}(s||(s={})),s})();function _p(s,r){return J_(s.operator,ew(s.args,r))}function J_(s,r){switch(s){case We.EXIST:case We.NOT_EXIST:return Q_(s,r);default:return Z_(s,r)}}function Q_(s,r){let[t]=r;if(!ee(t))return!1;switch(s){case We.EXIST:return window.csquerySelector[document.nodeType].call(document,t)!==null;case We.NOT_EXIST:return window.csquerySelector[document.nodeType].call(document,t)===null;default:return!1}}function Z_(s,r){let[t,e]=r;if(!(s in Na)&&!(L(t)&&L(e)))return!1;switch(s){case Na.AND:return!!csArray.prototype.reduce.call(r,(n,o)=>n&&o);case Na.OR:return!!csArray.prototype.reduce.call(r,(n,o)=>n||o);case We.STARTS_WITH:return se(t,e);case We.EQUALS:return t===e;case We.NOT_EQUALS:return t!==e;case We.CONTAINS:return csString.prototype.indexOf.call(t,e)>-1;case We.NOT_CONTAINS:return csString.prototype.indexOf.call(t,e)===-1;case We.MATCHES:{let n=xh(e);return n!==null&&n.test(t)}case We.NOT_MATCHES:{let n=xh(e);return n!==null&&!n.test(t)}default:return!1}}function tw(s){return!!(s&&s.operator&&s.args)}function ew(s,r){return csArray.prototype.map.call(s,t=>tw(t)?_p(t,r):L(t)?ir(t,r):t)}function xh(s){let r=/^\/(.*)\/([gimy]*)$/.exec(s),t=null;if(r){let[,e,i]=r;try{t=new csRegExp(e,i)}catch{}}else try{t=new csRegExp(s)}catch{}return t}function al(s){switch(s){case"no decoding":return null;case"decode once":return{decodeURI:!0};case"decode multiple times":return{decodeURIDeep:!0};default:return null}}function cl(s){switch(s==null?void 0:s[0]){case"on next pageview only":return{lifespan:"onNextPageviewOnly"};default:return null}}var Ft=(()=>{class s{constructor(t,e){this.commandsService=t,this.args=e}}return s})(),sn=(()=>{class s extends Ft{}return s})(),wp=(()=>{class s extends Ft{validateArgs(t){if(ft(t)){let e=mt(t.path)?L(t.path):!0,i=mt(t.decodeURI)?L(t.decodeURI):!0,n=mt(t.lifespan)?csArray.isArray(t.lifespan):!0;return e&&i&&n}return!1}execute(t){if(!t.path)this.so([]);else{let e=[t.path],i=al(t.decodeURI),n=cl(t.lifespan),o={...i,...n};Object.keys(o).length&&e.push(o),this.so(e)}}so(t){this.commandsService.applyFromImplementation(po[0],t,"ArtificialPageviewTemplate")}}return s})(),sw=(()=>{class s extends sn{validateArgs(t){return ft(t)?L(t.message)&&csArray.isArray(t.attributes):!1}execute(t,e){let i=ir(t.message,e);if(!i)return;let n={};for(let o of t.attributes){let c=ir(o.value,e);c!==null&&(n[o.key]=c)}this.commandsService.applyFromImplementation(rd[0],[i,n],"CustomErrorTemplate")}}return s})(),iw=(()=>{class s extends Ft{validateArgs(t){if(ft(t)){let e=yp(t),i=csArray.isArray(t.scope)?qh(t.scope,n=>L(n)):!0;return e&&i&&Lt(t.index)&&L(t.name)&&L(t.value)}return!1}execute(t){this.commandsService.applyFromImplementation(mo[0],[t.index,t.name,t.value,t.scope[0]],"CustomVariableTemplate")}}return s})(),rw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.selector):!1}execute(t){this.commandsService.applyFromImplementation(tl[0],[t.selector],"DataCsEncryptTemplate")}}return s})(),nw="data-cs-override-id",ow=(()=>{class s extends Ft{validateArgs(t){if(ft(t)){let e=Ot(t.value)?L(t.value):!0;return L(t.selector)&&e}return!1}execute(t){var e;if(!ee(t.selector))return;let i=window.csquerySelector[document.nodeType].call(document,t.selector);i&&i.setAttribute(nw,(e=t.value)!==null&&e!==void 0?e:"")}}return s})(),aw=20,cw=(()=>{class s extends sn{validateArgs(t){return ft(t)?yp(t)&&L(t.key)&&L(t.value)&&L(t.type):!1}execute(t,e){let i=uc(t,e);i!==null?this.so(i):this.l0(t,e)()}l0(t,e){return()=>{let i=0,n=window.csSetInterval(()=>{i+=1;let o=uc(t,e);if(o!==null){window.csClearInterval(n),n=void 0,i=0,this.so(o);return}i>=aw&&(window.csClearInterval(n),n=void 0,i=0)},100)}}so(t){let e=t.value;if(t.type==="Integer"){let i=Number.parseInt(t.value,10);Number.isNaN(i)||(e=i)}this.commandsService.applyFromImplementation(Jr[0],[{key:t.key,value:e}],"DynamicVariableTemplate")}}return s})(),lw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.transactionId)&&Lt(t.revenue)&&L(t.currency)&&L(t.name)&&L(t.sku)&&L(t.category)&&Lt(t.price)&&Lt(t.quantity):!1}execute(t){this.h0({id:t.transactionId,revenue:t.revenue,currency:t.currency}),this.u0({id:t.transactionId,name:t.name,sku:t.sku,category:t.category,price:t.price,quantity:t.quantity}),this.qa()}h0(t){this.commandsService.applyFromImplementation(Qr[0],[t],"EcTransactionAllTemplate")}u0(t){this.commandsService.applyFromImplementation(lr[0],[t],"EcTransactionAllTemplate")}qa(){this.commandsService.applyFromImplementation(Zr[0],[],"EcTransactionAllTemplate")}}return s})(),hw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.id)&&Lt(t.revenue)&&L(t.currency):!1}execute(t){this.commandsService.applyFromImplementation(Qr[0],[t],"EcTransactionCreateTemplate")}}return s})(),uw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.id)&&L(t.name)&&L(t.sku)&&L(t.category)&&Lt(t.price)&&Lt(t.quantity):!1}execute(t){this.commandsService.applyFromImplementation(lr[0],[t],"EcTransactionItemsAddTemplate")}}return s})(),dw=(()=>{class s extends Ft{validateArgs(t){return!!ft(t)}execute(){this.commandsService.applyFromImplementation(Zr[0],[],"EcTransactionSendTemplate")}}return s})(),pw=(()=>{class s extends sn{validateArgs(t){return ft(t)?Ot(t)&&L(t.selector):!1}execute(t,e){if(!Ot(t)||!L(t==null?void 0:t.selector))return;let i=dc(t.selector,e);i!==null&&this.commandsService.applyFromImplementation(fo[0],[i],"ElementUnmaskingTemplate")}}return s})(),fw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(hr[0],[`@ETP@${t.eventName}`],"EventTriggerRecordingPageTemplate")}}return s})(),gw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(hr[0],[`@ETS@${t.eventName}`],"EventTriggerRecordingSessionTemplate")}}return s})(),mw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(uo[0],[t.eventName],"PageEventTemplate")}}return s})(),yw=(()=>{class s extends sn{validateArgs(t){if(ft(t)){let e=csArray.isArray(t.cssSelectors),i=csArray.isArray(t.attributes);return e&&i}return!1}execute(t,e){let i=csArray.prototype.filter.call(csArray.prototype.map.call(t.cssSelectors,c=>dc(c,e)),c=>!!c),n=csArray.prototype.filter.call(csArray.prototype.map.call(t.attributes,c=>{let u=ir(c.attrName,e),d=dc(c.selector,e);return{attrName:u,selector:d}}),c=>!!c.attrName&&!!c.selector),o={PIISelectors:[...i],Attributes:[...n]};this.commandsService.applyFromImplementation(ur[0],[o],"PIIMaskingTemplate")}}return s})(),Ew=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(hr[0],[`${t.eventName}`],"RecordingEventTriggerTemplate")}}return s})(),Sw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.path):!1}execute(t){let e=[t.path],i=al(t.decodeURI),n=cl(t.lifespan),o={...i,...n};Object.keys(o).length&&e.push(o),this.commandsService.applyFromImplementation(Qn[0],e,"SetPathTemplate")}}return s})(),vw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.query):!1}execute(t){let e=[t.query],i=al(t.decodeURI),n=cl(t.lifespan),o={...i,...n};Object.keys(o).length&&e.push(o),this.commandsService.applyFromImplementation(Zn[0],e,"SetQueryTemplate")}}return s})(),_w=(()=>{class s extends Ft{validateArgs(t){return!!ft(t)}execute(){this.commandsService.applyFromImplementation(Zc[0],[],"SrmOnlineAssetsTemplate")}}return s})(),ww=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.status)&&L(t.selector):!1}execute(t){if(!ee(t.selector))return;let e=window.csquerySelector[document.nodeType].call(document,t.selector);e&&this.commandsService.applyFromImplementation(Wc[0],[t.status,e],"SubmitTemplate")}}return s})(),Pe=(()=>{class s{onEvent(t){this.onEventCallback=t}constructor(t,e,i){this.commandsService=t,this.condition=i,this.isStarted=!1,this.wm=!1,this.args=e}start(){this.wm||(this.onInit(),this.wm=!0),this.isStarted||(this.onStart(),this.isStarted=!0)}stop(){this.isStarted&&(this.onStop(),this.isStarted=!1)}}return st([G()],s.prototype,"start",null),st([G()],s.prototype,"stop",null),s})(),Lh="once per pageview",bw="always",Tw=(()=>{class s extends Pe{constructor(){super(...arguments),this.St=!0}validateArgs(t){if(ft(t)){let e=L(t.selector),i=t.frequency?t.frequency===Lh||t.frequency===bw:!0;return e&&i}return!1}onInit(){if(!ee(this.args.selector)){this.St=!1;return}this.io=this.args.frequency?this.args.frequency===Lh:!0,this.z=new Ke((t,e)=>this.A(t,e))}onStart(){this.St&&this.z.observe(this.args.selector)}onStop(){this.St&&(this.z.processPendingMutations(),this.z.disconnect())}A(t,e){e==="added"&&(this.io?(this.stop(),this.onEventCallback({element:t[0]})):new Set(t).forEach(i=>this.onEventCallback({element:i})))}}return s})(),Aw=(()=>{class s extends Pe{constructor(){super(...arguments),this.St=!0,this.bm=!1}validateArgs(t){return ft(t)?L(t.selector):!1}onInit(){if(!ee(this.args.selector)){this.St=!1;return}this.z=new Ke((t,e)=>{this.A(t,e)})}onStart(){this.St&&(this.z.observe(this.args.selector),this.bm=!0)}onStop(){this.St&&(this.z.processPendingMutations(),this.z.disconnect())}A(t,e){this.bm?e==="added"&&new Set(t).forEach(i=>this.onEventCallback({element:i})):this.onEventCallback({element:t[0]})}}return s})(),Rw=(()=>{class s extends Pe{constructor(){super(...arguments),this.St=!0}validateArgs(t){return ft(t)?L(t.selector):!1}onInit(){if(!ee(this.args.selector)){this.St=!1;return}this.B=new Ke(t=>this.d0(t)),this.D=new Je(t=>this.p0(t))}onStart(){this.St&&(this.Wa=csSymbol("MatchingElement"),this.B.observe(this.args.selector),this.D.observe())}onStop(){this.St&&(this.B.processPendingMutations(),this.B.disconnect(),this.D.disconnect())}d0(t){new Set(t).forEach(e=>this.f0(e))}p0(t){let e=_c(t,n=>n.removedNodes),i=[];for(let n of e)csArray.prototype.push.call(i,...this.g0(n));new Set(i).forEach(n=>this.onEventCallback({element:n}))}f0(t){t[this.Wa]=!0}g0(t){let e=[];return _e(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{i[this.Wa]&&(Ct.isConnected(i)?be.call(i,this.args.selector)||delete i[this.Wa]:delete i[this.Wa],csArray.prototype.push.call(e,i))}),e}}return s})(),Cw=(()=>{class s{static readyStateChangeListener(t){csArray.prototype.forEach.call(ii(s.callbacks),e=>e(t))}static Sh(t){s.callbacks.has(t)||(s.callbacks.add(t),s.callbacks.size===1&&Dt(s.eventHandler,!1))}static vh(t){s.callbacks.delete(t),s.callbacks.size===0&&xt(s.eventHandler,!1)}constructor(t){this.A=t}observe(){s.Sh(this.A)}disconnect(){s.vh(this.A)}}return s.callbacks=new Set,s.eventHandler={boundElement:_t.document,type:"readystatechange",listener:s.readyStateChangeListener},St([G("readyStateChangeListener"),Pt()],s,"readyStateChangeListener",null),s})(),Iw=(()=>{class s extends Pe{constructor(){super(...arguments),this.mu={state:"Any"}}validateArgs(t){var e;return ft(t)&&L(t.state)||(q.implementation(`PageStateTrigger has wrong argument: ${(e=this.args)===null||e===void 0?void 0:e.state}, fallback to default config.`),this.args=this.mu),!0}onInit(){this.Pt=this.args.state.toLowerCase(),this.z=new Cw(()=>{this.Tm(this.Pt,document.readyState)&&(this.onEventCallback(),this.z.disconnect())})}onStart(){this.Tm(this.Pt,document.readyState)?this.onEventCallback():this.z.observe()}onStop(){this.z.disconnect()}Tm(t,e){let i=s.Am[e];return s.Am[t]<=i}}return s.Am={complete:3,interactive:2,loading:1,any:0},s})(),Pw=(()=>{class s extends Pe{validateArgs(t){return!!ft(t)}m0(){this.isStarted&&this.onEventCallback()}onInit(){this.commandsService.applyFromImplementation(ho[0],[()=>this.m0()],"AfterPageViewTrigger")}onStart(){}onStop(){}}return s})(),Ow=(()=>{class s extends Pe{constructor(){super(...arguments),this.yu=!1,this.St=!0,this.Ys=!0,this.ni={boundElement:document,type:"click",listener:t=>{if(this.yu){this.yu=!1;return}this.onClickOrTap(t)}},this.y0=(t,e)=>{t.type===Wt.TAP&&(this.yu=!0,this.onClickOrTap(e))}}validateArgs(t){return ft(t)?L(t.selector):!1}onClickOrTap({target:t}){if(Ot(t)&&Ns(t)){let e=tr(t,this.args.selector);e&&this.onEventCallback({element:e})}}onInit(){if(!ee(this.args.selector)){this.St=!1;return}this.xn=new Id(this.y0)}onStart(){var t;this.St&&(Dt(this.ni,this.Ys),(t=this.xn)===null||t===void 0||t.observe())}onStop(){var t;this.St&&(xt(this.ni,this.Ys),(t=this.xn)===null||t===void 0||t.disconnect())}}return st([G("onClickOrTap"),Pt()],s.prototype,"onClickOrTap",null),s})(),Nw=(()=>{class s{static E0(){var t,e,i,n;if("history"in window){let o=Object.getOwnPropertyDescriptors(history);if(!((t=o.pushState)===null||t===void 0)&&t.writable&&(!((e=o.replaceState)===null||e===void 0)&&e.writable))return history}if(History.prototype){let o=Object.getOwnPropertyDescriptors(History.prototype);if(!((i=o.pushState)===null||i===void 0)&&i.writable&&(!((n=o.replaceState)===null||n===void 0)&&n.writable))return History.prototype}Nt.warn("Unable to override pushState, replaceState",!0,"HistoryChangeObserver")}static Jc(){let t=s.E0();s.ro===null&&we(t==null?void 0:t.pushState)&&(s.ro=Rs({target:t,methodName:"pushState",hook:({args:e})=>{s.Rm("pushstate",e)}})),s.no===null&&we(t==null?void 0:t.replaceState)&&(s.no=Rs({target:t,methodName:"replaceState",hook:({args:e})=>{s.Rm("replacestate",e)}}))}static Ur(t){var e,i;s.ve.add(t),s.ve.size===1&&((s.ro===null||s.no===null)&&s.Jc(),(e=s.ro)===null||e===void 0||e.activate(),(i=s.no)===null||i===void 0||i.activate(),Dt(s.Cm),Dt(s.Im))}static Hr(t){var e,i;s.ve.delete(t),s.ve.size===0&&((e=s.ro)===null||e===void 0||e.deactivate(),(i=s.no)===null||i===void 0||i.deactivate(),xt(s.Cm),xt(s.Im))}static Rm(t,e){let i={type:t,state:e[0]};L(e[2])&&(i.url=e[2]),s.Er(i)}static popstateListener(t){s.Er({type:"popstate",state:t.state})}static hashchangeListener(t){s.Er({type:"hashchange",state:null,url:t.newURL})}static Er(t){csArray.prototype.forEach.call(ii(s.ve),e=>{e(t)})}constructor(t){this.A=t}observe(){s.Ur(this.A)}disconnect(){s.Hr(this.A)}}return s.ro=null,s.no=null,s.Cm={boundElement:_t,type:"popstate",listener:r=>s.popstateListener(r)},s.Im={boundElement:_t,type:"hashchange",listener:r=>s.hashchangeListener(r)},s.ve=new Set,St([G("popstateListener"),Pt()],s,"popstateListener",null),St([G("hashchangeListener"),Pt()],s,"hashchangeListener",null),s})(),Mw=(()=>{class s extends Pe{validateArgs(t){if(ft(t)){let e=L(t.useDebounce),i=t.useDebounce==="yes"?Lt(t==null?void 0:t.window):!0,n=L(t.listeners);return e&&i&&n}return!1}onInit(){this.args.useDebounce==="yes"?this.Qt=jr(()=>{this.onEventCallback()},this.args.window):this.Qt=this.onEventCallback,this.z=new Nw(t=>this.S0(t))}Pm(){return window.location.href}S0(t){let e=t.type==="replacestate"&&this.args.listeners.indexOf("replaceState")===-1,i=t.type==="hashchange"&&this.args.listeners.indexOf("hashchange")===-1;if(e||i)return;let n=this.Pm();this.Om!==n&&(this.Om=n,this.Qt())}onStart(){this.Om=this.Pm(),this.z.observe()}onStop(){this.z.disconnect()}}return s})(),kw=(()=>{class s extends Pe{constructor(){super(...arguments),this.St=!0,this.Ys=!0,this.ni={boundElement:document,type:"submit",listener:t=>this.submitListener(t)}}validateArgs(t){return ft(t)?L(t.selector):!1}submitListener({target:t}){Ot(t)&&Ns(t)&&be.call(t,this.args.selector)&&this.onEventCallback({element:t})}onInit(){ee(this.args.selector)||(this.St=!1)}onStart(){this.St&&Dt(this.ni,this.Ys)}onStop(){this.St&&xt(this.ni,this.Ys)}}return st([G("submitListener"),Pt()],s.prototype,"submitListener",null),s})(),Dw=(()=>{class s extends Pe{constructor(){super(...arguments),this.St=!0,this.Nm={boundElement:document,type:"mouseover",listener:t=>this.mouseoverListener(t)},this.Mm={boundElement:document,type:"mouseleave",listener:t=>this.mouseleaveListener(t)}}validateArgs(t){return ft(t)?L(t.selector):!1}onInit(){ee(this.args.selector)||(this.St=!1)}mouseleaveListener({target:t}){Ot(t)&&Ns(t)&&t[this.Ya]&&delete t[this.Ya]}mouseoverListener({target:t}){if(Ot(t)&&Ns(t)){let e=tr(t,this.args.selector);e!==null&&!e[this.Ya]&&(e[this.Ya]=!0,this.onEventCallback({element:e}))}}onStart(){this.St&&(this.Ya=csSymbol("Hovered"),Dt(this.Mm,!0),Dt(this.Nm,!0))}onStop(){this.St&&(xt(this.Nm),xt(this.Mm))}}return st([G("mouseleaveListener"),Pt()],s.prototype,"mouseleaveListener",null),st([G("mouseoverListener"),Pt()],s.prototype,"mouseoverListener",null),s})(),xw=(()=>{class s extends Pe{constructor(){super(...arguments),this.ni={boundElement:window,type:"hashchange",listener:t=>this.hashChangedListener(t)}}validateArgs(t){return!!ft(t)}hashChangedListener(t){t.newURL&&t.newURL===t.oldURL||this.onEventCallback()}onInit(){}onStart(){Dt(this.ni)}onStop(){xt(this.ni)}}return st([G("hashChangedListener"),Pt()],s.prototype,"hashChangedListener",null),s})(),Lw=(()=>{class s extends Pe{constructor(){super(...arguments),this.Xa=!0}validateArgs(t){return ft(t)?L(t.selector):!1}onInit(){if(!ee(this.args.selector)||!Jn.isSupported()){this.Xa=!1;return}this.It=new Jn({delay:0,trackOnce:!0,reobserve:!0}),this.B=new Ke(t=>this.Eu(t),{closest:!0})}Eu(t){for(let e of t)this.It.observe(e)}Su(t,e){if(this.isStarted&&e===xr.VisibleInViewPort){let i=tr(t,this.args.selector);i&&(this.onEventCallback({element:i}),this.stop(),this.Xa=!1)}}onStart(){this.Xa&&(this.It.start((t,e)=>this.Su(t,e)),this.B.observe(this.args.selector))}onStop(){this.Xa&&(this.It.stop(),this.B.disconnect())}}return s})(),Vw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.url):!1}execute(t){this.commandsService.applyFromImplementation(id[0],[t.url],"ApiErrorsMaskUrlTemplate")}}return s})(),Uw=(()=>{class s extends Ft{validateArgs(t){return ft(t)?L(t.maskingPattern):!1}execute(t){this.commandsService.applyFromImplementation(sl[0],[t.maskingPattern],"NetworkRequestMaskUrlTemplate")}}return s})(),Vh="once per pageview",jw="always",Hw=(()=>{class s extends Pe{constructor(){super(...arguments),this.vu=!1,this.Fe=!1,this.io=!0}validateArgs(t){if(ft(t)){let e=L(t.selector),i=t.frequency?t.frequency===Vh||t.frequency===jw:!0;return e&&i}return!1}onInit(){Jn.isSupported()&&(this.Fe=!0,this.io=this.args.frequency?this.args.frequency===Vh:!0,this.B=new Ke((t,e)=>{if(e==="initial")for(let i of t)Ct.isVisibleInViewportInForeground(i)&&(i[this._u]=!0);this.Eu(t)},{closest:!0}),this.It=new Jn({delay:0,trackOnce:!1,reobserve:!0,allowSameMatch:!0}))}onStart(){!this.Fe||this.isStarted||(this._u=csSymbol("skipElement"),this.vu=!1,this.It.start((t,e)=>this.Su(t,e)),this.B.observe(this.args.selector))}onStop(){!this.Fe||!this.isStarted||(this.B.disconnect(),this.It.stop())}Su(t,e){if(this.isStarted&&e===xr.VisibleInViewPort){let i=t.closest(this.args.selector);if(i){if(i[this._u]){delete i[this._u];return}this.io&&this.stop(),(!this.io||!this.vu)&&(this.vu=!0,this.onEventCallback({element:i}))}}}Eu(t){for(let e of t)this.It.observe(e)}}return s})(),pc=(()=>{class s extends Pe{constructor(){super(...arguments),this.mu={pageviewTypes:["natural","artificial"]}}validateArgs(t){var e;return ft(t)&&He(t)&&csArray.isArray(t.pageviewTypes)&&qh(t.pageviewTypes,n=>L(n))||(q.implementation(`BeforePageViewTrigger has wrong argument: ${(e=this.args)===null||e===void 0?void 0:e.pageviewTypes}, fallback to default config.`),this.args=this.mu),!0}onInit(){this.v0=this.args.pageviewTypes}onPageView(t){this.isStarted&&csArray.prototype.indexOf.call(this.v0,t)!==-1&&this.onEventCallback()}onStart(){}onStop(){}}return s})(),Bw=(()=>{class s extends Ft{constructor(){super(...arguments),this.wu=!1}validateArgs(t){return ft(t)&&L(t.type)&&L(t.urls)&&(t.type==="allow"||t.type==="block")&&csString.prototype.trim.call(t.urls).length>0?(this.wu=!1,!0):(q.implementation(`BlockAllowListForSRTemplate has wrong argument: ${t}, fallback to default config.`),this.wu=!0,!0)}execute(t){let e="";this.wu?e=tp:e=this._0(t.urls,t.type),this.commandsService.applyFromImplementation(sp[0],[e],"BlockAllowListForSRTemplate")}_0(t,e){let i=e==="allow"?"?!":"";return i+=csArray.prototype.join.call(csArray.prototype.map.call(csString.prototype.split.call(t,","),n=>`.*${csString.prototype.trim.call(n)}`),"|"),`^(${i}).*?`}}return s})(),Fw=(()=>{class s{constructor(t){this.E=t,this.w0={ApiErrorsMaskUrl:Vw,NetworkRequestMaskUrls:Uw,ArtificialPageview:wp,BlockAllowListForSr:Bw,CustomError:sw,CustomVariable:iw,DataCsEncrypt:rw,DataCsOverride:ow,DynamicVariable:cw,EcTransactionAll:lw,EcTransactionCreate:hw,EcTransactionItemsAdd:uw,EcTransactionSend:dw,ElementUnmasking:pw,EventTriggerRecordingPage:fw,EventTriggerRecordingSession:gw,PageEvent:mw,PiiMasking:yw,RecordingEventTrigger:Ew,SetPath:Sw,SetQuery:vw,SrmOnlineAssets:_w,Submit:ww},this.Ir={AfterPageView:Pw,ElementAdded:Tw,ElementBecomesVisible:Hw,ElementExist:Aw,ElementRemoved:Rw,ElementVisibility:Lw,ElementClick:Ow,FormSubmit:kw,HashChange:xw,HistoryChange:Mw,Mouseover:Dw,PageState:Iw,BeforePageView:pc}}b0(t){let e=this.w0[t.name];return e?new e(this.E,t.args):(q.error(`Implementations: template ${t.name} does not exist`),null)}T0(t){let e=this.Ir[t.name];return e?new e(this.E,t.args,t.condition):(q.error(`Implementations: trigger ${t.name} does not exist`),null)}parse(t){let e=[];for(let{triggers:i,template:n}of t){let o=this.b0(n);if(!o)continue;if(!o.validateArgs(o.args)){q.implementation(`${n.name} has wrong argument.`);continue}for(let u of i){let d=this.T0(u);if(!d)continue;if(!d.validateArgs(d.args)){q.implementation(`${u.name} has wrong argument.`);continue}csArray.prototype.push.call(e,{name:`${u.name}_${n.name}`,trigger:d,template:o})}}return e}}return s})(),$w=(()=>{class s{constructor(t,e,i){this.A0=t,this.O=i,this.Pe={window,document,location,cookies:{}},this.Ir=new Set,this.R0=new Fw(e)}init(){Object.defineProperty(this.Pe,"cookies",{get:()=>this.C0()});let t=this.R0.parse(this.A0);for(let{name:e,trigger:i,template:n}of t)i instanceof pc&&n instanceof wp||(this.Ir.add(i),i.onEvent(o=>{this.onTriggerEvent(o,n),at.counters.CSTCSnippetUsed.count(e)}))}start(t=!1){this.Ir.forEach(e=>{e.condition&&!_p(e.condition,this.Pe)||(t?this.O.schedule(()=>{e.start()}):e.start())})}stop(){this.Ir.forEach(t=>{t.stop()})}onBeforePageView(t){this.Ir.forEach(e=>{if(e instanceof pc){e.onPageView(t);return}})}onTriggerEvent(t,e){let i=this.I0(t),n={...this.Pe,...i},o=[];if(A_(e.args)&&L(e.args.iterable)&&e.args.iterable.length>0){let c=K_(e.args.iterable,n);if(Ot(c)){let u=csArray.prototype.map.call(c,d=>({...n,$:d}));csArray.prototype.push.call(o,...u)}}else csArray.prototype.push.call(o,n);if(e instanceof sn){for(let c of o)e.execute(e.args,c);return}for(let c of o){let u=uc(e.args,c);u&&e.execute(u)}}C0(){let t;try{t=document.cookie}catch{t=""}return csArray.prototype.reduce.call(csString.prototype.split.call(t,"; "),(e,i)=>{let[n,o]=csString.prototype.split.call(i,"=");return o!==void 0&&(e[n]=o),e},{})}I0(t){let e={...t};for(let i in e)Mt(e[i])&&(Y.isMaskedElement(e[i])||Y.isMaskedElementChild(e[i]))&&delete e[i];return e}}return st([ie("implementationsService.start")],s.prototype,"start",null),st([G()],s.prototype,"onTriggerEvent",null),s})(),bp=(()=>{class s{constructor(t,e,i){this.Cs=new $w(t,e,i)}init(){this.Cs.init()}onInitTracking(){this.Cs.start(!0)}onOptout(){this.Cs.stop()}onBeforeSessionRenewal(){this.Cs.stop(),this.Cs.start()}onBeforeArtificialPageView(){this.Cs.stop(),this.Cs.start(),this.Cs.onBeforePageView("artificial")}onBeforeNaturalPageView(){this.Cs.onBeforePageView("natural")}}return s})(),Tp=(()=>{class s{constructor(t){this.configuration=t}}return s})(),zw=(()=>{class s extends Tp{constructor(t,e,i){super(t),this.configuration=t,this.oo=e,this.S=i,this.P0=Z.RECORDING_GLOBAL_SAMPLING}refreshQuota(t){this.km=t,this.ao=void 0,this.O0()}init(t){this.N0();let e=Bt.get(Ge);e!==null&&Lc(e)?t(this.canCollect(mm(e))):this.refreshQuota(i=>{t(i!==Z.QUOTA_REACHED)})}sanitizeSessionCollectState(t){return t}canCollect(t){return t!==null&&t.collectState!==Z.QUOTA_REACHED}computeInitialCollectState(t){return this.ao?(this.S.emitCollectStateChange(this.ao,this.configuration.malkaEtrEnabled?Se.ETR_ON:Se.ETR_OFF),this.ao):(q.warn("Quota file error computeInitialCollectState() called before quota answered"),Z.QUOTA_REACHED)}getEligibleCollectState(t){return t.collectState===Z.QUOTA_REACHED?Z.QUOTA_REACHED:!sr.isRecordingSupported()&&this.isReplayRecorded(t)?Z.ANALYTICS_ONLY:t.collectState===Z.RECORDING_RULES_TARGETING?Z.RECORDING_RULES_TARGETING:t.collectState===Z.ANALYTICS_ONLY_RULES_TARGETING?Z.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===Z.RECORDING_GLOBAL_SAMPLING?Z.RECORDING_GLOBAL_SAMPLING:Z.ANALYTICS_ONLY}isReplayRecorded(t){return t.collectState===Z.RECORDING_GLOBAL_SAMPLING||t.collectState===Z.RECORDING_RULES_TARGETING}getInitialCollectState(){return this.ao||Z.QUOTA_REACHED}computeInitialCollectStateFromRecordingConsentGranted(t){return Z.ANALYTICS_ONLY}co(t){this.ao=t,this.km&&this.km(t)}N0(){this.oo.onError(t=>this.quotaServiceErrorHandler(`HTTP:${t.status} - fetching quota file for pid: ${this.configuration.projectId}`)),this.oo.onTimeout(()=>this.quotaServiceErrorHandler("timeout")),this.oo.onLoad(t=>this.quotaFileHandler(t))}O0(){this.oo.isInProgress()||this.oo.send()}quotaFileHandler(t){var e;if(!(!((e=t==null?void 0:t.quotas)===null||e===void 0)&&e.length)){this.quotaServiceErrorHandler("Quota types missing from config file");return}this.M0(t)}quotaServiceErrorHandler(t){let e=`Quota error - ${t}`;q.warn(e),this.co(this.P0)}M0(t){let e=!1,i=!1;for(let n of t.quotas)n.quotaType==="ANALYTICS"&&n.value?e=!0:n.quotaType==="RECORDING"&&n.value&&os.boolean(Math.round(n.value*100))&&(i=!0);!e&&i?this.quotaServiceErrorHandler(`Quota types impossible: replay without analytics - ${csJSON.stringify(t)}`):e&&i?sr.isRecordingSupported()?this.co(Z.RECORDING_GLOBAL_SAMPLING):this.co(Z.ANALYTICS_ONLY):e&&!i?this.co(Z.ANALYTICS_ONLY):this.co(Z.QUOTA_REACHED)}getRecordingConsentWithdrawn(){return Z.ANALYTICS_ONLY}}return st([G("Quota File: quotaFileHandler")],s.prototype,"quotaFileHandler",null),st([G("Quota File: onerror")],s.prototype,"quotaServiceErrorHandler",null),s})(),Gw=(()=>{class s extends Tp{constructor(t,e,i,n,o){super(t),this.configuration=t,this.S=e,this.tu=i,this.w=n,this.bu=o,this.Tu=!1}refreshQuota(){}canCollect(t){return!0}init(){this.configuration.malkaUrlEnabled&&this.configuration.hasRecordingUrlRules()&&(this.Tu=!0,this.bu.setRegexRules(this.configuration.recordingUrlRules))}sanitizeSessionCollectState(t){return(t.collectState===Z.QUOTA_REACHED||t.collectState===Z.RECORDING_RULES_TARGETING||t.collectState===Z.RECORDING_TEMPORARILY)&&(t.collectState=Z.ANALYTICS_ONLY),t}computeInitialCollectState(){return Js.isReplayConsentNeeded(this.configuration)?Z.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.za()}computeInitialCollectStateFromRecordingConsentGranted(){return this.za()}za(){if(!sr.isRecordingSupported())return Z.ANALYTICS_ONLY;let t=Z.ANALYTICS_ONLY,e=Se.ETR_OFF;return os.percentage()<this.configuration.replayRecordingRate||this.tu.isForceReplayRecorded()?t=Z.RECORDING_GLOBAL_SAMPLING:this.Tu&&this.bu.evaluateUrl(this.w.getAnonymizedUrl())&&(t=Z.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&(e=Se.ETR_ON),this.S.emitCollectStateChange(t,e),t}getEligibleCollectState(t){if(!sr.isRecordingSupported())return Z.ANALYTICS_ONLY;if(Js.isRecordingBlockedByConsent(t))return t.collectState===Z.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Z.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:Z.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED;if(t.collectState===Z.RECORDING_GLOBAL_SAMPLING)return Z.RECORDING_GLOBAL_SAMPLING;let e=this.configuration.malkaEtrEnabled?Se.ETR_ON:Se.ETR_OFF;return this.Tu&&this.bu.evaluateUrl(this.w.getAnonymizedUrl())?(this.S.emitCollectStateChange(Z.RECORDING_URL_SAMPLING,e),Z.RECORDING_URL_SAMPLING):(this.S.emitCollectStateChange(Z.ANALYTICS_ONLY,e),Z.ANALYTICS_ONLY)}isReplayRecorded(t){return Js.isRecordingBlockedByConsent(t)?!1:t.collectState===Z.RECORDING_TEMPORARILY||t.collectState===Z.RECORDING_GLOBAL_SAMPLING||t.collectState===Z.RECORDING_URL_SAMPLING||this.configuration.malkaEtrEnabled}getInitialCollectState(){return Z.ANALYTICS_ONLY}getRecordingConsentWithdrawn(){return Z.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}return s})();function qw(){let s="[data-cs-mask]",r="#c1_card_info_id",t=".ctHidden",e=["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"],i=["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"];return[s,r,t,...e,...i]}function Ww(){return[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]}var Ap=(()=>{class s{constructor(){this.k0={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.ds={elementSelector:"",attrSelector:"",attrSelectors:[]};let t={PIISelectors:qw(),Attributes:Ww()};this.ds=Y.getComputedSelectorSettings(t,this.ds)}init(){this.D0()}setMaskedElementSettingsFromCommand(t){if(t=Y.sanitizeSelectorUserInput(t),!Y.isSelectorUserInput(t))throw new Error(`Command misuse: ${ur[0]}`);this.Au(t)}setMaskedElementSettingsFromParent(t){let e={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.Au(e)}getMaskedElementSettings(t){return t?this.Dm(this.k0):this.ds}D0(){var t,e,i,n,o,c;let u={PIISelectors:[],Attributes:[]};((i=(e=(t=window==null?void 0:window.ClickTaleSettings)===null||t===void 0?void 0:t.DOM)===null||e===void 0?void 0:e.PII)===null||i===void 0?void 0:i.Text)instanceof Array&&u.PIISelectors.push(...window.ClickTaleSettings.DOM.PII.Text),((c=(o=(n=window==null?void 0:window.ClickTaleSettings)===null||n===void 0?void 0:n.DOM)===null||o===void 0?void 0:o.PII)===null||c===void 0?void 0:c.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach(d=>{L(d.attr)&&L(d.rule)&&u.Attributes.push({selector:d.rule,attrName:d.attr})}),this.Au(u)}Au(t){this.ds=this.Dm(t)}Dm(t){return Y.getComputedSelectorSettings(t,this.ds)}}return s})(),Yw=(()=>{class s{constructor(t,e){this.tt=t,this.bt=e,this.Ru=!1}getRequestParameters(){return{dr:this.get()}}addUrlMaskingPattern(t){this.bt.addUrlMaskingPattern(t)}enableRemoveQueryString(){this.Ru=!0}disableRemoveQueryString(){this.Ru=!1}get(){let t=this.Ru?this.tt.removeQueryString(this.xm()):this.xm();return this.tt.anonymizeUrl(t,{maskingPatterns:this.bt.getUrlMaskingPatterns()})}xm(){let t="";try{t=window.top.document.referrer}catch{if(window.parent)try{t=window.parent.document.referrer}catch{t=""}}return t===""&&(t=document.referrer),typeof t!="string"&&(t=""),t}}return s})(),Xw=60*1e3,Kw=30*1e3,Jw=(()=>{class s{constructor(t,e){this.R=t,this.I=e,this.Cu=!1,this.x0=co(()=>this.R.refreshSession(),Kw)}onSessionExpired(t){this.L0=t}isSessionValid(){return this.Cu?!0:!(!this.R.hasValidSession()||this.R.pollCacheRefreshEvent()&&this.I.isSessionRenewed())}isCurrentPageviewValid(){let t=this.R.hasValidSession();return this.R.pollCacheRefreshEvent(!1)?!this.I.isSessionRenewed():t}refreshSession(){this.isSessionValid()?this.x0():this.V0()&&(this.Lm=K.now(),this.renewSession())}renewSession(){this.Cu=!0,this.L0(),this.Cu=!1}V0(){return!document.hidden&&(!mt(this.Lm)||K.now()-this.Lm>Xw)}}return s})(),Qw=(()=>{class s{constructor(t,e,i,n,o,c,u,d,E,f,_){this.f=t,this.S=e,this.E=i,this.I=n,this.w=o,this.X=c,this.M=u,this.nt=d,this.N=E,this.wt=f,this._t=_}start(){if(this.W0()){this.ht(),this.nt.init(),this.Hm=new iS(this.E,this.S,this.X,this.w),this.Hm.init();let t=new Wr;this.it=new ao(this.f,this.w,t,this._t),this.it.init();let e=new Hu(this.X),i=new ju(this.E,e,this.f,this.N,this.wt,this.I,this.M,this.it,this.nt);i.init(),i.start(),this.Bm=new Zm(this.f,this.I,this.w,e),this.Bm.init(),this.S.addListener(this.Bm);let n=new Fc;n.onLoad(()=>{this.S.emitStartNoTrackingMode(),this.E.start(),this.Hm.start()}),n.start()}}W0(){var t;return((t=this.f.voc)===null||t===void 0?void 0:t.enabled)||this.f.vocData}ht(){this.E.register(ur,t=>{this.nt.setMaskedElementSettingsFromCommand(t)})}}return s})(),Zw=/\b((?:profile|user|last|first|primary|primary(?:[/_+-]|%20)?last)(?:[/_+-]|%20)?(?:name)[/=])[^#;?&/]+/gi,tb="$1CS_ANONYMIZED_NAME",Rp=(()=>{class s{constructor(t){this.M=t}anonymizeUrl(t,e={}){let i=e.maskingPatterns||[],n=e.partialMaskingPatterns||[],o=this.M.anonymizePII(t);if(o=this.M.anonymizeJwt(o),e.maskNames){let d=o;o=this.hn(o),o!==d&&(at.counters.redactedPII.count("name"),at.counters.redactedPII.count("name-in-url"))}let c=this.Y0(o,i);if(c!==o)return at.counters.redactedPII.count("url"),c;let u=this.X0(o,n);return u!==o&&at.counters.redactedPII.count("url"),u}removeQueryString(t){let{path:e,queryString:i}=this.Lu(t);return i!==""?`${e}?`:e}Lu(t){let e=csString.prototype.indexOf.call(t,"?"),i,n="";return e!==-1?(i=csString.prototype.slice.call(t,0,e),n=csString.prototype.slice.call(t,e,t.length)):i=t,{path:i,queryString:n}}Y0(t,e){if(e.length===0)return t;let{path:i,queryString:n}=this.Lu(t),o=csString.prototype.split.call(i,"/");for(let c of e){let u=this.K0(o,c);if(u!==null)return`${u}${n}`}return t}K0(t,e){if(t.length<e.length)return null;let i=[];for(let n=0;n<t.length;n++){let o=t[n];if(n>=e.length){csArray.prototype.push.call(i,o);continue}let c=e[n].key;if(this.Fm(c)){let u=e[n].value;csArray.prototype.push.call(i,u);continue}if(o===c){csArray.prototype.push.call(i,o);continue}return null}return csArray.prototype.join.call(i,"/")}X0(t,e){if(e.length===0)return t;let{path:i,queryString:n}=this.Lu(t),o=csString.prototype.split.call(i,"/");for(let c of e)o=this.J0(o,c);return`${csArray.prototype.join.call(o,"/")}${n}`}J0(t,e){let i=[],n=0,c=t[0]==="http:"||t[0]==="https:"?2:0;for(let u=0;u<t.length;u++){let d=t[u],E=e[n].key;if(this.Fm(E)&&u>=c){let f=e[n].value;csArray.prototype.push.call(i,d.length>0?f:""),n++,n===e.length&&(n=0);continue}if(d===E){csArray.prototype.push.call(i,d),n++,n===e.length&&(n=0);continue}for(let f=0;f<n;f++){let _=u-n+f;i[_]=t[_]}n=0,csArray.prototype.push.call(i,d)}for(let u=0;u<n;u++){let d=t.length-n+u;i[d]=t[d]}return i}Fm(t){return se(t,Gd)}hn(t){return csString.prototype.replace.call(t,Zw,tb)}}return s})(),eb=(()=>{class s{constructor(t,e,i,n,o,c){this.f=t,this.hi=e,this.hs=i,this.O=n,this.S=o,this.K=c}initWithQuota(){if(!this.f.collectionEnabled){this.$m();return}let t=new ay(this.f.getSettingsFileUri(),"",{type:"json",cacheMinutes:15});this.Tt=new zw(this.f,t,this.S),this.Tt.init(e=>{e?this.init():this.$m()})}zm(){this.O.schedule(()=>{this.M=new Ii,this.tt=new Rp(this.M),this.w=new cp(window.location,this.tt),this.N=new io(this.f,this.w,this.hi),this.N.init(),this.wt=new r_,this.E=new np([hc.UXA]),this.X=new i_,this.nt=new Ap,this._t=new qv(this.f,new $v(this.f,this.N,this.wt),this.S)})}$m(){this.zm(),this.O.schedule(()=>{let t=new Oh(this.f,this.N,this.K),e=new Th(this.f,t,this.S);new Qw(this.f,this.S,this.E,e,this.w,this.X,this.M,this.nt,this.N,this.wt,this._t).start()})}init(){wi.isSupported()&&wi.setDigestSalt(this.f.projectId.toString());let t,e,i,n,o,c,u,d,E,f,_,w,A,V,U,P,C,j,F,M,tt,ct,gt,Xt,$t,O,z;this.zm(),this.O.schedule(()=>{_=new Jv(window.location,this.N),new d_().init(),w=$d.create(q.warn),f=new pu(w),this.Tt===void 0&&(this.Tt=new Gw(this.f,this.S,_,this.w,new Wr),this.Tt.init())}),this.O.schedule(()=>{t=new Vv(this.f,this.N,this.K),e=new Hv(t,this.Tt,this.S,this.f.replayConsentRequiredForSession,this.f.malkaEtrEnabled),i=new Oh(this.f,this.N,this.K),n=new Th(this.f,i,this.S,e),this.hs.setContext(n,e)}),this.O.schedule(()=>{c=new Fv(n,e,this._t),u=new Em(this.f,this.N,this.K),d=new Yv(window.location,u),E=new Xv(d),U=new Bv(this.f,n,d),$t=new hp(ns,this.f),M=new up($t,this.f.isChild),tt=new dp($t),ct=new pp($t),gt=new fp,Xt=new lp(M,tt,ct,gt),P=new e_(this.E,Xt),C=new ep(this.w),j=new ip(C,this.E);let X=new Sm(this.f,this.N,this.K);O=new o_(this.M,X),F=new n_(this.E,O);let it=new om(n,e,d,O,this.f)}),this.O.schedule(()=>{let X=new xv(this.f,n,d,U,c,A,o,_);this.f.implementations&&(z=new bp(this.f.implementations,this.E,this.O),z.init(),this.S.addListener(z)),X.compute(it=>{this.O.schedule(()=>{P.init();let It=new Gv(this.f,this.E,this._t,e,this.S),Kt=new Qv(this.f,this.N,this.wt),ne=new Zv(this.S,window.location,Kt),Qe=new t_(this.E,ne),Ds=new s_(this.E,this.f),le=new Yw(this.tt,new qd),Vt=new Jw(e,n),Oe,hs,Ne,At=new Rh(this.f,n,e,V),wt=new Rh(this.f,n,e,V,hs);it?(this.S.emitInitTracking(),new Dv(At,wt,w,n,e,Vt,le,this.S,this.E,P,this.f,Qe,ne,It,this._t,this.M,$t,this.tt,this.w,Ds,this.X,Xt,O,F,C,j,this.O,f,this.N,this.wt,this.Tt,this.nt,Ne,Oe).start()):new Wv(this.S,this.E,P,Qe,ne,E,It).start()})})})}}return s})(),vi=(()=>{let s;return function(r){let t="{domain}/tag/tag.bundle.js?v={version}",e,i={loadBundle(C){let j=C.source,F=C.data;if(c(F)){let M=()=>{let tt=n(t,F);_(tt,()=>j.postMessage("csBundleLoaded",C.origin))};e=F.token,P(i.loadBundle),u(C.origin)&&M()}}};function n(C,j){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(C,"{version}",j.version),"{token}",j.token),"{domain}",j.domain)}function o(){return e}r.getToken=o;function c(C){return C&&C.type==="csBundleInjection"&&u(C.domain)&&E(C.version)&&d(C.token)}r.isAuthorizedIncomingMessage=c,r.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/;function u(C){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(C)||r.hjDomainRegex.test(C)}r.isAuthorizedDomain=u;function d(C){return/^[a-zA-Z0-9]+$/.test(C)}r.isAuthorizedToken=d;function E(C){return/^[a-zA-Z0-9\.]+$/.test(C)}r.isAuthorizedTagVersion=E;function f(){let C=window.opener||window.parent;return window!==C&&window.addEventListener}r.isActivable=f;function _(C,j){let F=document.createElement("script");F.type="text/javascript",F.async=!0,F.src=C,F.onload=j,F.charset="utf-8",document.head.appendChild(F)}r.addScript=_;function w(C){let j=document.createElement("link");j.rel="stylesheet",j.href=C,document.head.appendChild(j)}r.addStyle=w;function A(C){return`${C}?cb=${new csDate().getTime()}`}r.addCacheBusting=A;function V(){U(i.loadBundle)}r.waitForBundleInjection=V;function U(C){window.addEventListener("message",C,!1)}r.listen=U;function P(C){window.removeEventListener("message",C,!1)}r.removeListener=P}(s||(s={})),s})(),Uh="_hp_ved",sb=18e5,ib="/js/ved.js",rb="/css/ved.css",nb="/js/ved.css",ob=(()=>{let s;return function(r){r.StatusUpdate="status"}(s||(s={})),s})(),ab=(()=>{let s;return function(r){r.ReceivedInitMessage="received_init_message"}(s||(s={})),s})(),Ma=(()=>{let s;return function(r){let t=!1,e;function i(_){return e+_}function n(){let _=[i(rb),i(nb)];csArray.prototype.forEach.call(_,w=>{vi.addStyle(w)})}function o(_){let w=new csRegExp("(^|;)[ ]*"+_+"=([^;]*)"),A=w.exec(document.cookie);return A?decodeURIComponent(A[2]):null}function c(_,w,A){let V=encodeURIComponent(_)+"="+encodeURIComponent(w),U=new csDate;U.setTime(U.getTime()+A);let P=V+"; expires="+U.toUTCString()+"; path=/";document.cookie=P}function u(){c(Uh,"on",sb)}function d(){return o(Uh)==="on"}r.isVLCookieEnabled=d;function E(_){window.heapV=Object.assign({},window.heap,{source:_==null?void 0:_.source,uri:e,loadArgs:_==null?void 0:_.data.args,identify:()=>{},track:()=>{}})}r.initializeHeapV=E;function f(_,w){var A;if(e=_,w){let V={type:ob.StatusUpdate,value:ab.ReceivedInitMessage},U={targetOrigin:w==null?void 0:w.origin};(A=w==null?void 0:w.source)===null||A===void 0||A.postMessage(V,U)}t||(t=!0,u(),E(w),window.heapV&&(vi.addScript(i(ib)),n()))}r.init=f}(s||(s={})),s})(),cb=(()=>{let s;return function(r){let t=window.opener||window.parent,e="tag",i="https://app.contentsquare.com",n=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,vi.hjDomainRegex],o,c,u,d={initHeapVisualLabeler(M){var tt;M.origin===u&&((tt=M.data)===null||tt===void 0?void 0:tt.message)==="init"&&M.source&&(Ma.init(u,M),C(d.initHeapVisualLabeler))},ping(M){typeof M.data=="string"&&M.data==="ping"&&_(M.origin)&&(c=M.origin,o=vi.hjDomainRegex.test(M.origin)?i:M.origin,C(d.ping),P(d.insertMessageScript),w(vi.addCacheBusting("utils.js")))},insertMessageScript:j(M=>{typeof M.data=="string"&&M.data!=="ping"&&(C(d.insertMessageScript),w(M.data))})};function E(){return vi.getToken()}r.getToken=E;function f(){return window!==t&&window.addEventListener}r.isActivable=f;function _(M){return csArray.prototype.some.call(n,tt=>tt.test(M))}r.isAuthorizedDomain=_;function w(M,tt){let ct=document.createElement("script");ct.type="text/javascript",ct.async=!0;let gt=o==null?void 0:csString.prototype.replace.call(o,/^https?:/,"");ct.src=`${gt}/${e}/${M}`,ct.onload=tt,ct.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(ct),A(M)}function A(M){csString.prototype.includes.call(M,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(M,"&mode=")[1])}function V(){P(d.ping),vi.waitForBundleInjection()}r.waitForConnection=V;function U(M){u=M,P(d.initHeapVisualLabeler),Ma.isVLCookieEnabled()&&Ma.init(u)}r.waitForHeapVisualLabeler=U;function P(M){window.addEventListener("message",M,!1)}r.listen=P;function C(M){window.removeEventListener("message",M,!1)}r.removeListener=C;function j(M){return function(tt){tt.origin===c&&M(tt)}}r.secureListener=j;function F(M){c&&t.postMessage(M,c)}r.post=F}(s||(s={})),s})(),Dn=window.CSFrameCommunication||cb,lb=(()=>{class s extends go{emitTrackingContextResultMessage(t){for(let e of this.listeners)e.onTrackingContextResultCallback&&e.onTrackingContextResultCallback(t)}emitAfterPageViewCallback(t){for(let e of this.listeners)e.onAfterPageViewCallback&&e.onAfterPageViewCallback(t)}emitIntegrationSessionKeyCallback(t){for(let e of this.listeners)e.onIntegrationSessionKeyCallback&&e.onIntegrationSessionKeyCallback(t)}emitParentRecordingContextChange(t){for(let e of this.listeners)e.onParentRecordingContextChange&&e.onParentRecordingContextChange(t)}emitParentSensitiveStatusChange(t){for(let e of this.listeners)e.onParentSensitiveStatusChange&&e.onParentSensitiveStatusChange(t)}emitStartAnalytics(){for(let t of this.listeners)t.onStartAnalytics&&t.onStartAnalytics()}emitStopAnalytics(){for(let t of this.listeners)t.onStopAnalytics&&t.onStopAnalytics()}emitStartRecording(){for(let t of this.listeners)t.onStartRecording&&t.onStartRecording()}emitStopRecording(){for(let t of this.listeners)t.onStopRecording&&t.onStopRecording()}}return s})(),Cp=(()=>{class s extends go{constructor(t){super(),this.O=t}emitBeforeNaturalPageView(t){for(let e of this.listeners)e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView(t)}emitAfterNaturalPageView(){for(let t of this.listeners)t.onAfterNaturalPageView&&t.onAfterNaturalPageView()}emitInitTracking(){for(let t of this.listeners)t.onInitTracking&&t.onInitTracking()}emitStartTracking(t){for(let e of this.listeners)e.onStartTracking&&this.O.schedule(()=>e.onStartTracking(t))}emitStartNoTrackingMode(){for(let t of this.listeners)t.onStartNoTrackingMode&&this.O.schedule(()=>t.onStartNoTrackingMode())}emitArtificialPageViewEnd(){for(let t of this.listeners)if(t.onArtificialPageViewEnd)try{t.onArtificialPageViewEnd()}catch(e){q.error(e)}}emitBeforeArtificialPageView(t,e){for(let i of this.listeners)i.onBeforeArtificialPageView&&i.onBeforeArtificialPageView(t,e)}emitAfterArtificialPageView(){for(let t of this.listeners)t.onAfterArtificialPageView&&t.onAfterArtificialPageView()}emitBeforeSessionRenewal(){for(let t of this.listeners)t.onBeforeSessionRenewal&&t.onBeforeSessionRenewal()}emitAfterSessionRenewal(){for(let t of this.listeners)t.onAfterSessionRenewal&&t.onAfterSessionRenewal()}emitOptout(){for(let t of this.listeners)t.onOptout&&t.onOptout()}emitReplayUnanonymizationConsentGranted(){for(let t of this.listeners)t.onReplayUnanonymizationConsentGranted&&t.onReplayUnanonymizationConsentGranted()}emitReplayUnanonymizationConsentWithdrawn(){for(let t of this.listeners)t.onReplayUnanonymizationConsentWithdrawn&&t.onReplayUnanonymizationConsentWithdrawn()}emitAfterReplayRecordingConsentGranted(){for(let t of this.listeners)t.onAfterReplayRecordingConsentGranted&&t.onAfterReplayRecordingConsentGranted()}emitAfterReplayRecordingConsentWithdrawn(){for(let t of this.listeners)t.onAfterReplayRecordingConsentWithdrawn&&t.onAfterReplayRecordingConsentWithdrawn()}emitCollectStateChange(t,e){for(let i of this.listeners)i.onCollectStateChange&&i.onCollectStateChange(t,e)}emitInitialDomStart(){for(let t of this.listeners)t.onInitialDomStart&&t.onInitialDomStart()}emitInitialDomDone(t){for(let e of this.listeners)e.onInitialDomDone&&e.onInitialDomDone(t)}emitRecordingContextChange(){for(let t of this.listeners)t.onRecordingContextChange&&t.onRecordingContextChange()}emitSensitiveStatusChange(){var t;for(let e of this.listeners)(t=e.onSensitiveStatusChange)===null||t===void 0||t.call(e)}emitBeforeVisitorRenewal(){for(let t of this.listeners)t.onBeforeVisitorRenewal&&t.onBeforeVisitorRenewal()}emitAfterVisitorCleared(){for(let t of this.listeners)t.onAfterVisitorCleared&&t.onAfterVisitorCleared()}emitAfterVisitorRenewal(){for(let t of this.listeners)t.onAfterVisitorRenewal&&t.onAfterVisitorRenewal()}emitSessionCreated(){for(let t of this.listeners)t.onSessionCreated&&t.onSessionCreated()}emitSessionRemoved(){for(let t of this.listeners)t.onSessionRemoved&&t.onSessionRemoved()}emitSessionRefreshed(){for(let t of this.listeners)t.onSessionRefreshed&&t.onSessionRefreshed()}}return st([ie("emitStartTracking")],s.prototype,"emitStartTracking",null),s})(),Ip=["trackTransaction"],hb=(()=>{class s{constructor(t){this.Y=t}init(){this.Y.register(Jr),this.Y.register(mo),this.Y.register(Qn),this.Y.register(Zn),this.Y.register(po),this.Y.register(ad),this.Y.register(Qr),this.Y.register(lr),this.Y.register(Zr),this.Y.register(Ip),this.Y.register(Wd),this.Y.register(Yd),this.Y.register(rl),this.Y.register(rp),this.Y.register(Xd),this.Y.register(uo),this.Y.register(hr),this.Y.register(Zc),this.Y.register(Kd),this.Y.register(Jd),this.Y.register(Qd),this.Y.register(Zd),this.Y.register(sl),this.Y.register(zd),this.Y.register(Ja),this.Y.register(Ka),this.Y.register(ry),this.Y.register(Nu)}onStartTracking(){this.Y.start()}onOptout(){this.Y.stop()}}return s})(),ub=(()=>{class s extends re{constructor(t,e){super(),this.E=t,this.C=e,this.zt=[]}onStart(){this.commandsBatchReady()}onStop(){this.zt=[]}register(t){for(let e of t)this.E.register([e],(...i)=>this.send(e,i))}send(t,e){csArray.prototype.push.call(this.zt,{name:t,params:e}),this.isStarted&&this.commandsBatchReady()}commandsBatchReady(){if(this.zt.length===0)return;let t={commands:this.zt};this.C.sendToParent($.Commands,t),this.zt=[]}}return st([G("Commands.iframe.commandsBatch.send")],s.prototype,"send",null),st([ar({wait:0,mode:"trailing"}),G("send iframe commands batch")],s.prototype,"commandsBatchReady",null),s})(),db="Buffer is full, events might be missing.",pb=(()=>{class s{constructor(t=25){this.Gm=t,this.Pr=[]}reset(){this.Pr=[]}getMessages(){return this.Pr}addMessage(t){this.Pr.length<this.Gm?csArray.prototype.push.call(this.Pr,t):this.Pr.length===this.Gm&&(this.Q0(t),csArray.prototype.push.call(this.Pr,t))}Q0(t){t.type=$.ChildLogMessage,t.content={message:db,errorCode:"",level:yt.warn}}}return s})(),Pp=(()=>{class s extends re{constructor(t){super(),this.buffer=new pb(t)}}return s})(),fb=25,gb=(()=>{class s extends Pp{constructor(t,e,i,n,o){super(fb),this.f=t,this.S=e,this.Ps=i,this.Wt=n,this.oi=o,this.We=null,this.qm={boundElement:window,type:"message",listener:c=>this.jc(c)}}onStart(){Dt(this.qm,!1),this.Z0()}onStop(){xt(this.qm,!1),this.We&&(Tt.closeChannelPort(this.We),this.We=null)}sendToParent(t,e){let i=this.buildChildBaseMessage(t,e);this.Ga(i)}Z0(){let t=this.buildChildBaseMessage($.Discovery);Tt.sendPostMessage(window.parent,"*",t)}buildChildBaseMessage(t,e){let i=Tt.buildBaseMessage(t,Ce.Child,this.f.projectId);return e&&(i.content=e),i}Ga(t){this.We!==null?Tt.sendChannelMessage(this.We,t):this.buffer.addMessage(t)}tC(t,e){let i=Tt.getNewChannelMessage();this.We=i.port1,this.We.onmessage=o=>{this.Bc(o)};let n=this.buildChildBaseMessage($.Discovery);n.id=e,Tt.sendPostMessage(window.parent,t,n,[i.port2]),this.sendAllMessagesFromBuffer()}Bc(t){switch(t.data.type){case $.TrackingContextResultMessage:this.oi.emitTrackingContextResultMessage(t.data.content);break;case $.IntegrationCallback:{let e=t.data.content;e.initiator===Zi.AfterPageView?this.oi.emitAfterPageViewCallback(e):e.initiator===Zi.GetSessionKey?this.oi.emitIntegrationSessionKeyCallback(e):q.warn(`Iframe child received unknown IntegrationCallback type from parent : ${csJSON.stringify(t.data)}`);break}case $.Stop:this.S.emitOptout();break;case $.RecordingContext:{let e=t.data.content;this.Ps.setRecordingContext(e),this.oi.emitParentRecordingContextChange(e);break}case $.SensitiveStatus:{let e=t.data.content;this.Wt.setSensitiveStatus(e),this.oi.emitParentSensitiveStatusChange(e);break}default:q.warn(`Iframe child received unknown channelMessage type from parent : ${csJSON.stringify(t.data)}`)}}jc(t){if(this.We===null&&Tt.isMessageValid(t,Ce.Parent,this.f.projectId,this.f.hostnames))switch(t.data.type){case $.Stop:this.S.emitOptout();break;case $.Discovery:if(!Os(t.data.id)||t.data.id<0){q.warn(`Iframe child received discovery without valid id from parent (${t.origin}) : ${csJSON.stringify(t.data)}`);return}this.tC(t.origin,t.data.id);break;default:q.warn(`Iframe child received unknown postMessage type from parent (${t.origin}) : ${csJSON.stringify(t.data)}`)}}sendAllMessagesFromBuffer(){if(this.We===null)return;let t=this.buffer.getMessages();for(let e of t)Tt.sendChannelMessage(this.We,e);this.eC(),this.buffer.reset()}eC(){let t=Tt.buildBaseMessage($.EndOfBufferedMessages,Ce.Child,this.f.projectId);Tt.sendChannelMessage(this.We,t)}}return s})(),mb=(()=>{class s{constructor(t){this.C=t}onStartTracking(){this.C.start()}onOptout(){this.C.stop()}}return s})(),yb=(()=>{class s{constructor(t,e,i,n,o){this.Z=t,this.pt=e,this.C=i,this.Ps=n,this.Wt=o}init(){this.Z.onChildMessage((t,e,i)=>this.pt.emitIframeEvent(t,e,i)),this.Z.setSentiveStatusCallback(()=>this.Wt.getSensitiveStatus()),this.Z.setRecordingContextCallback(()=>this.Ps.getRecordingContext())}onStartTracking(){this.Z.start()}onOptout(){this.Z.stop()}onIframeRecordingUserEvent(t){let e={events:t,containsUserEvent:!0};this.C.sendToParent($.RecordingEvent,e)}onIframeRecordingBrowserEvent(t){let e={events:t,containsUserEvent:!1};this.C.sendToParent($.RecordingEvent,e)}onIframeAnalysisUserEvent(t){let e={event:t,isUserEvent:!0};this.C.sendToParent($.AnalysisEvent,e)}onIframeAnalysisBrowserEvent(t){let e={event:t,isUserEvent:!1};this.C.sendToParent($.AnalysisEvent,e)}onIframeJavascriptError(t){this.C.sendToParent($.JavascriptError,t)}onIframeApiError(t){this.C.sendToParent($.ApiError,t)}onIframeDetailedApiError(t){this.C.sendToParent($.DetailedApiError,t)}onIframeEmerchandisingMessage(t){this.C.sendToParent($.EmerchandisingMessage,t)}onIframeCommands(t){this.C.sendToParent($.Commands,t)}onIframeIntegrationCallback(t){this.C.sendToParent($.IntegrationCallback,t)}onTrackingContextRequestCallback(t){this.C.sendToParent($.TrackingContextRequestMessage,t)}onIframeStaticResource(t){this.C.sendToParent($.StaticResource,t)}onIframeCustomError(t){this.C.sendToParent($.CustomError,t)}onTrackingContextResultCallback(t){this.Z.sendToChildren($.TrackingContextResultMessage,t)}onAfterPageViewCallback(t){this.Z.sendToChildren($.IntegrationCallback,t)}onIntegrationSessionKeyCallback(t){this.Z.sendToChildren($.IntegrationCallback,t)}onParentRecordingContextChange(t){this.Z.sendToChildren($.RecordingContext,t)}onParentSensitiveStatusChange(t){this.Z.sendToChildren($.SensitiveStatus,t)}}return s})(),Eb=(()=>{class s extends re{constructor(t,e,i,n,o,c,u,d){super(),this.$s=t,this.xt=e,this.C=i,this.fs=n,this.gs=o,this.Si=c,this.vi=u,this._i=d}init(){var t,e,i,n,o;this.$s.onEvent(c=>this.Nt(c)),this.xt.onEvent(c=>this.Nt(c)),(t=this.fs)===null||t===void 0||t.onEvent(c=>this.Nt(c)),(e=this.gs)===null||e===void 0||e.onEvent(c=>this.Nt(c)),(i=this.Si)===null||i===void 0||i.onEvent(c=>this.Nt(c)),(n=this.vi)===null||n===void 0||n.onEvent(c=>this.Ae(c)),(o=this._i)===null||o===void 0||o.onEvent(c=>this.Ae(c))}onStart(){var t,e,i,n,o;this.$s.start(),this.xt.start(),(t=this.fs)===null||t===void 0||t.start(),(e=this.gs)===null||e===void 0||e.start(),(i=this.Si)===null||i===void 0||i.start(),(n=this.vi)===null||n===void 0||n.start(),(o=this._i)===null||o===void 0||o.start()}onStop(){var t,e,i,n,o;this.$s.stop(),this.xt.stop(),(t=this.fs)===null||t===void 0||t.stop(),(e=this.gs)===null||e===void 0||e.stop(),(i=this.Si)===null||i===void 0||i.stop(),(n=this.vi)===null||n===void 0||n.stop(),(o=this._i)===null||o===void 0||o.stop()}Nt(t){let e={isUserEvent:!0,event:t};this.J(e)}Ae(t){let e={isUserEvent:!1,event:t};this.J(e)}J(t){!this.isStarted||t.event.type===nt.RESIZE||this.C.sendToParent($.AnalysisEvent,t)}}return s})(),Sb=["webview:analytics:start"],vb=["webview:analytics:stop"],_b=(()=>{class s{constructor(t,e,i,n,o,c,u,d,E){this.f=t,this.Q=e,this.Lt=i,this.C=n,this.mt=o,this.gt=c,this.E=u,this.xt=d,this.ae=E}init(){let t,e,i=ed(this.f,this.Q,this.ae),n=[];this.f.collectSubmit||csArray.prototype.push.call(n,"submit");let o=new $u(i,this.Q,this.Lt,n),c=this.mt.isInWebViewContext()?{collectGestureVelocity:!0,collectGestureDistance:!0}:{collectGestureVelocity:!1,collectGestureDistance:!1},u=sd(this.f,this.Q,this.ae),d=new Fu(u,this.xt,c),E,f,_;this.lo=new Eb(o,d,this.C,t,e,f,_,E),this.lo.init(),this.mt.isInWebViewContext()&&this.sC()}onStartTracking(){this.lo.start()}onOptout(){this.lo.stop()}onStartAnalytics(){this.lo.start()}onStopAnalytics(){this.lo.stop()}sC(){this.E.register(Sb,()=>this.gt.emitStartAnalytics(),{disableApplyPending:!0}),this.E.register(vb,()=>{this.gt.emitStopRecording(),this.gt.emitStopAnalytics()},{disableApplyPending:!0})}}return s})(),wb=(()=>{class s extends re{constructor(t,e,i,n,o=[],c){super(),this.f=t,this.lt=e,this.C=i,this.xe=n,this.De=o,this.Le=c,this.Vu=!1,this.Ui=!1,this.Bs=new Bc,this.j=[],this.Qa=!1,this.Rs=u=>this.Ae(u),this.Hn=u=>this.Nt(u)}init(){this.Oh()}Oh(){var t;this.xe.onEvent(this.Rs,this.Hn),(t=this.lt)===null||t===void 0||t.onInputNodeToEncrypt(this.Hn)}setEnableOnlineAssets(t){this.Vu=t!=null?t:!1}setOnlineAssetsEnabledOnNextStart(t){this.Ui=t}getStaticResourceManagerStatus(){return this.Le?{supported:Sd.isSupported(),onlineAssets:{activated:this.Vu,enableOnNextStart:this.Ui}}:null}Ae(t){this.oC(t),this.Za()}Nt(t){this.Wm(t),this.Za()}Wm(t){csArray.prototype.push.call(this.j,t),this.Qa=!0}oC(t){csArray.prototype.push.call(this.j,t)}Za(){ht(this.De,e=>{var i;return(i=e.flushEvents)===null||i===void 0?void 0:i.call(e)});let t={containsUserEvent:this.Qa,events:this.j};this.C.sendToParent($.RecordingEvent,t),this.j=[],this.Qa=!1}onStart(){this.Le&&this.Vu&&this.Le.enableOnlineAssets(),this.xe.start(),this.f.emitDebugEvents&&this.Bs.emit("replayRecordingStarted"),ht(this.De,t=>{t.start&&t.start()})}onStop(){var t;this.xe.stop(),(t=this.Le)===null||t===void 0||t.disableOnlineAssets(),ht(this.De,e=>{e.stop&&e.stop()})}addInitialDom(t){for(let e=0;e<this.j.length;e+=1)if(this.j[e].date>=t.date){csArray.prototype.splice.call(this.j,e,0,t),this.Qa=!0,this.Za();return}this.Wm(t),this.Za()}}return s})(),Op=(()=>{class s{constructor(t){this.f=t}isReplayUnanonymizedAllowedByConsent(){return!this.f.consentRequired}}return s})(),fc=(()=>{class s{static isWebViewLocalAssetsSupported(){return"URL"in window}}return s})(),bb=["webview:replay:start"],Tb=["webview:replay:stop"],Ab=(()=>{class s{constructor(t,e,i,n,o,c,u,d){this.f=t,this.gt=e,this.Ym=i,this.ai=n,this.Uu=o,this.E=c,this.w=u,this.Wt=d,this.ju=!1}init(){let t=new Op(this.f),e=new Wr;if(this.ee=new ep(this.w),new ip(this.ee,this.E).init(),this.it=new ao(this.f,this.w,e,t),this.it.init(),fc.isWebViewLocalAssetsSupported()){let n=E=>{this.ho(E)},o=E=>q.error("An error occurred while fetching a styleSheet: "+E),c=new Set,u=E=>!c.has(E),d=E=>{c.add(E.assetId),this.ho([E])};this.Ym.onAsset(E=>{this.aC(E)}),this.Ym.onStyleSheetFound(E=>{this.Uu.getStyleSheetAssets(E.assetId,n,o,u,d)})}this.cC()}onStartRecording(){if(this.ju=!0,!this.ee.isUrlExcludedForSessionReplay()){let t=this.Wt.getSensitiveStatus();this.gt.emitParentRecordingContextChange({isRecording:!0,useAnonymization:t.useAnonymization})}}onStopRecording(){this.ju=!1,this.gt.emitParentRecordingContextChange({isRecording:!1})}onArtificialPageViewEnd(){this.gt.emitParentRecordingContextChange({isRecording:!1})}onAfterArtificialPageView(){if(this.V()&&!this.ee.isUrlExcludedForSessionReplay()){let t=this.Wt.getSensitiveStatus();this.gt.emitParentRecordingContextChange({isRecording:!0,useAnonymization:t.useAnonymization})}}V(){return this.ju}cC(){this.E.register(bb,()=>{this.gt.emitStartAnalytics(),this.gt.emitStartRecording()},{disableApplyPending:!0}),this.E.register(Tb,()=>this.gt.emitStopRecording(),{disableApplyPending:!0})}aC(t){this.ai.sendToParent($.Assets,{assets:[t]})}ho(t){t.length!==0&&this.ai.sendToParent($.Assets,{assets:t})}}return s})();function Rb(s){var r=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g;return s.replace(r,function(t,e,i,n){if(e==="\\")return t.slice(1);if(n)return n;var o=parseInt(i,16),c=55296<=o&&o<=57343;return c||o===0||o>1114111?"\uFFFD":String.fromCodePoint(o)})}var Cb=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g;function Ib(s,r){var t=s.replace(Cb,function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e[3]||e[4],o=e[9]||e[10]||e[11],c=Rb((n||o).trim()),u=n?"@import ":"",d=r(c)||c;return u+"url("+Pb(d)+")"});return t}function Pb(s){return s.indexOf('"')===-1?'"'+s+'"':s.indexOf("'")===-1?"'"+s+"'":s}function Ob(s){var r=[];return Ib(s,function(t){return r.push(t),t}),r}var Np=(()=>{class s{constructor(t){this.lC=t}getStyleSheetAssets(t,e,i,n,o){let c=[];if(!Wn(t)){i(`Not a recognized valid css file path ${t}`);return}let u=(d,E)=>{let f=this.hC(d,E);csArray.prototype.forEach.call(f,_=>{csArray.prototype.push.call(c,_),Wn(_.assetId)&&n(_.assetId)&&(o==null||o(_),this.getStyleSheetAssets(_.assetId,e,i,n,o))}),e(c)};this.lC.getResourceContentText(t,u,i)}hC(t,e){return this.uC(t,Ob(e))}uC(t,e){return csArray.prototype.map.call(csArray.prototype.filter.call(csArray.prototype.filter.call(e,i=>!Ye(i)),i=>!nu(i)),i=>({assetId:hu(i,t),assetBasePath:t,assetRawPath:i}))}}return s})(),Mp=(()=>{class s{getResourceContentText(t,e,i){let n=c=>{e(t,c.responseText)},o=this.dC(n,i);o.open("GET",t),o.send()}dC(t,e){let i=new XMLHttpRequest;return i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(i.status===200?t(i):e(i.statusText))},i}}return s})(),Nb=(()=>{class s{constructor(t,e,i,n,o,c,u,d,E,f,_,w,A){this.f=t,this.M=e,this.ce=i,this.S=n,this.C=o,this.Ps=c,this.E=u,this.oi=d,this.mt=E,this.w=f,this.Wt=_,this.tt=w,this.lt=A}init(){let t=[],e=this.Ps.getRecordingContext();this.Wn=new Ed(!!e.useAnonymization,this.f.whitelistedAttributes,this.M,this.f.anonymizeDigits);let i=[];csArray.prototype.push.call(i,new yd,this.Wn,new vd(this.tt)),csArray.prototype.push.call(i,new _d);let n=new jd;csArray.prototype.push.call(t,n),this.mt.isInWebViewContext(),this.Fi=new Ld,this.Fi.init(),csArray.prototype.push.call(t,this.Fi),csArray.prototype.push.call(t,new xd(window.location,this.M));let o=[this.ce,new md,new Dd(csArray.prototype.filter.call(t,d=>d)),new Rd,new Cd,new Pd,new Td(this.lt)],c=new Md(o,i),u=new kd(c,this.S,this.bs);if(this.ci=new wb(this.f,this.lt,this.C,u,t,this.Le),this.E.register(Bd,()=>this.Ps.getRecordingContext().isRecording),this.E.register(Fd,()=>this.ci.getStaticResourceManagerStatus()),this.ci.init(),this.mt.isInWebViewContext()){let d=new Np(new Mp);this.Hu=new Ab(this.f,this.oi,n,this.C,d,this.E,this.w,this.Wt),this.oi.addListener(this.Hu),this.S.addListener(this.Hu),this.Hu.init()}}onParentRecordingContextChange(t){var e,i;t.useAnonymization!==void 0&&this.Bi(t.useAnonymization),t.enableOnlineResourcesOnNextPageview!==void 0&&this.ci.setOnlineAssetsEnabledOnNextStart(t.enableOnlineResourcesOnNextPageview),t.isRecording?(this.Bh(),this.ci.setEnableOnlineAssets(t.enableOnlineResources),this.ci.start(),(e=this.pC)===null||e===void 0||e.start()):(this.ci.stop(),(i=this.pC)===null||i===void 0||i.stop())}onInitialDomStart(){}onInitialDomDone(t){this.Fi.start(),this.ci.addInitialDom(t)}Bi(t){var e;this.Wn.setAnonymization(t),(e=this.gA)===null||e===void 0||e.setAnonymization(t)}onOptout(){this.ci.stop()}Bh(){var t,e,i,n;if(!((e=(t=this.f.experimental.sessionReplay)===null||t===void 0?void 0:t.shadowRoot)===null||e===void 0)&&e.filterByHostSelector){let o=(n=(i=this.f.experimental.sessionReplay)===null||i===void 0?void 0:i.shadowRoot)===null||n===void 0?void 0:n.filterByHostSelector;ht(o,c=>{ee(c)&&Je.setShadowRootFilter(u=>{try{return be.call(u.host,c)}catch{return!1}})})}}}return s})(),Mb=(()=>{class s{constructor(t,e){this.ai=t,this.Xm=e}init(){this.ai.onWebViewEvent((t,e)=>{this.Xm.emitWebviewEventToBridge(t,e)})}onStartTracking(){this.ai.start()}onOptout(){this.ai.stop()}onStartAnalytics(){this.ai.setAnalyticsStatus(!0)}onStopAnalytics(){this.ai.setAnalyticsStatus(!1)}onParentRecordingContextChange(t){this.Xm.setSessionReplayStatus(t.isRecording)}}return s})(),Ue=(()=>{let s;return function(r){r[r.PAGE_VIEW=4]="PAGE_VIEW",r[r.TAP=6]="TAP",r[r.LONG_PRESS=8]="LONG_PRESS",r[r.DRAG=9]="DRAG",r[r.FLICK=10]="FLICK",r[r.DETAILED_API_ERROR=13]="DETAILED_API_ERROR",r[r.JAVASCRIPT_ERROR_SR=19]="JAVASCRIPT_ERROR_SR",r[r.CUSTOM_ERROR_SR=20]="CUSTOM_ERROR_SR",r[r.API_ERROR=21]="API_ERROR",r[r.CUSTOM_ERROR_AN=25]="CUSTOM_ERROR_AN",r[r.JAVASCRIPT_ERROR_AN=26]="JAVASCRIPT_ERROR_AN",r[r.SUBMIT=27]="SUBMIT",r[r.CHANGE=28]="CHANGE"}(s||(s={})),s})(),kb=(()=>{class s{constructor(){this.Os=1}transformEvent(t){switch(t.type){case nt.CHANGE:{let e={version:this.Os,type:Ue.CHANGE,data:{path:t.tgt}};return ya(t)&&(e.data.hrchy=t.hrchy),e}case nt.SUBMIT:{let e={version:this.Os,type:Ue.SUBMIT,data:{path:t.tgt}};return ya(t)&&(e.data.hrchy=t.hrchy),Xl(t)&&(e.data.text=t.text),e}case nt.TAP:{let e={version:this.Os,type:Ue.TAP,data:{path:t.tgt}};return ya(t)&&(e.data.hrchy=t.hrchy),Xl(t)&&(e.data.text=t.text),e}case nt.DRAG:{let e=t;return{version:this.Os,type:Ue.DRAG,data:{path:e.tgt,direction:e.fd,distance:e.distance,velocity:e.velocity}}}case nt.FLICK:{let e=t;return{version:this.Os,type:Ue.FLICK,data:{path:e.tgt,direction:e.fd,distance:e.distance,velocity:e.velocity}}}default:return null}}}return s})(),Db=(()=>{class s{constructor(t,e,i,n){this.w=t,this.$e=e,this.Me=i,this.ar=n,this.Os=1}transformEvent(t,e){switch(t){case $.ApiError:case $.DetailedApiError:{let i=this.Me.anonymize(e);return{version:this.Os,data:i}}case $.JavascriptError:{let i={...e,pageUrl:this.w.getAnonymizedUrl()},n=this.$e.anonymize(i);return{version:this.Os,data:{...n,date:K.now()}}}case $.CustomError:{let i=e;return i.message=this.ar.anonymize(i.message),{version:this.Os,data:{...i,date:K.now()}}}default:return null}}}return s})(),xb=2,kt=(()=>{let s;return function(r){function t(){return typeof window.CSJavascriptBridge=="object"&&typeof window.CSJavascriptBridge.optIn=="function"&&typeof window.CSJavascriptBridge.optOut=="function"&&typeof window.CSJavascriptBridge.sendEvent=="function"&&typeof window.CSJavascriptBridge.sendDynamicVar=="function"&&typeof window.CSJavascriptBridge.sendTransaction=="function"}r.isCSJavascriptBridgeDefined=t;function e(){if(typeof window.CSJavascriptBridge.getVersion=="function")try{let P=window.CSJavascriptBridge.getVersion();if(Lt(P))return P}catch{q.warn("an error occurred when calling getVersion")}return null}r.getBridgeVersion=e;function i(){typeof window.CSJavascriptBridge.onWebviewTrackingReady=="function"&&window.CSJavascriptBridge.onWebviewTrackingReady()}r.notifyIsReadyForTracking=i;function n(P,C){window.CSJavascriptBridge.identify&&window.CSJavascriptBridge.identify(P,csJSON.stringify(C))}r.identify=n;function o(){window.CSJavascriptBridge.resetIdentity&&window.CSJavascriptBridge.resetIdentity()}r.resetIdentity=o;function c(P){window.CSJavascriptBridge.addUserProperties&&window.CSJavascriptBridge.addUserProperties(csJSON.stringify(P))}r.addUserProperties=c;function u(P){window.CSJavascriptBridge.sendEvent(csJSON.stringify(P))}r.sendAnalysisEvent=u;function d(P){if(window.CSJavascriptBridge.sendSREvent)for(let C of P.events)window.CSJavascriptBridge.sendSREvent(csJSON.stringify(C))}r.sendSREvent=d;function E(P){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(P))}r.sendLog=E;function f(){window.CSJavascriptBridge.optIn()}r.sendOptIn=f;function _(){window.CSJavascriptBridge.optOut()}r.sendOptOut=_;function w(P,C){window.CSJavascriptBridge.sendDynamicVar(P,C)}r.sendDynamicVariable=w;function A(P,C,j){window.CSJavascriptBridge.sendTransaction(P,C,j)}r.sendTransaction=A;function V(P,C){if(window.CSJavascriptBridge.sendAssets){let j=csJSON.stringify(P);window.CSJavascriptBridge.sendAssets(j,C||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(P,j=>j.assetId))}r.sendAssets=V;function U(P){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(P))}r.sendNativeSREvent=U}(s||(s={})),s})(),Lb=(()=>{class s{constructor(t,e,i,n,o,c,u,d){this.Km=t,this.Ze=e,this.fC=i,this.tc=n,this.Or=o,this.S=c,this.w=u,this.bt=d,this.Bu=!1}async emitWebviewEventToBridge(t,e){switch(t){case $.AnalysisEvent:{let i=this.fC.transformEvent(e.event);i&&kt.sendAnalysisEvent(i);break}case $.RecordingEvent:kt.sendSREvent(e);break;case $.ChildLogMessage:kt.sendLog(e);break;case $.Commands:q.tryToExecute(`SDKMessageUtils.sendMessage.sendCommandMessage: ${e}`,()=>{this.gC(e)})();break;case $.Assets:{let{assets:i,serializationId:n}=e,o=await this.Or.getTransformedAssets(i,n);kt.sendAssets(o,n);break}case $.JavascriptError:{let i=this.tc.transformEvent($.JavascriptError,e);i&&(this.Bu&&kt.sendNativeSREvent({...i,type:Ue.JAVASCRIPT_ERROR_SR}),kt.sendAnalysisEvent({...i,type:Ue.JAVASCRIPT_ERROR_AN}));break}case $.ApiError:{let i=this.tc.transformEvent($.ApiError,e);i&&(kt.sendAnalysisEvent({...i,type:Ue.API_ERROR}),at.counters.networkRequests.count("collected"));break}case $.DetailedApiError:{let i=this.tc.transformEvent($.DetailedApiError,e);i&&(kt.sendNativeSREvent({...i,type:Ue.DETAILED_API_ERROR}),at.counters.networkRequests.count("collected"));break}default:break}}setSessionReplayStatus(t){this.Bu=t}gC(t){let e=t.commands;for(let i of e)switch(!0){case csArray.prototype.indexOf.call(rp,i.name)>=0:kt.sendOptIn();break;case csArray.prototype.indexOf.call(rl,i.name)>=0:this.S.emitOptout(),kt.sendOptOut();break;case csArray.prototype.indexOf.call(Jr,i.name)>=0:this.mC(i);break;case csArray.prototype.indexOf.call(po,i.name)>=0:this.yC(i);break;case csArray.prototype.indexOf.call(Qr,i.name)>=0:this.Jm(i);break;case csArray.prototype.indexOf.call(lr,i.name)>=0:break;case csArray.prototype.indexOf.call(Zr,i.name)>=0:this.qa();break;case csArray.prototype.indexOf.call(Ip,i.name)>=0:this.Jm(i),this.qa();break;case csArray.prototype.indexOf.call(id,i.name)>=0:this.bt.addUrlMaskingPattern(i.params[0]);break;case csArray.prototype.indexOf.call(sl,i.name)>=0:this.bt.addPartialUrlMaskingPattern(i.params[0]);break;case csArray.prototype.indexOf.call(zd,i.name)>=0:this.bt.resetPartialUrlMaskingPatterns();break;case csArray.prototype.indexOf.call(rd,i.name)>=0:this.EC(i);break;case csArray.prototype.indexOf.call(Ka,i.name)>=0:this.SC(i);break;case csArray.prototype.indexOf.call(Nu,i.name)>=0:this.vC();break;case csArray.prototype.indexOf.call(Ja,i.name)>=0:this._C(i);break;default:q.warn(`WebviewBridgeEventEmitter received an unknown command: ${csJSON.stringify(i)}`);break}}SC(t){if(t.params.length<1||t.params.length>2)return;let e=t.params[0],i=t.params[1];if(!Fl.isValidIdentity(e)){q.error(`Command misuse: ${Ka[0]}`);return}let n=Fl.parseIdentityOptionsHash(i);kt.identify(e.toString(),{hash:n})}vC(){kt.resetIdentity()}_C(t){if(t.params.length!==1)return;let e=t.params[0];if(!$l.isValidProperties(e)){q.error(`Command misuse: ${Ja[0]}`);return}let i=$l.sanitizeProperties(e);kt.addUserProperties(i)}mC(t){if(t.params.length!==1)return;let e=t.params[0];if(!(!He(e)||!("key"in e)||!("value"in e))&&Dr.isKeyValid(e.key)&&Dr.isValueValid(e.value)){let i=this.Km.anonymizePII(e.key),n=Os(e.value)?e.value:this.Km.anonymizePII(e.value);kt.sendDynamicVariable(i,n)}}yC(t){if(t.params.length!==1)return;let e=t.params[0];if(L(e)){let i={type:Ue.PAGE_VIEW,version:1,data:{url:e}};this.w.overridePath(e),this.S.emitArtificialPageViewEnd(),kt.sendAnalysisEvent(i),this.S.emitAfterArtificialPageView()}}Jm(t){if(t.params.length!==1)return;let[e]=t.params;e.value&&(e.revenue=e.value),this.Ze.addTransaction(e)}qa(){let t=this.Ze.getTransaction();oc.isValid(t)&&(kt.sendTransaction(t.id?t.id:null,t.revenue,t.currency?t.currency:""),this.Ze.clear())}EC(t){if(t.params.length<1)return;let e=t.params[0],i=t.params[1]||{};if(!(L(e)&&He(i)))return;let n=mE.buildCustomErrorEvent(e,i),o=this.tc.transformEvent($.CustomError,n);o&&(this.Bu&&kt.sendNativeSREvent({...o,type:Ue.CUSTOM_ERROR_SR}),kt.sendAnalysisEvent({...o,type:Ue.CUSTOM_ERROR_AN}))}}return s})(),Vb="REMOTE_ASSET",jh="LOCAL_ASSET",Ub="UNKNOWN_ASSET_TYPE",gc="NONE",kp="ONLY_LOCAL_ASSETS",mc="ALL",jb=(()=>{class s{constructor(t){var e,i;this.wC=t,this.Fu=new Set,this.sc=gc;try{let n=(i=(e=window.CSJavascriptBridge)===null||e===void 0?void 0:e.getAssetTransformerMode)===null||i===void 0?void 0:i.call(e);(n===kp||n===mc)&&(this.sc=n)}catch{}}setAssetProcessingMode(t){this.sc=t}async getTransformedAssets(t,e){if(this.sc===gc)return t;let i=[];for(let n of t){let o=n.assetId,c=this.bC(o);if(this.sc===mc||c===jh){let u=o;if(this.TC(o,e)&&(u=this.AC(o,e)),this.Fu.has(u)){csArray.prototype.push.call(i,n);continue}try{let d=await this.wC.getAssetContent(o);if(this.Fu.has(u)){csArray.prototype.push.call(i,n);continue}csArray.prototype.push.call(i,{...n,retrievedAssetContent:d}),this.Fu.add(n.assetId)}catch(d){q.error(`an error occurred while getting data for asset: ${u}: ${d}`),csArray.prototype.push.call(i,n)}}else csArray.prototype.push.call(i,n)}return i}bC(t){let e=window.WEBVIEW_SERVER_URL||null;try{let{protocol:i}=new csURL(t);return i==="file:"||e&&csString.prototype.startsWith.call(t,e)?jh:Vb}catch(i){q.error(`Error constructing URL (${t}"): ${i.message}`)}return Ub}TC(t,e){return e&&Wn(t)||!1}AC(t,e){return`${t}#${e}`}}return s})(),Hb=(()=>{class s{constructor(){this.RC=50*1024*1024,this.CC=30*1024*1024,this.$u=0,this.zu=!1,this.ic=new Map,this.kt=[]}async getAssetContent(t){let e=this.ic.get(t);return e||new Promise((i,n)=>{csArray.prototype.push.call(this.kt,{assetUrl:t,successCallback:i,errorCallback:n}),this.zu||this.IC()})}async IC(){for(this.zu=!0;this.kt.length>0;){let{assetUrl:t,successCallback:e,errorCallback:i}=csArray.prototype.shift.call(this.kt),n=this.ic.get(t);if(n){e(n);continue}try{let c=(await this.PC("GET",t,"blob")).target;if(c.status===200){let u=c.getResponseHeader("Content-Type"),d=Number(c.getResponseHeader("Content-Length"));if(d&&Number(d)>this.CC){let f=`asset is too big, size = ${d} bytes`;i(f);continue}let E=new csFileReader;E.onload=()=>{let _={data:csString.prototype.split.call(E.result,"base64,")[1],mimeType:u!=null?u:""};this.$u+=d,this.$u>this.RC&&(this.$u=0,this.ic.clear()),this.ic.set(t,_),e(_)},E.onerror=()=>{i("Error converting XHR response to base64")},E.readAsDataURL(c.response)}else i(`error downloading ${t}: ${c.statusText}`)}catch(o){let c=`Error downloading resource ${t}: ${o.message}`;i(c)}}this.zu=!1}PC(t,e,i){return new Promise(function(n,o){let c=new XMLHttpRequest;c.open(t,e),c.responseType=i,c.onload=n,c.onerror=o,c.send()})}}return s})();function Bb(s,r){let t=jc({...r,async:!1}),e;return t(s,i=>e=i),e}var Fb=(()=>{class s{constructor(t,e){this.C=t,this.Uu=e,this.Qm=new Vd}OC(){let t=new Set;_e(document,NodeFilter.SHOW_ELEMENT).visitAll(i=>{t.has(i)||(this.Qm.scanElement(i),t.add(i))})}handleCommand(t){let e=t&&t.withAssets,i=[],n=new Set,o=new Set,c=[];e&&fc.isWebViewLocalAssetsSupported()?(this.Qm.onScannedAsset(({type:E,asset:f})=>{E==="stylesheet"&&!o.has(f.assetId)&&(o.add(f.assetId),csArray.prototype.push.call(c,f)),n.has(f.assetId)||(n.add(f.assetId),csArray.prototype.push.call(i,f))}),this.OC()):fc.isWebViewLocalAssetsSupported()||q.warn("Local asset is not supported on this browser");let u=$b(),d=csJSON.stringify(u);if(e){let E=Hc.generate();return this.NC(i,c,E),csJSON.stringify({serializedDom:d,serializationId:E})}return d}NC(t,e,i){e.length===0?this.ho(t,i):this.MC(t,e,i,(n,o)=>this.ho(n,o))}MC(t,e,i,n){let o=0,c=0,u=new Set(csArray.prototype.map.call(t,w=>w.assetId)),d=w=>!u.has(w),E=w=>{u.has(w.assetId)||(u.add(w.assetId),csArray.prototype.push.call(e,w),csArray.prototype.push.call(t,w))},f=w=>{for(let A of w)u.has(A.assetId)||(u.add(A.assetId),csArray.prototype.push.call(t,A));o++,o+c===e.length&&n(t,i)},_=w=>{c++,q.error("An error occurred while fetching a styleSheet: "+w),o+c===e.length&&n(t,i)};csArray.prototype.forEach.call(e,w=>{this.Uu.getStyleSheetAssets(w.assetId,f,_,d,E)})}ho(t,e){this.C.sendToParent($.Assets,{assets:t,serializationId:e})}}return s})();function $b(){return ku(),Mu(Bb(document))}var zb=(()=>{class s{constructor(t){this.f=t,this.Gu=null}isSdkTrackingContext(t){return Ot(t)&&He(t)&&L(t.sessionKey)&&Os(t.pageNumber)&&L(t.pageViewType)&&Ur(t.isRecording)}update(t){if(!this.isSdkTrackingContext(t)){q.warn(`webViewTrackingContext.service received wrong sdkTrackingContext, content:${csJSON.stringify(t)}`),this.Gu=null;return}this.Gu={...t,recordingConsentState:Pr.NOT_NEEDED,projectId:this.f.projectId,uxaDomain:this.f.uxaDomain,...this.f.smbConfig}}getTrackingContext(){return this.Gu}}return s})(),Gb=(()=>{class s{constructor(t){this.li=t,this.te=[]}handleCommand(t){if(!we(t))return;this.Rn(t);let e=this.li.getTrackingContext();e!==null&&this.jt(t,e)}executeRegisteredCallbacks(t){let e=t.trackingContext;e&&csArray.prototype.map.call(this.te,i=>this.jt(i,e))}Rn(t){csArray.prototype.push.call(this.te,t)}jt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),qb=(()=>{class s{constructor(t,e){this.Z=t,this.li=e}onIframeIntegrationCallback(t){let e=this.li.getTrackingContext();e!==null&&(t.trackingContext=e,this.Z.sendToChildren($.IntegrationCallback,t))}}return s})(),Dp=(()=>{class s{constructor(t){this.commandsService=t,this.In=new ld}registerChildCommands(){this.commandsService.register(ud,t=>this.In.handleCommand(t,this.Nr))}onParentRecordingContextChange(t){this.Nr={isRecording:t.isRecording,recordingStartTimestamp:t.recordingStartTimestamp||0,etrState:t.etrState||Se.ETR_OFF},this.In.executeCallbacks(this.Nr)}}return st([ar({wait:0,mode:"trailing"})],s.prototype,"onParentRecordingContextChange",null),s})(),Wb=["serializeWebView","webview:serializeWebView"],Yb=["setAssetTransformerMode","webview:setAssetTransformerMode"],Xb=["webview:onAfterScreenView"],Kb=(()=>{class s extends Dp{constructor(t,e,i,n,o,c,u){super(t),this.commandsService=t,this.C=e,this.Z=i,this.Or=n,this.kC=o,this.pt=c,this.f=u}init(){this.li=new zb(this.f),this.DC=new qb(this.Z,this.li),this.pt.addListener(this.DC),this.Zm=new Gb(this.li);let t=new Np(new Mp);this.xC=new Fb(this.C,t),this.ht()}onAfterPageViewCallback(t){this.Zm.executeRegisteredCallbacks(t)}ht(){super.registerChildCommands(),this.commandsService.register(ho,t=>{this.Zm.handleCommand(t)}),this.commandsService.register(Xb,t=>{this.li.update(t);let e=this.li.getTrackingContext();e!==null&&this.kC.emitAfterPageViewCallback({initiator:Zi.AfterPageView,trackingContext:e})}),this.commandsService.register(Wb,t=>this.xC.handleCommand(t)),this.commandsService.register(Yb,t=>{(t===gc||t===kp||t===mc)&&this.Or.setAssetProcessingMode(t)})}}return s})(),Jb=(()=>{class s{constructor(t){this.C=t,this.te={}}handleCommand(t){we(t)&&this.Rn(t)}executeRegisteredCallbacks(t){let e=t.trackingContext;if(e)if(t.callbackId){let i=this.te[t.callbackId];i&&this.jt(i,e)}else for(let i in this.te)this.jt(this.te[i],e)}Rn(t){let e=os.integer(),i={callbackId:e,initiator:Zi.AfterPageView};this.te[e]=t,this.C.sendToParent($.IntegrationCallback,i)}jt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),Qb=(()=>{class s{constructor(t){this.C=t,this.ki={}}handleCommand(t){He(t)&&we(t.callback)&&this.Cn(t.callback)}executePendingCallbacks(t){let{trackingContext:e,callbackId:i}=t;if(!i||!e)return;let n=this.ki[i];n&&(delete this.ki[i],this.jt(n,e.sessionKey))}Cn(t){let e=os.integer(),i={callbackId:e,initiator:Zi.GetSessionKey};this.ki[e]=t,this.C.sendToParent($.IntegrationCallback,i)}jt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),Zb=(()=>{class s{constructor(t,e){this.C=t,this.Z=e,this.rc={}}handleCommand(t,e){He(t)&&we(e)&&this.Cn(t,e)}executePendingCommand(t){let{trackingContext:e,callbackId:i}=t;if(!(!i||!e))if(this.rc[i]){let[n,o]=this.rc[i];n&&(delete this.rc[i],this.jt(e,n,o))}else this.Z.sendToChildren($.TrackingContextResultMessage,t)}Cn(t,e){let i=os.integer();this.rc[i]=[t,e],this.C.sendToParent($.TrackingContextRequestMessage,{callbackId:i})}jt(t,e,i){csSetTimeout(()=>{let n=cd(t,e);i(n)})}}return s})(),tT=(()=>{class s extends Dp{constructor(t,e,i){super(t),this.commandsService=t,this.C=e,this.Z=i}init(){this.ty=new Jb(this.C),this.ey=new Qb(this.C),this.sy=new Zb(this.C,this.Z),this.ht()}onAfterPageViewCallback(t){this.ty.executeRegisteredCallbacks(t)}onIntegrationSessionKeyCallback(t){this.ey.executePendingCallbacks(t)}onTrackingContextResultCallback(t){this.sy.executePendingCommand(t)}ht(){super.registerChildCommands(),this.commandsService.register(ho,t=>{this.ty.handleCommand(t)}),this.commandsService.register(hd,t=>this.ey.handleCommand(t)),this.commandsService.register(dd,(t,e)=>{this.sy.handleCommand(t,e)})}}return s})(),eT=(()=>{class s{constructor(t,e,i,n,o,c,u){this.E=t,this.nt=e,this.ce=i,this.Bt=n,this.lt=o,this.uo=c,this.br=u}init(){var t,e;this.uo&&this.lt&&((t=this.uo)===null||t===void 0||t.addSelector((e=this.lt)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ht(),this.ye=new el(this.ce,this.nt,this.Bt,this.uo,this.br)}Oo(){this.ye.start()}Ih(){this.ye.stop()}onParentSensitiveStatusChange(t){var e,i;t.maskedElementSettings&&this.nt.setMaskedElementSettingsFromParent(t.maskedElementSettings),t.capturedElementSelector&&this.Bt.setWhitelistedElementsSelector(t.capturedElementSelector,!1),t.encryptionSelectors&&((e=this.uo)===null||e===void 0||e.addSelector(t.encryptionSelectors),(i=this.lt)===null||i===void 0||i.setEncryptionSelectors(t.encryptionSelectors,!1)),t.started?this.Oo():this.Ih()}ht(){this.E.register(fo,t=>{this.Bt.setWhitelistedElementsSelector(t)}),this.E.register(ur,t=>{this.nt.setMaskedElementSettingsFromCommand(t)}),this.E.register(tl,t=>{var e,i;(e=this.lt)===null||e===void 0||e.setEncryptionSelectors(t),(i=this.uo)===null||i===void 0||i.addSelector(t)})}}return s})(),sT=(()=>{class s{constructor(t,e,i,n,o,c,u,d){this.S=t,this.E=e,this.nt=i,this.ce=n,this.it=o,this.Bt=c,this.Wt=u,this.br=d,this.ye=new el(this.ce,this.nt,this.Bt,void 0,this.br,this.it)}init(){this.it.init(),this.ht()}onStartAnalytics(){this.Rr()}onAfterArtificialPageView(){this.iy(),this.Rr()}onStopAnalytics(){this.iy()}Rr(){this.ye.start(),this.Wt.setSensitiveStatus({started:!0,useAnonymization:this.it.shouldUseAnonymization()}),this.S.emitSensitiveStatusChange()}iy(){this.ye.stop(),this.Wt.setSensitiveStatus({started:!1,useAnonymization:this.it.shouldUseAnonymization()}),this.S.emitSensitiveStatusChange()}ht(){this.E.register(fo,t=>{this.Bt.setWhitelistedElementsSelector(t),this.S.emitSensitiveStatusChange()}),this.E.register(ur,t=>{this.nt.setMaskedElementSettingsFromCommand(t),this.S.emitSensitiveStatusChange()})}}return s})(),iT=(()=>{class s{constructor(t,e,i,n,o,c,u,d,E){this.gt=t,this.S=e,this.f=i,this.C=n,this.Ps=o,this.E=c,this.mt=u,this.O=d,this.Wt=E,this.Fa=()=>{this.E.start(),this.Ar.start()}}start(){let t,e,i,n,o,c,u,d,E,f,_,w,A,V,U,P;this.O.schedule(()=>{if(o=new Ap,c=new Vc(()=>{}),A=new Uc,P=new vu,this.mt.isInIframeContext()){let C=new eT(this.E,o,c,A,V,U,P);C.init(),this.gt.addListener(C)}if(i=new Ii,f=new Rp(i),_=new cp(window.location,f),this.mt.isInWebViewContext()){let C=new Op(this.f),j=new Wr,F=new ao(this.f,_,j,C),M=new sT(this.S,this.E,o,c,F,A,this.Wt);M.init(),this.gt.addListener(M),this.S.addListener(M)}}),this.O.schedule(()=>{t=new hp(ns,this.f),e=new Ou(t),n=new _b(this.f,t,e,this.C,this.mt,this.gt,this.E,new Tu(q),this.Wt),this.gt.addListener(n)}),sr.isRecordingSupported()&&this.O.schedule(()=>{let C=new Nb(this.f,i,c,this.S,this.C,this.Ps,this.E,this.gt,this.mt,_,this.Wt,f,V);this.S.addListener(C),this.gt.addListener(C),C.init()}),this.O.schedule(()=>{E=new Iu(this.f);let C=new up(t,this.f.isChild),j=new dp(t),F=new pp(t),M=new fp;d=new lp(C,j,F,M),u=new yb(E,d,this.C,this.Ps,this.Wt)}),this.O.schedule(()=>{d.addListener(u),this.gt.addListener(u),this.S.addListener(u),this.S.addListener(n)}),this.O.schedule(()=>{let C;if(this.mt.isInWebViewContext()){let j=new Hb;this.Or=new jb(j),C=new Kb(this.E,this.C,E,this.Or,this.gt,d,this.f)}else C=new tT(this.E,this.C,E);this.gt.addListener(C),C.init()}),this.O.schedule(()=>{u.init(),n.init()}),this.O.schedule(()=>{var C,j,F,M;if(this.mt.isInWebViewContext()){let tt=new kb,ct=new bE(i,_),gt=new qd,Xt=new gE(gt,f,!!(!((j=(C=this.f)===null||C===void 0?void 0:C.experimental)===null||j===void 0)&&j.anonymizeNameInUrls)),$t=new _E(i,!((M=(F=this.f)===null||F===void 0?void 0:F.experimental)===null||M===void 0)&&M.anonymizeNameInUrls?f:void 0),O=new Db(_,ct,Xt,$t),z=new Lb(i,new od(i,null,null),tt,O,this.Or,this.S,_,gt),X=new Mb(this.C,z);X.init(),this.S.addListener(X),this.gt.addListener(X)}else{let tt=new mb(this.C);this.S.addListener(tt)}}),this.Ar=new Fc,this.O.schedule(()=>{this.Ar.onLoad(()=>{this.S.emitStartTracking()}),this.Fa()})}}return s})(),rT=2500,nT=500,oT=(()=>{class s extends Pp{constructor(t,e,i=nT){super(rT),this.gt=t,this.f=e,this.LC=i,this.zi=!1,this.nc=void 0,this.qu=!0}onStart(){this.VC()}onStop(){this.buffer.reset(),this.Wu&&window.csClearInterval(this.Wu)}sendToParent(t,e){var i;if(this.UC()){(i=this.Yu)===null||i===void 0||i.call(this,t,e);return}if(this.jC(t)){let n=this.buildChildBaseMessage(t,e);this.buffer.addMessage(n)}}UC(){return this.zi&&this.qu}jC(t){return!this.zi||t===$.Commands}onWebViewEvent(t){this.Yu=t}setAnalyticsStatus(t){this.qu=t,this.qu&&this.HC()}sendAllMessagesFromBuffer(){var t;let e=this.buffer.getMessages();for(let i of e)(t=this.Yu)===null||t===void 0||t.call(this,i.type,i.content);this.buffer.reset()}HC(){var t;if(!this.zi)return;let e=this.buffer.getMessages();for(let i of e)i.type===$.Commands&&((t=this.Yu)===null||t===void 0||t.call(this,i.type,i.content));this.buffer.reset()}buildChildBaseMessage(t,e){return{type:t,content:e}}VC(){this.zi=kt.isCSJavascriptBridgeDefined(),this.zi?this.ry():this.Wu=window.csSetInterval(()=>{this.zi=kt.isCSJavascriptBridgeDefined(),this.zi&&(this.ry(),window.csClearInterval(this.Wu))},this.LC)}ry(){this.BC(),this.nc=kt.getBridgeVersion(),this.nc===null?this.sendAllMessagesFromBuffer():this.nc>=xb?(this.FC(),kt.notifyIsReadyForTracking()):q.warn(`bridge version ${this.nc} is not supported`)}BC(){let t={message:csJSON.stringify(this.f),errorCode:"TAG_CONFIGURATION",level:yt.critical};kt.sendLog(t)}FC(){this.gt.emitStopAnalytics()}}return s})(),aT=(()=>{class s{constructor(){this.Nr=null}getRecordingContext(){return this.Nr===null?{isRecording:!1}:this.Nr}setRecordingContext(t){this.Nr=t}}return s})(),cT=(()=>{class s{constructor(){this.cc={started:!1,useAnonymization:!0}}getSensitiveStatus(){return this.cc}setSensitiveStatus(t){this.cc=t}getElementSensitiveStatus(t){return this.cc.started?Y.isMaskedElement(t)||Y.isMaskedElementChild(t)?fe.MASKED:_u.shouldEncrypt(t)?fe.ENCRYPTED:Cs.isEditableNode(t)?fe.ANONYMIZED:this.cc.useAnonymization?is.isWhitelistedElement(t)?fe.CAPTURED:fe.ANONYMIZED:fe.CAPTURED:fe.ANONYMIZED}}return s})(),lT=(()=>{class s{constructor(t,e,i){this.f=t,this.mt=e,this.O=i}init(){this.f.isChild=!0,wi.isSupported()&&wi.setDigestSalt(this.f.projectId.toString());let t,e,i,n,o,c,u,d,E;this.O.schedule(()=>{t=new Cp(this.O),e=new lb,i=new aT,n=new cT;let f=[hc.UXA];this.mt.isInWebViewContext()?(window.cs_wvt=window.cs_wvt||[],csArray.prototype.push.call(f,hc.WVT),o=new oT(e,this.f)):o=new gb(this.f,t,i,n,e),c=new np(f)}),this.O.schedule(()=>{u=new ub(c,o),d=new hb(u)}),this.O.schedule(()=>{d.init()}),this.O.schedule(()=>{this.f.implementations&&(E=new bp(this.f.implementations,c,this.O),E.init(),t.addListener(E))}),this.O.schedule(()=>{}),this.O.schedule(()=>{t.addListener(d)}),this.O.schedule(()=>{t.emitInitTracking()}),this.O.schedule(()=>{new iT(e,t,this.f,o,i,c,this.mt,this.O,n).start()})}}return s})(),hT=(()=>{class s{setItem(t,e){window.sessionStorage.setItem(t,e)}getItem(t){return window.sessionStorage.getItem(t)}removeItem(t){window.sessionStorage.removeItem(t)}}return s})(),uT=(()=>{class s{constructor(t,e,i){this.f=t,this.mt=e,this.hs=i}start(){var t,e,i,n,o;if(window.CSQ_TAGS=csArray.prototype.concat.call(window.CSQ_TAGS||[],this.f.projectId),window.UXAnalytics)return;window.UXAnalytics={};let c=new hT,u=new Ud(!!(!((t=this.f.taskSchedulerOptions)===null||t===void 0)&&t.enabled),(e=this.f.taskSchedulerOptions)===null||e===void 0?void 0:e.maxProcessingTime,(i=this.f.taskSchedulerOptions)===null||i===void 0?void 0:i.waitDuration),d=new tm(this.mt,this.f);d.init();let E=new sm(this.f,d);if(this.mt.isTopWindowTracker()&&E.canTrack()){if(!((n=window.CSProtectnativeFunctionsLogs)===null||n===void 0)&&n.Warning&&q.warn(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Warning}`),!((o=window.CSProtectnativeFunctionsLogs)===null||o===void 0)&&o.Critical){q.error(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Critical}`);return}Qg();let _=new Cp(u),w=new eb(this.f,d,this.hs,u,_,c);this.f.isQuotaEnabled()?w.initWithQuota():w.init()}else!this.mt.isTopWindowTracker()&&E.canTrackInChild()&&new lT(this.f,this.mt,u).init();let f=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive(_){return Y.isMaskedElement(_)||Y.isMaskedElementChild(_)},isAttributeSensitive(_,w){return Y.isMaskedAttribute(_,w)},getSensitiveAttributes(_){return Fn(_.attributes,w=>Y.isMaskedAttribute(_,w.name))}},Console:{warn(_){f&&console.warn("cs.tracking.warning",_)},error(_){f&&console.error("cs.tracking.error",_)}},Version:Nc},window.CSFrameCommunication||(window.CSFrameCommunication=Dn,Dn.isActivable()&&Dn.waitForConnection(),this.f.isCsCrosswritingHeap()&&Dn.waitForHeapVisualLabeler(this.f.getHeapWebAppUri()))}}return st([ie("main.start"),G("main.start")],s.prototype,"start",null),s})(),dT=(()=>{class s{constructor(){}send(t,e,i=yt.warn){let n={message:t,errorCode:e,level:i};kt.sendLog(n)}}return s})(),pT=(()=>{class s{constructor(t,e,i){this.YC=t,this.Ju=e,this.lc=i,this.Qu=!1,this.Zu=!1,this.td=[],this.push=n=>{try{if(!this.Qu)return csArray.prototype.push.call(this.td,n),this.XC();this.fo&&this.sd&&(this.fo.setLevel(n.level),this.sd.captureException(n.error,void 0,this.fo))}catch{}},this.KC=()=>{var n;try{this.Qu=!0,this.hc(),this.fo=this.Ju(),this.sd=(n=this.fo)===null||n===void 0?void 0:n.getClient(),this.bh()}catch{}},this.Ta=()=>{try{this.hc(),this.lc&&this.lc()}catch{}},this.hc=()=>{try{this.Zu=!1,this.Ns&&(this.Ns.removeEventListener("abort",this.hc),this.Ns.removeEventListener("error",this.hc))}catch{}},this.bh=()=>{var n;for(let o=0;o<this.td.length;o++){let c=this.td[o];(n=this.sd)===null||n===void 0||n.captureException(c.error,void 0,this.fo)}},this.XC=()=>{var n;this.Qu||this.Zu||(this.Zu=!0,this.Ns=document.createElement("script"),this.Ns.src=this.YC,this.Ns.crossOrigin="anonymous",this.Ns.addEventListener("load",this.KC,{once:!0,passive:!0}),this.Ns.addEventListener("abort",this.Ta),this.Ns.addEventListener("error",this.Ta),(n=document.getElementsByTagName("head")[0])===null||n===void 0||n.appendChild(this.Ns))}}}return s})(),fT={[yt.debug]:"debug",[yt.warn]:"warning",[yt.implementation]:"log",[yt.error]:"error",[yt.critical]:"fatal"},gT=5,mT=(()=>{class s{constructor(t,e,i){this.f=t,this.hs=e,this.rd=i,this.M=new Ii,this.oy=0,this.Ju=()=>{if(window.UXAnalytics.Sentry)try{let n=this.f.environment,o=window.UXAnalytics.Sentry.init({dsn:this.f.getSentryDSNUri(),environment:n,sampleRate:1,release:`csq-lite-tag-${Nc}${n==="production"?"":`-${n}`}`,dist:n,beforeSend:u=>({...u,message:this.M.anonymizePII(u.message||"")})}),c=this.Dr();return o.setContext("Session Data",this.Dr()),o.setTags({projectId:c.projectId}),o.setUser({id:c.projectId}),o}catch(n){this.rd.send(`Error initializing Sentry: ${n}`,"",yt.error);return}},this.lc=()=>{this.rd.send("Sentry failed to load","",yt.error)},this.JC=new pT(this.f.getSentryFileUri(),this.Ju,this.lc)}Dr(){let t=this.hs.getVisitorService(),e=t==null?void 0:t.getVisitor(),i=this.hs.getSessionService(),n=i==null?void 0:i.getSession();return{projectId:this.f.projectId,sessionNumber:e==null?void 0:e.visitsCount,pageNumber:n==null?void 0:n.pageNumber}}QC(t){return this.oy<gT&&csArray.prototype.indexOf.call(["error","critical"],t)>-1}send(t,e="",i=yt.warn){if(this.QC(i))return this.oy++,this.JC.push({error:typeof t=="string"?new Error(t):t,level:fT[i],code:e});this.rd.send(t,e,i)}}return s})(),yT=(()=>{class s{constructor(t,e,i){this.W=t,this.M=e,this.ZC=i,this.kt=[],this.tI=Mc().v}flush(){this.kt.length!==0&&(this.W.send({m:csArray.prototype.map.call(this.kt,t=>({n:t.name,p:t.parameter,v:t.value})),p:this.M.anonymizePII(window.location.pathname),pid:this.ZC,v:this.tI}),this.kt=[])}push(t){csArray.prototype.push.call(this.kt,...t),this.flush()}}return s.DEBOUNCE_INTERVAL=5e3,st([Qp(s.DEBOUNCE_INTERVAL)],s.prototype,"flush",null),s})();function ET(s,r){let t=s.validationRate/10,e=os.boolean(t);if((s.environment==="staging"||!1||e)&&!r.isInWebViewContext())try{let o=$d.create(q.warn,r.isTopWindowTracker()),u=new pu(o).create(s.getMetricsUri(),!0),d=new Ii,E=new yT(u,d,s.projectId);at.setService(E)}catch(o){q.warn(`Error initializing metrics: ${o.message}`)}}function ST(){var s;cf();let r=new _g(window.CS_CONF);window._uxa=window._uxa||[],r.processOptionOverrides(window._uxa);let t=new wg(window,r);t.init();let e=new Wg;if(Wp(q),Yg(),q.computeIsActive(r.validationRate),t.isTopWindowTracker()){let n=new $g(r,e),o=r.useSentry?new mT(r,e,n):n;q.setStrategy(o)}else if(t.isInIframeContext()){let n=new qg(r);q.setStrategy(n)}else if(t.isInWebViewContext()){let n=new dT;q.setStrategy(n)}!((s=r==null?void 0:r.experimental)===null||s===void 0)&&s.disableMutationObserverProtection&&window.csMutationObserver&&(window.csMutationObserver=Ai(window,"MutationObserver")),Yf(),ET(r,t),new uT(r,t,e).start()}window.CSCurrentScript=document.currentScript;csSetTimeout(()=>{try{Xg(ST)}catch{}})});var ri={};zp(ri,{default:()=>vT});mi();mi();try{let s=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},r=new s.Error().stack;r&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[r]="dff4b59b-2b05-4f2e-ac6d-530c3c50f4e1",s._sentryDebugIdIdentifier="sentry-dbid-dff4b59b-2b05-4f2e-ac6d-530c3c50f4e1")}catch{}var xp=ul(ll());gi(ri,ul(ll()));var vT=xp.default;})();

// signature-335385030dac9da20d6226dec6f02de3e9b3f16f62a7100f95b9f2d0bc6be62e
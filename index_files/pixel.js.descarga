function launch_chaty(e=""){if(void 0!==e&&""!==e){if(document.getElementsByClassName("csaas-outer-forms.active").length&&document.querySelectorAll(".csaas-outer-forms.active").forEach((function(e,t){e.classList.remove("active")})),document.getElementsByClassName("csaas").length&&document.querySelectorAll(".csaas.form-open").forEach((function(e,t){e.classList.remove("form-open")})),document.getElementById(`csaas-${e}`)){let t=document.getElementById(`csaas-${e}`);t.classList.contains("has-single")||t.classList.add("csaas-open")}}else document.getElementsByClassName("csaas-widget").length&&document.querySelectorAll(".csaas-widget:not(.has-single)").forEach((function(e,t){e.classList.add("csaas-open")}))}function close_chaty(){document.getElementsByClassName("csaas-outer-forms").length&&document.querySelectorAll(".csaas-outer-forms.active").forEach((function(e,t){e.classList.remove("active")})),document.getElementsByClassName("csaas").length&&document.querySelectorAll(".csaas.form-open").forEach((function(e,t){e.classList.remove("form-open")})),document.getElementsByClassName("csaas-widget").length&&document.querySelectorAll(".csaas-widget.csaas-open").forEach((function(e,t){e.classList.remove("csaas-open")}))}function open_chaty_whatsapp_popup(e=""){if(close_chaty(),void 0!==e&&""!==e)document.getElementById(`csaas-widget-${e}`)&&document.getElementById(`channel-WhatsApp-${e}`)&&($chatyButton=document.getElementById(`csaas-widget-${e}`),$chatyButton.classList.add("active"),$whatsappButton=document.getElementById(`channel-WhatsApp-${e}`),$whatsappButton&&$whatsappButton.click());else if(document.getElementsByClassName("csaas-whatsapp-form-button").length){const e=document.querySelector(".csaas-whatsapp-form-button");e&&e.click()}}function close_chaty_whatsapp_popup(){document.getElementsByClassName("csaas-outer-forms").length&&document.querySelectorAll(".csaas-outer-forms.active").forEach((function(e,t){e.classList.remove("active")})),document.getElementsByClassName("csaas").length&&document.querySelectorAll(".csaas").forEach((function(e,t){e.classList.remove("form-open")}))}function open_chaty_contact_form(e=""){if(close_chaty(),void 0!==e&&""!==e)document.getElementById(`csaas-widget-${e}`)&&document.getElementById(`channel-WhatsApp-${e}`)&&($chatyButton=document.getElementById(`csaas-widget-${e}`),$chatyButton.classList.add("active"),$whatsappButton=document.getElementById(`channel-Contact_Us-${e}`),$whatsappButton&&$whatsappButton.click());else if(document.getElementsByClassName("csaas-contact-form-button").length){const e=document.querySelector(".csaas-contact-form-button");e&&e.click()}}function close_chaty_contact_form(){document.getElementsByClassName("csaas-outer-forms").length&&document.querySelectorAll(".csaas-outer-forms.active").forEach((function(e,t){e.classList.remove("active")})),document.getElementsByClassName("csaas").length&&document.querySelectorAll(".csaas").forEach((function(e,t){e.classList.remove("form-open")}))}(()=>{"use strict";let e,t,a,s=new Object,n="pixel-chaty",c=[],i="",o=!1,l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))?1:0,r="",d=document.title,h=["System Stack","Arial","Tahoma","Verdana","Helvetica","Times New Roman","Trebuchet MS","Georgia"],g=!1,u="https://cdn.chatway.app/widget.js?id=";e="https://prod-api.chaty.app/api/pixel/",t="https://cdn.chaty.app/";let p=e+"widgets",m=function(){let e=0;return"object"==typeof Ecwid&&(e=Ecwid.getOwnerId()),e},f=function(e){e+="=";let t=document.cookie.split(";");for(let a=0;a<t.length;a++){let s=t[a];for(;" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return null},w=function(e,t){var a=function(e,t){var a=f("cSaasWidget_"+e),s=[];if(null!=a&&""!=a&&(s=JSON.parse(a)),s.length>0)for(var n=0;n<s.length;n++)if(s[n].k==t)return s[n].v;return null}(e,t);if(null!=a&&""!=a){a=new Date(a);var s=Math.abs(new Date-a);return Math.floor(s/864e5)>=1}return!0},v=function(e,t,a){let s=new Date;s.setTime(s.getTime()+24*a*60*60*1e3);let n="expires="+s.toUTCString();document.cookie=e+"="+t+"; "+n+"; path=/; SameSite=Lax"},_=function(e,t){var a=f("cSaasWidget_"+e),s=[];null!=a&&""!=a&&(s=JSON.parse(a));var n=!1;if(s.length>0)for(var c=0;c<s.length;c++)s[c].k==t&&(n=!0,s[c].v=new Date);n||s.push({k:t,v:new Date}),a=JSON.stringify(s),v("cSaasWidget_"+e,a,"7")},y=function(e){let t=f(e);return""!=t&&null!==t};function b(e){return"1"==e||1==e||1==e||"true"==e}function x(e){return null==e||""==e||"null"==e}let k=function(e){if("string"==typeof e)return e;let t=[];for(let a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},L=function(){if(!document.getElementById("csaas-elements")){const e=document.createElement("div");e.id="csaas-elements",e.innerHTML="",document.body.appendChild(e)}};function C(){let e=t+"pixel.css";if("function"==typeof RocketBrowserCompatibilityChecker&&(e+="?nowprocket=1&no_optimize=1"),!document.getElementById("chaty-saas-css")){let t=document.getElementsByTagName("head")[0],a=document.createElement("link");a.id="chaty-saas-css",a.rel="stylesheet",a.type="text/css",a.href=e,a.media="all",t.appendChild(a)}}let E=function(e){L(),document.getElementById("csaas-elements").innerHTML+=e};function A(e){return I("csaas-widget-"+e)}function S(e){return I("csaas-"+e)}function $(e){return!!document.getElementById(e)}function I(e){return!!document.getElementById(e)&&document.getElementById(e)}function M(e=""){const t=document.createElement("div");return t.innerHTML=e,/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u0591-\u05F4\uFB1D-\uFB4F\u2000-\u206F\uFB50-\uFDFF\uFE70-\uFEFF\u202A-\u202E\u2066-\u2069\u0600-\u06FF]/.test(t.textContent)?"rtl":"ltr"}function B(e){return null==e||""==e||""==e.trim()||null==e||"null"==e}function T(e){return x(e)?"":e.replace(/\n/g,"<br />")}function q(e){let t=document.createElement("link");t.rel="stylesheet",t.href=`https://fonts.googleapis.com/css2?family=${e}&display=swap`,document.getElementsByTagName("head")[0].appendChild(t)}function H(e){if(!document.getElementById("csaas-custom-css")){let e=document.getElementsByTagName("head")[0],t=document.createElement("style");t.id="csaas-custom-css",e.appendChild(t)}document.getElementById("csaas-custom-css").innerHTML+=e}let j=function(e,t){if(!document.getElementById(e)){const a=document.createElement("div");a.id=e,a.innerHTML=t,document.body.appendChild(a)}};function F(e,t){for(e=e.trim();e.charAt(0)==t;)e=e.substring(1);for(;e.charAt(e.length-1)==t;)e=e.substring(0,e.length-1);return e}function N(e){return(e=(e=(e=F(e,"+")).replace(/ /g,"")).replace(/-/g,"")).replace(/_/g,"")}function O(e){return e.replace(/./gm,(function(e){return e.match(/[a-z0-9\s]+/i)?e:"&#"+e.charCodeAt(0)+";"}))}function P(e){document.getElementsByTagName("body")[0]&&document.getElementsByTagName("body")[0].classList.add(e)}function U(e){document.getElementsByTagName("body")[0]&&document.getElementsByTagName("body")[0].classList.remove(e)}function z(){P("has--not--chatway"),U("csaas-has-chatway"),U("has--chaty")}let R,W=e+"widgets/views",D=e+"widgets/visitors",X=function(e){return"custom"==e.position?e.custom_position:e.position},Z=function(e){return"vertical"!=e.settings.icon_view?"top":"right"==X(e.settings)?"left":"right"};function Y(e){let t=A(e),a=S(e);if(!t||!a)return;t.classList.add("active");let s=function(e){let t=[],a=A(e);return a?(a.querySelectorAll(".csaas-link").forEach((function(e,a){let s=e.getAttribute("data-channel");x(s)||t.push(s)})),t):t}(e);t.querySelectorAll(".csaas-default-open").forEach((function(s,n){let c=s.getAttribute("data-channel");if("WhatsApp"==c&&w(e,"c-"+c)){let s=`csaas-form-${e}-${c}`,n=`channel-${c}-${e}`;if(I(s)&&I(n)){let n=I(s);n.classList.add("is-active"),n&&(a=S(e),a.classList.remove("csaas-open"),t.classList.add("active"),t.classList.add("form-open"),n.classList.add("active"))}}}));var n=w(e,"v-widget");const i=J();if(n&&!i){_(e,"v-widget");let i=t.getAttribute("data-user"),o=0,r=0,d=t.getAttribute("data-key"),h="";if(null!=typeof c[d]){let t=f("activeCsaasWidgets");null!=t||(t=e,v("activeCsaasWidgets",t,1))}if(a.classList.contains("has-single")?(o=1,s.forEach((function(t,a){w(e,"v-"+t)&&void 0!==t&&(_(e,"v-"+t),h+=`&channels[]=${t}`)}))):a.classList.contains("csaas-open")&&(r=1,s.forEach((function(t,a){w(e,"v-"+t)&&void 0!==t&&(_(e,"v-"+t),h+=`&channels[]=${t}`)}))),n){let t={widgetId:e,userId:i,isMobile:l,isOpen:r,isSingle:o};t=k(t)+h;let a=new XMLHttpRequest;a.open("POST",W,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){},a.send(t)}!function(e){let t=A(e),a=J();if(!t)return;let s=t.getAttribute("data-user");if(!y("triggeredFor"+s)&&!a){v("triggeredFor"+s,e,30);let t={widgetId:e,channels:[],userId:s};t=k(t);let a=new XMLHttpRequest;a.open("POST",D,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){},a.send(t)}}(e)}}let V=function(){let e="";return"object"==typeof Shopify&&(e=Shopify.shop),e};function J(){return void 0!==window.Shopify&&void 0!==window.Shopify.designMode&&window.Shopify.designMode}let G,K=!1,Q=0,ee=!1,te=!1,ae=[],se=0,ne=0;function ce(){te&&document.getElementsByClassName(".on-csaas-exit-intent")&&document.querySelectorAll(".on-csaas-exit-intent").forEach((function(e,t){e.classList.remove("on-csaas-exit-intent"),ie(e.getAttribute("data-id"))}))}function ie(e){let t=A(e);t&&(Y(e),t.classList.remove("on-csaas-delay"),t.classList.remove("on-csaas-exit-intent"),t.classList.remove("on-csaas-scroll"),document.getElementsByClassName(".csaas.on-csaas-delay")||(clearInterval(G),K=!1),document.getElementsByClassName(".csaas.on-csaas-exit-intent")||(te=!1),document.getElementsByClassName(".csaas.on-csaas-scroll")||(ee=!1))}let oe=function(e){for(e=e.toString();e.length<2;)e="0"+e;return e};function le(e,t){if(isNaN(t)){let a=new Date(e.toLocaleString("en-US",{timeZone:t})),s=e.getTime()-a.getTime();return new Date(e.getTime()-s)}{let a=new Date;if(a=a.toLocaleString("en-US",{timeZone:"UTC"}),a=new Date(a),-1!=t.indexOf("+")){let e=t.replace("+",""),s=parseInt(e),n=60*parseFloat(e%s);n=a.getUTCMinutes()+n,n>59&&(s+=parseInt(n/60),n%=60),a.setUTCHours(a.getUTCHours()+s,n)}else if(-1!=t.indexOf("-")){let e=t.replace("-",""),s=parseInt(e),n=60*parseFloat(e%s);n=a.getUTCMinutes()-n,n<0&&(s-=parseInt(n/60),n%=60),a.setUTCHours(a.getUTCHours()-s,-n)}let s=e.getTime()-a.getTime();return new Date(e.getTime()-s)}}function re(e){return Object.keys(e).filter((t=>e[t])).join(" ")}let de=function(e){return!o&&b(e.is_agent)&&(e.is_agent=!1,e.agents.length&&!e.value&&(e.value=e.agents[0].value,e.channel_account_type=e.agents[0].channel_account_type,e.custom_image_url=e.agents[0].custom_image_url,e.icon_color=e.agents[0].icon_color,e.is_desktop=e.is_agent_desktop,e.is_mobile=e.is_agent_mobile,(e=pe(e)).agents=[])),e},he=e+"widgets/channel/click";function ge(e,a,s,n,c,i){let o="",r="";if(b(e.is_agent))e.url="javascript:;",e.target="",o+=" csaas-agent-button ";else{if("Contact_Us"==e.channel_type)!function(e,a,s){let n="",c=$e();n+="<div style='display:none;' class='csaas-outer-forms csaas-form-"+a+"' data-channel='"+e.channel_type+"' id='csaas-form-"+a+"-"+e.channel_type+"' data-widget='"+a+"' data-index='"+s+"'>",n+="<div class='csaas-form'>",n+="<div class='csaas-form-body'>",n+=`<div role='button' id="hide-form-${a}" dir="${M(e.contact_form.title)}" class='close-contact-form'><svg width='15' height='9' viewBox='0 0 15 9' fill='none' xmlns='http://www.w3.org/2000/svg'> <path d='M1 1L7.31429 8L14 1' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/> </svg></div>`,n+=`<div id="csaas-form-title-${a}" dir="${M(e.contact_form.title)}" class='csaas-form-title csaas-contact-form-title'></div>`,n+="<form class='csaas-contact-form' action='' method='' data-id='"+a+"' data-user='"+c+"'>",n+="<div class='csaas-form-info'>",n+="<div class='csaas-form-data' id='csaas-form-data-"+a+"'>",n+="</div>",n+="<div class='csaas-form-ajax-message csaas-form-ajax-"+a+"'>",n+="</div>",n+="</div>",n+="<div class='csaas-form-data-response'>",n+="<div class='csaas-form-success'>",n+="<img src='"+t+"images/form-success.png' />",n+="<div class='csaas-form-ajax-message csaas-form-ajax-"+a+"'>",n+="</div>",n+="</div>",n+="<div class='csaas-form-other-button'>",n+="<button type='button' name='button' class='csaas-another-form-button'>Submit another form</button>",n+="</div>",n+="</div>",n+="</form>",n+="</div>",n+="</div>",n+="</div>",j(`csaas-element-${e.channel_type}-${a}`,n),$("csaas-form-title-"+a)&&(I("csaas-form-title-"+a).innerHTML=O(e.contact_form.title));let i,o=I("csaas-form-data-"+a);Object.keys(e.contact_form.form_fields).forEach((function(t,s){if(i="",(s=e.contact_form.form_fields[t]).is_active){let e="";if("name"==t?(e="Name",x(s.field_title)||(e=O(s.field_title)),i="<label for='csaas-input-"+t+"-"+a+"'>"+e+"</label>",i+="<input type='text' name='"+t+"' class='csaas-input-field csaas-input-"+t+"' id='csaas-input-"+t+"-"+a+"' />"):"email"==t?(e="Email",x(s.field_title)||(e=O(s.field_title)),i="<label for='csaas-input-"+t+"-"+a+"'>"+e+"</label>",i+="<input type='email' name='"+t+"' class='csaas-input-field csaas-input-"+t+"' id='csaas-input-"+t+"-"+a+"' />"):"phone"==t?(e="Phone",x(s.field_title)||(e=O(s.field_title)),i="<label for='csaas-input-"+t+"-"+a+"'>"+e+"</label>",i+="<input type='text' name='"+t+"' class='csaas-input-field csaas-input-"+t+"' id='csaas-input-"+t+"-"+a+"' />"):"message"==t&&(e="Message",x(s.field_title)||(e=O(s.field_title)),i="<label for='csaas-input-"+t+"-"+a+"'>"+e+"</label>",i+="<textarea name='"+t+"' class='csaas-input-field csaas-textarea csaas-input-"+t+"' id='csaas-input-"+t+"-"+a+"' ></textarea>"),!x(i)){o.innerHTML+="<div class='csaas-form-field'>"+i+"</div>";let e=I("csaas-input-"+t+"-"+a);e.setAttribute("placeholder",s.value),e.setAttribute("dir",M(s.value)),s.is_required&&(e.classList.add("is-required"),e.setAttribute("required",!0))}}}));let l="";o.innerHTML+="<div class='csaas-form-field'><button id='form-button-"+a+"' type='submit' name='submit' dir='"+M(e.contact_form.submit_button_text)+"' class='csaas-form-button' ><span class='csaas-form-loader'></span><span class='button-text'>"+O(e.contact_form.submit_button_text)+"</span></button></div>",l+="#csaas-form-"+a+"-"+e.channel_type+" .csaas-form-button {background:"+e.contact_form.submit_btn_bg_color+"}",l+="#csaas-form-"+a+"-"+e.channel_type+" .csaas-another-form-button {background: "+e.contact_form.submit_btn_bg_color+"}",l+="#csaas-form-"+a+"-"+e.channel_type+" .csaas-contact-form-title {background-color: "+e.contact_form.submit_btn_bg_color+"}",l+="#csaas-form-"+a+"-"+e.channel_type+" input:focus {border-color:"+e.contact_form.submit_btn_bg_color+"}",l+="#csaas-form-"+a+"-"+e.channel_type+" textarea:focus {border-color:"+e.contact_form.submit_btn_bg_color+"}",l+="#csaas-form-"+a+"-"+e.channel_type+" .csaas-form-button {color: "+e.contact_form.submit_btn_txt_color+"}",x(l)||H(l)}(e,n,c),e.url="javascript:;",e.target="",o+=" has-csaas-box csaas-contact-form-button";else if("WhatsApp"==e.channel_type)if(b(e.has_welcome_message))e.url="javascript:;",e.target="",o+=" has-csaas-box csaas-whatsapp-form-button",function(e,a,s){e.value=e.value.replace(/ /g,"");let n="https://web.whatsapp.com/send",c="";l?n="https://api.whatsapp.com/send":(n=b(e.is_use_web_version)?"https://web.whatsapp.com/send":"https://api.whatsapp.com/send",c="_blank");const i=e.heading?e.heading:"",o=`\n                <div class='csaas-whatsapp-header' dir='${M(i)}'>\n                    <img width="32" height="32" loading="lazy" src="${t}images/wa-logo.png" />\n                    <div class='csaas-whatsapp-title'>${i}</div>\n                    <div class='csaas-whatsapp-close-btn'>\n                        <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M1 1L7.31429 8L14 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </svg>\n                    </div>\n                </div>\n            `,r=x(e.chat_welcome_message)?"":`\n                <span class="welcome-message">${e.chat_welcome_message}</span>\n            `,d=x(e.profile_name)?"":`\n                <span class="profile-name">${O(e.profile_name)}</span>\n            `,h=x(e.profile_image_url)?"":`\n                <img \n                    class='csaas-whatsapp-profile' \n                    width="28" \n                    height="28" \n                    src="${e.profile_image_url}" \n                    loading="lazy" \n                    alt="${e.title}" \n                />\n            `,g={"csaas-whatsapp-body":!0,"has-header":!x(e.heading)},u={"csaas-whatsapp-message":!0,"has-profile-image":!x(e.profile_image_url),"hide-whatsapp-message":x(e.profile_image_url)&&x(e.chat_welcome_message)&&x(e.profile_name)},p=x(r)?`<div class="${re(g)}"></div>`:`\n                <div class="${re(g)}" dir='${M(r)}'>                    \n                    ${h}\n                    <div class="${re(u)}">\n                        ${d}\n                        ${r}\n                        <span class="time">${function(){const e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}()}</span>\n                    </div>\n                </div>`,m=x(e.wa_placeholder_text)?"":e.wa_placeholder_text,f=(w=[o,p,`\n                <div class="csaas-whatsapp-footer" dir='${M(r)}'>\n                    <form \n                        action="${n}" \n                        target="${c}" \n                        class='whatsapp-csaas-form' \n                        data-widget="${a}"\n                        data-channel="${e.channel_type}"\n                    >\n                        <div class='csaas-whatsapp-data'>\n                            <input placeholder="${m}" name='text' type='text' class='csass-whatsapp-input' id='csass-whatsapp-input-${a}' />\n                            <button type='submit' class="whatsapp-csaas-button" >\n                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n                                    <g clip-path="url(#clip0_9452_6982)">\n                                    <path d="M18.5703 9.99996L2.66037 17.6603L5.60665 9.99996L2.66037 2.33963L18.5703 9.99996Z" fill="white" stroke="white" stroke-width="1.6625" stroke-linecap="round" stroke-linejoin="round"/>\n                                    <path d="M8.24069 9.99947L3.07723 9.99992" stroke="#C6D7E3" stroke-width="1.6625" stroke-linecap="round" stroke-linejoin="round"/>\n                                    </g>\n                                    <defs>\n                                    <clipPath id="clip0_9452_6982">\n                                        <rect width="20" height="20" fill="white"/>\n                                    </clipPath>\n                                    </defs>\n                                </svg>\n                            </button>\n                        </div>\n                        <input type='hidden' name='phone' value='${e.value}' />\n                    </form>\n                </div>\n            `],`\n                <div \n                    style='display:none;' \n                    class='csaas-outer-forms csaas-whatsapp-outer-forms csaas-form-${a}' \n                    data-channel='${e.channel_type}' \n                    id='csaas-form-${a}-${e.channel_type}' \n                    data-widget='${a}' data-index='${s}'\n                >\n                    <div class='csaas-whatsapp-form'>\n                        ${w.join("")}\n                    </div>\n                </div>\n            `);var w;if(j(`csaas-element-${e.channel_type}-${a}`,f),!x(e.pre_set_message)){let t=e.pre_set_message,s=document.title;if(x(s)?(t=t.replace(/{title}/g,""),t=t.replace(/(title)/g,"")):(t=t.replace(/{title}/g,s),t=t.replace(/(title)/g,s)),t=t.replace(/{url}/g,window.location),t=t.replace(/(url)/g,window.location),t=t.replace(/{URL}/g,window.location),t=t.replace(/(URL)/g,window.location),$(`csass-whatsapp-input-${a}`)){let e=I(`csass-whatsapp-input-${a}`);e.value=t,e.setAttribute("dir",M(t))}}}(e,n,c);else{e.value=e.value.replace(/ /g,"");let t="";if(!x(e.pre_set_message)){t=decodeURI(e.pre_set_message);let a=document.title;x(a)?(t=t.replace(/{title}/g,""),t=t.replace(/(title)/g,"")):(t=t.replace(/{title}/g,a),t=t.replace(/(title)/g,a)),t=t.replace(/{url}/g,window.location),t=t.replace(/{URL}/g,window.location),t=t.replace(/(URL)/g,window.location),t=t.replace(/(url)/g,window.location),t=encodeURIComponent(t)}l?e.url=""!=t?"https://api.whatsapp.com/send/?phone="+e.value+"&text="+t:"https://api.whatsapp.com/send/?phone="+e.value:""!=t?b(e.is_use_web_version)&&!l?(e.target="_blank",e.url="https://web.whatsapp.com/send?phone="+e.value+"&text="+t):e.url="https://api.whatsapp.com/send/?phone="+e.value+"&text="+t:b(e.is_use_web_version)&&!l?(e.target="_blank",e.url="https://web.whatsapp.com/send?phone="+e.value):e.url="https://api.whatsapp.com/send/?phone="+e.value}else if("WeChat"==e.channel_type)x(e.qr_code_image_url)||(function(e,t,a){let s="";s+="<div style='display:none;' class='csaas-outer-forms csaas-form-"+t+"' data-channel='"+e.channel_type+"' id='csaas-form-"+t+"-"+e.channel_type+"' data-widget='"+t+"' data-index='"+a+"'>",s+="<div class='csaas-form'>",s+="<div class='csaas-form-body'>",s+="<div role='button' class='close-csaas-form close-wechat-form is-whatsapp-btn'><div class='csaas-close-button'><span class='csaas-sr-only'>Hide</span></div></div>",s+="<div class='qr-code-image'><img src='"+e.qr_code_image_url+"' alt='"+e.title+"' /></div>",s+="</div>",s+="</div>",s+="</div>",j(`csaas-element-${e.channel_type}-${t}`,s)}(e,n,c),e.url="javascript:;",e.target="",o+=" has-csaas-box csaas-qr-code-form");else if("Email"==e.channel_type){if(!x(e.mail_subject)){let t=decodeURI(e.mail_subject),a=document.title;x(a)?(t=t.replace(/{title}/g,""),t=t.replace(/(title)/g,"")):(t=t.replace(/{title}/g,a),t=t.replace(/(title)/g,a)),t=t.replace(/{url}/g,window.location),t=t.replace(/{URL}/g,window.location),t=t.replace(/(url)/g,window.location),t=t.replace(/(URL)/g,window.location),t=encodeURIComponent(t),e.url+="?subject="+t}}else if("Viber"==e.channel_type&&l){let t=e.value;t=t.replace("+",""),navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&(t="+"+t),t="viber://chat?number="+t,e.url=t}x(e.click_event)||(r="",e.target="",e.url=e.click_event)}let d=e.hover_text;return x(e.hover_text)&&(d=e.channel),b(i.is_google_analytics_enabled)&&(o+=" has-gae"),x(e.hover_text)&&(e.hover_text=""),'<a id="channel-'+e.channel_type+"-"+n+'" aria-label="'+d+'" data-channel="'+e.channel_type+'" href="'+e.url+'" '+r+' target="'+e.target+'" class="csaas-tooltip '+e.channel_type+"-channel csaas-link channel-"+n+"-"+e.channel_type+" pos-"+s+o+'" dir="'+M(e.hover_text)+'" data-form="csaas-form-'+n+"-"+e.channel_type+'" data-hover="'+e.hover_text+'">'+a+'<span class="csaas-sr-only">'+O(d)+"</span></a>"}function ue(e){if(""!=e.custom_image_url&&"null"!=e.custom_image_url&&!x(e.custom_image_url))return"<span aria-hidden='true' class='csaas-svg'><img src='"+e.custom_image_url+"' alt='"+e.hover_text+"' /></span>";let t=e.svg_icon;return"Chatway"==e.channel&&(t=function(e){switch(e){case"icon_2":return'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path class="color-element" d="M32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16Z" /> <path fill-rule="evenodd" clip-rule="evenodd" d="M12.652 7H22.788C24.0225 7 25.0621 8.03959 24.9971 9.27411V20.9695C24.9971 21.2294 24.8671 21.4244 24.6723 21.5543H24.4773C24.2174 21.5543 24.1524 21.5543 24.0225 21.4243L22.788 20.1898V12.6528C22.788 10.7686 21.2935 9.27411 19.4093 9.27411H10.3778C10.3778 8.03959 11.4174 7 12.652 7ZM9.27411 10.3793H19.4101C20.6447 10.3793 21.6842 11.4189 21.6842 12.6534V24.4787C21.6842 24.7386 21.5543 24.9335 21.3593 25.0635H21.1645C20.9045 25.0635 20.8395 25.0635 20.7096 24.9335L17.4609 21.6848H9.27411C8.03959 21.6848 7 20.6452 7 19.4107V12.6534C7 11.4189 8.03959 10.3793 9.27411 10.3793Z" fill="white"/> </svg>';case"icon_3":return'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path class="color-element" d="M32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16Z" /><path d="M14.3145 8H17.6855C19.5936 8 21.5018 8.76327 22.8374 10.1626C24.1731 11.4982 25 13.4064 25 15.3145C25 19.1308 22.0742 22.3109 18.2579 22.6289V25.4276C18.2579 25.6819 18.1308 25.8728 17.9399 26C17.8127 26 17.8127 26 17.6855 26C17.5583 26 17.3675 25.8728 17.2403 25.7456L14.3145 22.5654C12.4064 22.5654 10.4982 21.8021 9.16254 20.4028C7.82685 19.0035 7 17.159 7 15.2509C7 11.2438 10.3074 8 14.3145 8ZM20.4841 16.3957C21.1837 16.3957 21.6289 15.9505 21.6289 15.2509C21.6289 14.5513 21.1837 14.106 20.4841 14.106C19.7845 14.106 19.3392 14.5513 19.3392 15.2509C19.4028 15.9505 19.8481 16.3957 20.4841 16.3957ZM16.0318 16.3957C16.7314 16.3957 17.1766 15.9505 17.1766 15.2509C17.1766 14.5513 16.7314 14.106 16.0318 14.106C15.3322 14.106 14.8869 14.5513 14.8869 15.2509C14.8869 15.9505 15.3322 16.3957 16.0318 16.3957ZM11.5159 16.3957C12.2155 16.3957 12.6608 15.9505 12.6608 15.2509C12.6608 14.5513 12.2155 14.106 11.5159 14.106C10.8163 14.106 10.371 14.5513 10.371 15.2509C10.371 15.9505 10.8163 16.3957 11.5159 16.3957Z" fill="white"/></svg>';case"icon_4":return'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path class="color-element" d="M32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16Z" /> <path fill-rule="evenodd" clip-rule="evenodd" d="M22.6678 9H9.21263C7.95682 9 7 10.0166 7 11.2126V19.0465C7 20.3023 8.01662 21.2591 9.21263 21.2591H20.7542L23.9834 23.7996C24.103 23.9192 24.2226 23.9192 24.4019 23.9192H24.6412C24.8804 23.7996 25 23.5604 25 23.381V11.2126C24.8804 10.0166 23.8638 9 22.6678 9ZM20.6208 15.2695C20.8241 15.4601 20.8344 15.7793 20.6438 15.9827C17.7482 19.0713 13.898 18.4179 12.2984 17.714C12.0433 17.6018 11.9275 17.304 12.0397 17.049C12.152 16.7939 12.4498 16.6781 12.7048 16.7903C14.0952 17.4021 17.4211 17.9447 19.9076 15.2925C20.0982 15.0892 20.4175 15.0789 20.6208 15.2695ZM22.3928 15.536C22.3588 15.1276 22.2225 14.5057 21.8355 14.0218C21.6355 13.7718 21.3642 13.5541 21.0078 13.4345C20.652 13.315 20.2472 13.3052 19.7988 13.4129C19.5278 13.4779 19.3609 13.7502 19.4259 14.0212C19.4909 14.2922 19.7633 14.4591 20.0343 14.3941C20.3334 14.3223 20.5415 14.3425 20.6866 14.3912C20.831 14.4396 20.9485 14.5285 21.0475 14.6522C21.2584 14.9159 21.3614 15.3106 21.3872 15.6198C21.4103 15.8975 21.6542 16.1038 21.9319 16.0808C22.2096 16.0576 22.4159 15.8137 22.3928 15.536Z" fill="white"/> </svg>'}return'<svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg"> <path class="color-element" d="M60 30C60 13.4314 46.5686 0 30 0C13.4314 0 0 13.4314 0 30C0 46.5686 13.4314 60 30 60C46.5686 60 60 46.5686 60 30Z" fill="#0446DE"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M19.8716 14C16.0765 14 13 17.0755 13 20.8694V38.7756C13 42.5695 16.0765 45.645 19.8716 45.645H24.0183C25.0106 45.645 25.9544 46.0738 26.6069 46.8213L28.9753 49.5343C29.5172 50.1552 30.4828 50.1552 31.0247 49.5343L33.3931 46.8213C34.0456 46.0738 34.9894 45.645 35.9817 45.645H40.1284C43.9235 45.645 47 42.5695 47 38.7756V20.8694C47 17.0755 43.9235 14 40.1284 14H19.8716ZM24.4271 33.7135C23.4988 33.7117 22.52 33.7099 22.52 34.4633C22.52 37.4282 25.6951 41.1912 29.32 41.1912H30.68C34.305 41.1912 37.48 37.4282 37.48 34.4633C37.48 33.7099 36.5012 33.7117 35.5729 33.7135C35.5286 33.7136 35.4842 33.7137 35.44 33.7137H24.56C24.5159 33.7137 24.4716 33.7136 24.4271 33.7135Z" fill="white"></path> </svg>'}(e.chatway_icon)),"<span aria-hidden='true' class='csaas-svg'>"+t+"</span>"}let pe=function(e){let t=e.value,a="_blank";return"WhatsApp"==e.channel_type?t=N(e.value):"WeChat"==e.channel_type?(a="",t="javascript:;"):"Email"==e.channel_type?(a="",t="mailto:"+e.value):"Facebook_Messenger"==e.channel_type?a=l?"":"_blank":"SMS"==e.channel_type?(a="",t="sms:+"+N(e.value.trim())):"Telegram"==e.channel_type?(t=F(e.value,"@"),t="https://telegram.me/"+t,a="_blank"):"Twitter"==e.channel_type?t="https://twitter.com/"+e.value.trim:"Instagram"==e.channel_type||"Instagram_DM"==e.channel_type?(t="https://www.instagram.com/"+e.value.trim,t="https://ig.me/m/"+e.value.trim):"Phone"==e.channel_type?(a="",t="tel:+"+N(e.value.trim())):"Skype"==e.channel_type?(a="",t="skype:"+e.value.trim+"?chat"):"Snapchat"==e.channel_type?t="https://www.snapchat.com/add/"+e.value.trim:"Vkontakte"==e.channel_type?t="https://vk.me/"+e.value.trim:"Linkedin"==e.channel_type?t="personal"==e.channel_account_type?"https://www.linkedin.com/in/"+e.value.trim:"https://www.linkedin.com/company/"+e.value.trim:"Viber"==e.channel_type?(t=N(e.value.trim()),isNaN(t)||(t=t.replace("+",""),navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&(t="+"+t),t="viber://chat?number="+t),a=""):"TikTok"==e.channel_type&&(t=F(e.value.trim,"@"),t="https://www.tiktok.com/@"+t,a=""),e.value=t,e.url=t,e.target=a,e},me=function(e){if(b(e.is_agent)){if(e.agents.length&&(!l&&b(e.is_agent_desktop)||l&&b(e.is_agent_mobile))){let t=!1;return Object.keys(e.agents).forEach((function(a,s){x(e.agents[s].value)||(t=!0)})),t}}else if((!l&&b(e.is_desktop)||l&&b(e.is_mobile))&&(""!=e.value||"Contact_Us"==e.channel||"Chatway"==e.channel))return!0;return!1},fe=function(e,t,a,s,n){if(B(e.channel_type)&&(e.channel_type=e.channel),!me(e))return;let c="";if(!b(e.is_agent)){let i=ue(e),o=ge(e,i,a,t,s,n);return"Contact_Us"==e.channel_type?c+=" has-csaas-box":"WhatsApp"==e.channel_type&&b(e.is_default_open)&&w(t,"c-"+e.channel_type)&&(c+=" csaas-default-open"),"<div class='csaas-channel "+e.channel+"-channel-link"+c+"' id='"+e.channel+"-"+t+"-channel' data-id='"+e.channel_type+"-"+t+"' data-widget='"+t+"' data-channel='"+e.channel+"'>"+o+"</div>"}if(e.agents.length){let o=0,r=[];if(Object.keys(e.agents).forEach((function(t,a){""!=e.agents[a].value&&(o++,r=t)})),o>0){let o,r;return function(e,t){var a="",s=0;null==s&&(s=-1),a+="<div style='display:none;' class='csaas-outer-forms csaas-agent-data csaas-agent-data-"+t+" csaas-form-"+t+"' data-channel='"+e.channel_type+"' id='csaas-form-"+t+"-"+e.channel_type+"' data-widget='"+t+"' data-index='"+s+"'>",a+="<div class='csaas-form'>",a+="<div class='csaas-form-body'>",a+="<div role='button' dir='"+M(e.agent_header_text)+"' class='csaas-close-agent-list'><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 330 330' xmlns:v='https://vecta.io/nano'><path d='M325.607 79.393c-5.857-5.857-15.355-5.858-21.213.001l-139.39 139.393L25.607 79.393c-5.857-5.857-15.355-5.858-21.213.001s-5.858 15.355 0 21.213l150.004 150a15 15 0 0 0 21.212-.001l149.996-150c5.859-5.857 5.859-15.355.001-21.213z'/></svg></div>",a+="<div class='csaas-agent-header agent-info-"+e.channel+" agent-info-"+t+"-"+e.channel+"' dir='"+M(e.agent_header_text)+"'>",x(e.agent_header_text)||(a+="<div class='agent-main-header'>"+O(e.agent_header_text)+"</div>"),x(e.agent_sub_header_text)||(a+="<div class='agent-sub-header'>"+O(e.agent_sub_header_text)+"</div>"),a+="</div>",a+="<div class='csaas-agent-body agents-body-"+t+" agent-body-"+t+"-"+e.channel+"'>",Object.keys(e.agents).forEach((function(s,n){if(""!=(s=e.agents[n]).value){var c=e.svg_icon;x(s.custom_image_url)||(c="<img class='csaas-agent-img' src='"+s.custom_image_url+"' alt='"+s.agent_title+"' />");var o=function(e,t,a,s,n,c){var i=e.value,o="_blank";if("WhatsApp"==t.channel_type){var r=N(e.value);l?(o="",i="https://wa.me/"+r):(o="_blank",i="https://web.whatsapp.com/send/?phone="+r)}else"WeChat"==t.channel_type?(o="",i="javascript:;"):"Email"==t.channel_type?(o="",i="mailto:"+e.value):"Facebook_Messenger"==t.channel_type?o=l?"":"_blank":"SMS"==t.channel_type?(o="",i="sms:+"+N(e.value.trim())):"Telegram"==t.channel_type?(i="https://telegram.me/"+(i=F(e.value,"@")),o="_blank"):"Twitter"==t.channel_type?(e.value=e.value.replace("https://twitter.com/",""),i="https://twitter.com/"+e.value.trim()):"Instagram"==t.channel_type?(e.value=e.value.replace("https://www.instagram.com/",""),e.value=e.value.replace("https://ig.me/m/",""),i="https://www.instagram.com/"+e.value.trim()):"Instagram_DM"==t.channel_type?(e.value=e.value.replace("https://www.instagram.com/",""),e.value=e.value.replace("https://ig.me/m/",""),i="https://ig.me/m/"+e.value.trim()):"Phone"==t.channel_type?(o="",i="tel:+"+N(e.value.trim())):"Skype"==t.channel_type?(o="",i="skype:"+e.value.trim()+"?chat"):"Snapchat"==t.channel_type?i="https://www.snapchat.com/add/"+e.value.trim():"Vkontakte"==t.channel_type?i="https://vk.me/"+e.value.trim():"Linkedin"==t.channel_type?i="personal"==e.channel_account_type?"https://www.linkedin.com/in/"+e.value.trim():"https://www.linkedin.com/company/"+e.value.trim():"Viber"==t.channel_type?(i=N(e.value.trim()),isNaN(i)||(i=i.replace("+",""),navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&(i="+"+i),i="viber://chat?number="+i),o=""):"TikTok"==t.channel_type&&(i="https://www.tiktok.com/@"+(i=F(e.value.trim(),"@")),o="");return"<a href='"+i+"' target='"+o+"'><span class='csaas-agent-icon'>"+n+"</span><span class='csaas-agent-title'>"+(c=x(c)?"":O(c))+"</span></a>"}(s,e,0,0,c,s.agent_name);a+="<div dir='"+M(s.agent_name)+"' class='csaas-agent agent-info-"+e.channel+" agent-info-"+t+"-"+e.channel+" agent-info-"+n+"'>"+o+"</div>"}i+=".agent-info-"+t+"-"+e.channel+".agent-info-"+n+" .csaas-agent-icon img { background-color: "+s.icon_color+"; } ",("Instagram"!=e.channel&&"Instagram_DM"!=e.channel||"#ffffff"!=s.icon_color&&"#fff"!=s.icon_color)&&(i+=".agent-info-"+t+"-"+e.channel+".agent-info-"+n+" .csaas-agent-icon .color-element { fill: "+s.icon_color+"; } "),i+=".agent-info-"+t+"-"+e.channel+".agent-info-"+n+" .csaas-custom-icon { background-color: "+s.icon_color+"; } "})),a+="</div>",a+="</div>",a+="</div>",a+="</div>",x(e.agent_head_bg_color)||(i+=".csaas-agent-header.agent-info-"+t+"-"+e.channel+" { background-color: "+e.agent_head_bg_color+"; } "),x(e.agent_head_text_color)||(i+=".csaas-agent-header.agent-info-"+t+"-"+e.channel+" { color: "+e.agent_head_text_color+" } ",i+="#csaas-form-"+t+"-"+e.channel+" .csaas-close-agent-list svg { fill: "+e.agent_head_text_color+" } "),j(`csaas-element-${e.channel_type}-${t}`,a)}(e,t),o=ue(e),r=ge(e,o,a,t,s,n),("Instagram"!=e.channel&&"Instagram_DM"!=e.channel||"#ffffff"!=e.icon_color&&"#fff"!=e.icon_color)&&(i+=".csaas-agent-"+t+"-"+e.channel+" .color-element {fill: "+e.icon_color+"; color: "+e.icon_color+";}"),i+=".csaas-agent-"+t+"-"+e.channel+" .csaas-custom-icon { background-color: "+e.icon_color+";}",i+=".csaas-agent-"+t+"-"+e.channel+" .csaas-svg-img { background-color: "+e.icon_color+";}","<div data-form='csaas-form-"+t+"-"+e.channel_type+"' class='csaas-channel csaas-agent-button csaas-agent-"+t+"-"+e.channel+" "+e.channel+"-channel "+e.channel+"-channel-link"+c+"' id='"+e.channel+"-"+t+"-channel' data-id='"+e.channel_type+"-"+t+"' data-widget='"+t+"' data-channel='"+e.channel+"'>"+r+"</div>"}}};function we(e,t){if(!x(t)&&$(t)){let e=I(t),a=e.getAttribute("data-widget"),s=A(a),n=S(a);if(e.classList.contains("active"))e.classList.remove("active"),s.classList.remove("form-open"),n.classList.contains("cssas-no-close-button")&&n.classList.add("csaas-open");else{e.classList.add("is-active"),s.classList.add("form-open"),n.classList.remove("csaas-open");let t=document.getElementById("cta-close-"+e.getAttribute("data-widget")).innerHTML;$("cta-btn-"+a)&&(I("cta-btn-"+a).innerHTML=t),e.classList.add("active")}}}let ve=e+"widgets/click",_e=e+"widgets/leads";function ye(e){let t=w(e,"c-widget"),a=J(),s=A(e),n=S(e);if(t&&s&&n&&!a){let a=A(e).getAttribute("data-user"),s="",c=n.classList.contains("has-single")?1:0;n.querySelectorAll(".csaas-link").forEach((function(a,n){let i=a.getAttribute("data-channel");if(!x(i)){let a=w(e,"v-"+i);x(i)||(a&&_(e,"v-"+i),c&&(t=w(e,"c-"+i),t&&_(e,"c-"+i)),s="&channels[]="+i)}})),_(e,"c-widget");let i={widgetId:e,userId:a,isMobile:l,isSingle:c};i=k(i)+s;let o=new XMLHttpRequest;o.open("POST",ve,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){},o.send(i)}}let be,xe=function(e){let t=A(e);if(t){let a=t.getAttribute("data-animation"),s=I("csaas-i-trigger-"+e);s&&s.querySelectorAll(".csaas-channel .csaas-svg").forEach((function(e,t){e.classList.remove("chaty-animation-"+a)})),$("chaty-cta-"+e)&&document.getElementById("chaty-cta-"+e).classList.remove("chaty-animation-"+a),s.querySelectorAll(".ch-pending-msg").forEach((function(e,t){e.remove()}))}},ke=function(e,t){let s=[],n=0,c=null,r=0,d=null;1===e.channels.length&&"Chatway"===e.channels[0].channel&&function(){if(U("has--not--chatway"),U("csaas-has-chatway"),U("has--chaty"),!document.getElementById("chatway")&&a)try{if(-1!==a.indexOf("chatway_user_identifier")){const e=JSON.parse(a);a=e.chatway_user_identifier}if(a){let e=document.createElement("script");e.src=u+a,e.id="chatway",e.async=!0,document.head.appendChild(e)}}catch(e){a=!1}}(),Object.keys(e.channels).forEach((function(t){let a=e.channels[t];me(a)&&("Chatway"===a.channel?(d=a.chatway_position,"outside-chaty"===d&&(g=1),"outside-chaty"!==d&&(c=de(a),"inside-chaty"!==d&&"chat-view"!==e.settings.cta_type||(s.push(de(a)),n++),r=1)):(s.push(de(a)),n++))})),1!==n||!r||"above-chaty"===d&&"chat-view"!==e.settings.cta_type||(n=0);let p="";if(r&&(P("csaas-has-chatway"),p="has-chatway-channel"),e.channels=s,o||(e.settings.cta_type="simple-view"),n&&!A(e.id)){C();let a=X(e.settings);if(a="right"==a?"right":"left","chat-view"==e.settings.cta_type){let s="<div style='display: none' class='csaas csaas-has-chat-view csaas-id-"+e.id+" csaas-widget-"+e.id+" csaas-key-"+t+"' id='csaas-widget-"+e.id+"' data-key='"+t+"' data-id='"+e.id+"' data-identifier='"+e.identifier+"' data-user='"+e.user_id+"' ><div id='csaas-"+e.id+"' class='csaas-widget csaas-"+e.id+" "+a+"-position'><div class='csaas-channels'><div class='csaas-channel-list' id='csaas-channels-"+e.id+"'></div><div class='csaas-i-trigger'><div id='csaas-i-trigger-"+e.id+"' class='csaas-widget-trigger "+p+"'></div></div></div></div></div>";E(s),e.settings.icon_view="vertical",function(e){let t=e.id,a=e.id,s=T(e.settings.cta_body_text),n=e.settings.cta_heading_text,c=document.title;x(c)?(s=s.replace(/{title}/g,""),n=n.replace(/{title}/g,""),s=s.replace(/(title)/g,""),n=n.replace(/(title)/g,"")):(s=s.replace(/{title}/g,c),n=n.replace(/{title}/g,c),s=s.replace(/(title)/g,c),n=n.replace(/(title)/g,c)),s=s.replace(/{url}/g,"<a target='_blank' href='"+window.location.href+"'>"+window.location.href+"</a>"),s=s.replace(/(url)/g,"<a target='_blank' href='"+window.location.href+"'>"+window.location.href+"</a>"),n=n.replace(/{url}/g,"<a target='_blank' href='"+window.location.href+"'>"+window.location.href+"</a>"),n=n.replace(/(url)/g,"<a target='_blank' href='"+window.location.href+"'>"+window.location.href+"</a>");let i="";i+="<div style='display:none;' class='csaas-chat-view csaas-chat-view-"+t+" csaas-form-"+t+"' data-channel='csaas-chat-view' id='csaas-form-"+t+"-csaas-chat-view' data-widget='"+t+"' data-index='"+a+"'>",i+="<div class='csaas-view-body'>",i+=`<div class='csaas-view-header' dir='${M(n)}'>`+n,i+="<div role='button' class='csaas-close-view-list'><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 330 330'><path d='M325.607 79.393c-5.857-5.857-15.355-5.858-21.213.001l-139.39 139.393L25.607 79.393c-5.857-5.857-15.355-5.858-21.213.001s-5.858 15.355 0 21.213l150.004 150a15 15 0 0 0 21.212-.001l149.996-150c5.859-5.857 5.859-15.355.001-21.213z'/></svg></div>",i+="</div>",i+=`<div class='csaas-view-content' dir='${M(s)}'>`,i+="<div class='csaas-top-content'>",i+=s,i+="</div>",i+="<div class='csaas-view-channels' id='csaas-view-channels-"+t+"'>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",A(t).innerHTML+=i}(e)}else{let s="<div style='display: none' class='csaas csaas-id-"+e.id+" csaas-widget-"+e.id+" csaas-key-"+t+"' id='csaas-widget-"+e.id+"' data-key='"+t+"' data-id='"+e.id+"' data-identifier='"+e.identifier+"' data-user='"+e.user_id+"'><div id='csaas-"+e.id+"' class='csaas-widget csaas-"+e.id+" "+a+"-position'><div class='csaas-channels'><div class='csaas-channel-list' id='csaas-channels-"+e.id+"'></div><div class='csaas-i-trigger'><div id='csaas-i-trigger-"+e.id+"' class='csaas-widget-trigger "+p+"'></div></div></div></div></div>";E(s)}let s=w(e.id,"v-widget"),o=A(e.id),g=S(e.id);if(r&&g.classList.add(d),r&&"above-chaty"===d){g.classList.add("has-chatway");let a=Z(e),s=fe(c,e.id,a,t,e.settings);I("csaas-channels-"+e.id)&&(document.getElementById("csaas-channels-"+e.id).innerHTML+=s,i+="#csaas-widget-"+e.id+" ."+c.channel_type+"-channel .color-element{ fill: "+c.icon_color+"; color: "+c.icon_color+";}",i+="#csaas-widget-"+e.id+" ."+c.channel_type+"-channel .csaas-svg { background-color: "+c.icon_color+";}",i+=".channel-"+e.id+"-"+c.channel_type+" .csaas-svg { background-color: "+c.icon_color+";}")}1==e.channels.length&&"chat-view"!=e.settings.cta_type?function(e,t){let a=X(e.settings),s=e.settings;a="right"==a?"right":"left";let n=Z(e);if("vertical"!=e.settings.icon_view&&(n="right"!=a?"right":"left"),I("csaas-i-trigger-"+e.id)){let a=I("csaas-i-trigger-"+e.id),c=e.channels[0],o=fe(c,e.id,n,t,s);a.innerHTML+=o,a.classList.add("single-channel"),I("csaas-"+e.id)&&I("csaas-"+e.id).classList.add("has-single");let l=T(e.settings.cta_text);a.querySelectorAll(".csaas-tooltip").forEach((function(e,t){e.classList.remove("csaas-tooltip")}));let r=w(e.id,"c-widget");a.querySelectorAll(".csaas-channel a").forEach((function(t,a){if(t.classList.add("csaas-tooltip"),t.classList.add("pos-"+n),r||"all_time"==e.settings.show_cta){t.classList.add("active");let a=`<span class='on-hover-text' dir='${M(l)}'>${l}</span>`;t.innerHTML+=a,t.classList.add("has-on-hover"),t.classList.add(e.settings.show_cta),t.setAttribute("data-text",l)}x(c.hover_text)||t.setAttribute("data-hover",c.hover_text)}));let d='<div class="csaas-channel csaas-cta-close csaas-tooltip pos-'+n+'" dir='+M(e.settings.close_text)+' data-hover="'+e.settings.close_text+'"><div class="csaas-cta-button"><button id="cta-close-'+e.id+'" type="button"><span aria-hidden="true" class="csaas-svg"><svg viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="26" cy="26" rx="26" ry="26" fill="'+e.settings.widget_color+'"></ellipse><rect width="27.1433" height="3.89857" rx="1.94928" transform="translate(18.35 15.6599) scale(0.998038 1.00196) rotate(45)" fill="white"></rect><rect width="27.1433" height="3.89857" rx="1.94928" transform="translate(37.5056 18.422) scale(0.998038 1.00196) rotate(135)" fill="white"></rect></svg></span><span class="csaas-sr-only">Hide Chaty Channels</span></button></div></div>';x(e.settings.close_text)&&(d='<div class="csaas-channel csaas-cta-close"><div class="csaas-cta-button"><button id="cta-close-'+e.id+'" type="button"><span aria-hidden="true" class="csaas-svg"><svg viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="26" cy="26" rx="26" ry="26" fill="'+e.settings.widget_color+'"></ellipse><rect width="27.1433" height="3.89857" rx="1.94928" transform="translate(18.35 15.6599) scale(0.998038 1.00196) rotate(45)" fill="white"></rect><rect width="27.1433" height="3.89857" rx="1.94928" transform="translate(37.5056 18.422) scale(0.998038 1.00196) rotate(135)" fill="white"></rect></svg></span><span class="csaas-sr-only">Hide Chaty Channels</span></button></div></div>'),a.innerHTML+=d,i+="#csaas-widget-"+e.id+" ."+c.channel_type+"-channel .color-element{ fill: "+c.icon_color+"; color: "+c.icon_color+";}",i+="#csaas-widget-"+e.id+" ."+c.channel_type+"-channel .csaas-svg { background-color: "+c.icon_color+";}",i+=".channel-"+e.id+"-"+c.channel_type+" .csaas-svg { background-color: "+c.icon_color+";}"}}(e,t):function(e,t){let a=X(e.settings),s=e.settings;a="right"==a?"right":"left";let n=Z(e),c="";Object.keys(e.channels).forEach((function(a){let o=e.channels[a];B(o.channel_type)&&(o.channel_type=o.channel),"chat-view"==e.settings.cta_type?c+=fe(o,e.id,"top",t,s):c+=fe(o,e.id,n,t,s),i+=".channel-"+e.id+"-"+o.channel_type+" .color-element{ fill: "+o.icon_color+"; color: "+o.icon_color+";}",i+="#csaas-widget-"+e.id+" ."+o.channel_type+"-channel .color-element{ fill: "+o.icon_color+"; color: "+o.icon_color+";}",i+="#csaas-widget-"+e.id+" ."+o.channel_type+"-channel .csaas-svg { background-color: "+o.icon_color+";}",i+=".channel-"+e.id+"-"+o.channel_type+" .csaas-svg { background-color: "+o.icon_color+";}",i+="#csaas-widget-"+e.id+" .channel-icon-"+o.channel_type+"-channel .csaas-svg { background-color: "+o.icon_color+";}",i+=".csaas-chat-view-"+e.id+" ."+o.channel_type+"-channel .csaas-custom-icon { background-color: "+o.icon_color+"; }",i+=".csaas-chat-view-"+e.id+" ."+o.channel_type+"-channel .csaas-svg { background-color: "+o.icon_color+";}",i+=".csaas-chat-view-"+e.id+" .channel-icon-"+o.channel_type+" .csaas-svg { background-color: "+o.icon_color+";}"})),x(c)||("chat-view"==e.settings.cta_type?I("csaas-view-channels-"+e.id)&&(document.getElementById("csaas-view-channels-"+e.id).innerHTML+=c):I("csaas-channels-"+e.id)&&(document.getElementById("csaas-channels-"+e.id).innerHTML+=c));let o=w(e.id,"c-widget"),l=function(e){return(""==e.widget_icon||"chat-image"==e.widget_icon&&x(e.widget_icon_url))&&(e.widget_icon="chat-base"),"chat-image"==e.widget_icon?"<span aria-hidden='true' class='csaas-svg' style='background: "+e.widget_color+"'><img src='"+e.widget_icon_url+"' alt='Chaty Widget' /></span>":'<span aria-hidden="true" class="csaas-svg" >'+function(e,t){switch(e){case"chat-smile":return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-496.8 507.1 54 54" style="enable-background:new -496.8 507.1 54 54;" xml:space="preserve"><style type="text/css">.csaas-sts1{fill:#FFFFFF;} .csaas-sts2{fill:none;stroke:#808080;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;}</style><g><circle cx="-469.8" cy="534.1" r="27" fill="'+t+'"/></g><path class="csaas-sts1" d="M-459.5,523.5H-482c-2.1,0-3.7,1.7-3.7,3.7v13.1c0,2.1,1.7,3.7,3.7,3.7h19.3l5.4,5.4c0.2,0.2,0.4,0.2,0.7,0.2c0.2,0,0.2,0,0.4,0c0.4-0.2,0.6-0.6,0.6-0.9v-21.5C-455.8,525.2-457.5,523.5-459.5,523.5z"/><path class="csaas-sts2" d="M-476.5,537.3c2.5,1.1,8.5,2.1,13-2.7"/><path class="csaas-sts2" d="M-460.8,534.5c-0.1-1.2-0.8-3.4-3.3-2.8"/></svg>';case"chat-bubble":return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-496.9 507.1 54 54" style="enable-background:new -496.9 507.1 54 54;" xml:space="preserve"><style type="text/css">.csaas-sts1{fill:#FFFFFF;}</style><g><circle  cx="-469.9" cy="534.1" r="27" fill="'+t+'"/></g><path class="csaas-sts1" d="M-472.6,522.1h5.3c3,0,6,1.2,8.1,3.4c2.1,2.1,3.4,5.1,3.4,8.1c0,6-4.6,11-10.6,11.5v4.4c0,0.4-0.2,0.7-0.5,0.9   c-0.2,0-0.2,0-0.4,0c-0.2,0-0.5-0.2-0.7-0.4l-4.6-5c-3,0-6-1.2-8.1-3.4s-3.4-5.1-3.4-8.1C-484.1,527.2-478.9,522.1-472.6,522.1z   M-462.9,535.3c1.1,0,1.8-0.7,1.8-1.8c0-1.1-0.7-1.8-1.8-1.8c-1.1,0-1.8,0.7-1.8,1.8C-464.6,534.6-463.9,535.3-462.9,535.3z   M-469.9,535.3c1.1,0,1.8-0.7,1.8-1.8c0-1.1-0.7-1.8-1.8-1.8c-1.1,0-1.8,0.7-1.8,1.8C-471.7,534.6-471,535.3-469.9,535.3z   M-477,535.3c1.1,0,1.8-0.7,1.8-1.8c0-1.1-0.7-1.8-1.8-1.8c-1.1,0-1.8,0.7-1.8,1.8C-478.8,534.6-478.1,535.3-477,535.3z"/></svg>';case"chat-db":return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-496 507.1 54 54" style="enable-background:new -496 507.1 54 54;" xml:space="preserve"><style type="text/css">.csaas-sts1{fill:#FFFFFF;}</style><g><circle  cx="-469" cy="534.1" r="27" fill="'+t+'"/></g><path class="csaas-sts1" d="M-464.6,527.7h-15.6c-1.9,0-3.5,1.6-3.5,3.5v10.4c0,1.9,1.6,3.5,3.5,3.5h12.6l5,5c0.2,0.2,0.3,0.2,0.7,0.2c0.2,0,0.2,0,0.3,0c0.3-0.2,0.5-0.5,0.5-0.9v-18.2C-461.1,529.3-462.7,527.7-464.6,527.7z"/><path class="csaas-sts1" d="M-459.4,522.5H-475c-1.9,0-3.5,1.6-3.5,3.5h13.9c2.9,0,5.2,2.3,5.2,5.2v11.6l1.9,1.9c0.2,0.2,0.3,0.2,0.7,0.2c0.2,0,0.2,0,0.3,0c0.3-0.2,0.5-0.5,0.5-0.9v-18C-455.9,524.1-457.5,522.5-459.4,522.5z"/></svg>';default:return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-496 507.7 54 54" style="enable-background:new -496 507.7 54 54;" xml:space="preserve"><style type="text/css">.csaas-sts1{fill: #FFFFFF;}.csaas-st0{fill: #808080;}</style><g><circle cx="-469" cy="534.7" r="27" fill="'+t+'"/></g><path class="csaas-sts1" d="M-459.9,523.7h-20.3c-1.9,0-3.4,1.5-3.4,3.4v15.3c0,1.9,1.5,3.4,3.4,3.4h11.4l5.9,4.9c0.2,0.2,0.3,0.2,0.5,0.2 h0.3c0.3-0.2,0.5-0.5,0.5-0.8v-4.2h1.7c1.9,0,3.4-1.5,3.4-3.4v-15.3C-456.5,525.2-458,523.7-459.9,523.7z"/><path class="csaas-st0" d="M-477.7,530.5h11.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-11.9c-0.5,0-0.8-0.4-0.8-0.8l0,0C-478.6,530.8-478.2,530.5-477.7,530.5z"/><path class="csaas-st0" d="M-477.7,533.5h7.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-7.9c-0.5,0-0.8-0.4-0.8-0.8l0,0C-478.6,533.9-478.2,533.5-477.7,533.5z"/></svg>'}}(e.widget_icon,e.widget_color)+"</span>"}(e.settings,e.id),r=e.settings.cta_text;"first_click"==e.settings.show_cta&&(o||(r=""));let d=n;"horizontal"==e.settings.icon_view&&(d="left"==a?"right":"left"),r=T(r),"opened"==e.settings.default_state&&(r="");let h=`<div id="cta-main-${e.id}" class="csaas-channel csaas-cta-main csaas-tooltip pos-${d} active" data-widget="${e.id}" data-hover="${r}"><span class="on-hover-text" dir="${M(r)}">${r}</span><div class="csaas-cta-button" id="chaty-cta-${e.id}"><button type="button" id="cta-open-${e.id}" class="open-chaty hide-show-chaty" data-widget="${e.id}">${l}<span class="csaas-sr-only">Open Chaty Channels</span></button><button type="button" id="cta-btn-${e.id}" class="open-csaas-channel"></button></div></div>`,g=`<div class='csaas-channel csaas-cta-close csaas-tooltip pos-${n}' dir='${M(e.settings.close_text)}' data-hover="${e.settings.close_text}">\n                <div class="csaas-cta-button"><button type="button" id="cta-close-${e.id}" class="hide-show-chaty" data-widget="${e.id}">\n                <span aria-hidden="true" class="csaas-svg">\n                <svg viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="26" cy="26" rx="26" ry="26" fill="${e.settings.widget_color}"></ellipse><rect width="27.1433" height="3.89857" rx="1.94928" transform="translate(18.35 15.6599) scale(0.998038 1.00196) rotate(45)" fill="white"></rect><rect width="27.1433" height="3.89857" rx="1.94928" transform="translate(37.5056 18.422) scale(0.998038 1.00196) rotate(135)" fill="white"></rect></svg>\n                </span>\n                <span class="csaas-sr-only">Hide Chaty Channels</span></button>\n                </div>\n                </div>`;if(x(e.settings.close_text)&&(g=`<div class='csaas-channel csaas-cta-close'>\n                <div class="csaas-cta-button"><button type="button" id="cta-close-${e.id}" class="hide-show-chaty" data-widget="${e.id}">\n                <span aria-hidden="true" class="csaas-svg">\n                <svg viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="26" cy="26" rx="26" ry="26" fill="${e.settings.widget_color}"></ellipse><rect width="27.1433" height="3.89857" rx="1.94928" transform="translate(18.35 15.6599) scale(0.998038 1.00196) rotate(45)" fill="white"></rect><rect width="27.1433" height="3.89857" rx="1.94928" transform="translate(37.5056 18.422) scale(0.998038 1.00196) rotate(135)" fill="white"></rect></svg>\n                </span>\n                <span class="csaas-sr-only">Hide Chaty Channels</span></button>\n                </div>\n                </div>`),I("csaas-i-trigger-"+e.id)){let t=I("csaas-i-trigger-"+e.id);t.innerHTML+=h,t.innerHTML+=g}}(e,t);var m=w(e.id,"c-widget");if(!m||"opened"==e.settings.default_state&&1!=n||(function(e,t){let a=w(t,"c-widget"),s=e.settings;if(a&&b(s.is_pending_mesg_enabled)&&parseInt(s.pending_mesg_count)>0){let a=s.attention_effect;if(1==e.channels.length){let e=I("csaas-i-trigger-"+t);e&&("sheen"==a||"spin"==a||"pulse"==a?e.querySelectorAll(".csaas-channel").forEach((function(e,t){e.innerHTML+=`<span class='ch-pending-msg'>${s.pending_mesg_count}</span>`})):e.querySelectorAll(".csaas-channel .csaas-svg").forEach((function(e,t){e.innerHTML+=`<span class='ch-pending-msg'>${s.pending_mesg_count}</span>`})))}else"bounce"==a||"waggle"==a||"pulse"==a?I("chaty-cta-"+t)&&(document.getElementById("chaty-cta-"+t).innerHTML+=`<span class='ch-pending-msg'>${s.pending_mesg_count}</span>`):I("cta-main-"+t)&&(document.getElementById("cta-main-"+t).innerHTML+=`<span class='ch-pending-msg'>${s.pending_mesg_count}</span>`)}}(e,e.id),function(e,t){if(w(t,"c-widget")&&"none"!=e.settings.attention_effect&&""!=e.settings.attention_effect)if(A(t).setAttribute("data-animation",e.settings.attention_effect),1==e.channels.length){let a=I("csaas-i-trigger-"+t);a&&a.querySelectorAll(".csaas-channel .csaas-svg").forEach((function(t,a){t.classList.add("chaty-animation-"+e.settings.attention_effect)}))}else $("chaty-cta-"+t)&&document.getElementById("chaty-cta-"+t).classList.add("chaty-animation-"+e.settings.attention_effect)}(e,e.id)),"hover"==e.settings.default_state?o.classList.add("open-on-hover"):"opened"==e.settings.default_state&&(g.classList.add("default-open"),!m&&b(e.settings.show_close_button)||g.classList.contains("has-single")||g.classList.add("csaas-open")),g.classList.add("cta-"+e.settings.show_cta),"chat-view"==e.settings.cta_type?o.classList.add("has-chat-view"):o.classList.add("has-simple-view"),"opened"!=e.settings.default_state||b(e.settings.show_close_button)||g.classList.add("cssas-no-close-button"),s?b(e.triggers.has_time_delay)&&0==parseInt(e.triggers.time_delay)||b(e.triggers.has_display_after_page_scroll)&&0==parseInt(e.triggers.display_after_page_scroll)?Y(e.id):b(e.triggers.exit_intent)||b(e.triggers.has_time_delay)&&parseInt(e.triggers.time_delay)>0||b(e.triggers.has_display_after_page_scroll)&&parseInt(e.triggers.display_after_page_scroll)>0?(b(e.triggers.has_time_delay)&&parseInt(e.triggers.time_delay)>0&&(K=!0,parseInt(e.triggers.time_delay)>Q&&(Q=e.triggers.time_delay),o.classList.add("on-csaas-delay"),o.classList.add("delay-time-"+parseInt(e.triggers.time_delay)),o.setAttribute("data-time",parseInt(e.triggers.time_delay))),b(e.triggers.has_display_after_page_scroll)&&parseInt(e.triggers.display_after_page_scroll)>0&&(ee=!0,o.classList.add("on-csaas-scroll"),o.classList.add("page-scroll-"+parseInt(e.triggers.display_after_page_scroll)),o.setAttribute("data-scroll",parseInt(e.triggers.display_after_page_scroll))),b(e.triggers.exit_intent)&&(l?b(e.triggers.has_time_delay)&&parseInt(e.triggers.time_delay)>0||b(e.triggers.has_display_after_page_scroll)&&parseInt(e.triggers.display_after_page_scroll)>0||Y(e.id):(te=!0,o.classList.add("on-csaas-exit-intent")))):Y(e.id):Y(e.id),!x(e.settings.font_family)&&"none"!=e.settings.font_family){let t=e.settings.font_family;h.includes(t)?"System Stack"==t&&(t="-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"):q(t),i+="#csaas-widget-"+e.id+", #csaas-widget-"+e.id+" .csaas-tooltip:after {font-family: "+t+"}"}H(i),i="",function(e,t,a){let s="",n=e.channels.length;"above-chaty"==t&&n++;let c=function(e,t){switch(e=e.toLowerCase()){case"s":return 44;case"m":return 60;case"l":return 70;case"xl":return 84;case"xxl":return 94;case"custom":return""==(t=parseInt(t))||0==t?60:t}return 60}(e.settings.widget_size,e.settings.custom_widget_size),i=0,o=document.getElementById("csaas-"+e.id);if("opened"!=e.settings.default_state||b(e.settings.show_close_button)||(o.classList.add("cssas-no-close-button"),i=1),b(e.settings.has_custom_css)&&!x(e.settings.custom_css)&&(s+=e.settings.custom_css),s+="#csaas-widget-"+e.id+" .csaas-channel-list .csaas-channel {width: "+c+"px; height: "+c+"px; }",s+="#csaas-widget-"+e.id+" .csaas-channel-list .csaas-channel > a {width: "+c+"px; height: "+c+"px; }",s+="#csaas-widget-"+e.id+" .csaas-channel-list .csaas-channel > a .csaas-svg {width: "+c+"px; height: "+c+"px; }",s+="#csaas-widget-"+e.id+" .csaas-channel-list .csaas-channel > a img {width: "+c+"px; height: "+c+"px; object-fit: cover;}",s+="#csaas-widget-"+e.id+" .csaas-i-trigger .csaas-cta-button > button {width: "+c+"px; height: "+c+"px; }",s+="#csaas-widget-"+e.id+" .csaas-i-trigger .csaas-cta-button > button .csaas-svg {width: "+c+"px; height: "+c+"px; }",s+="#csaas-widget-"+e.id+" .csaas-i-trigger .csaas-channel img {width: "+c+"px; height: "+c+"px; }",s+="#csaas-widget-"+e.id+" .csaas-i-trigger .csaas-channel a {width: "+c+"px; height: "+c+"px; }",s+="#csaas-widget-"+e.id+" .csaas-i-trigger .csaas-channel a .csaas-svg {width: "+c+"px; height: "+c+"px; }",s+="#csaas-widget-"+e.id+" .csaas-channel-list .csaas-channel button {width: "+c+"px; height: "+c+"px; }",s+="#csaas-widget-"+e.id+" .csaas-channel-list .csaas-channel .csaas-svg {width: "+c+"px; height: "+c+"px; }",s+="#csaas-widget-"+e.id+" .csaas-channel-list .csaas-channel .csaas-svg img {width: "+c+"px; height: "+c+"px; }","vertical"==e.settings.icon_view)if(s+="#csaas-widget-"+e.id+" .csaas-channel-list {height: "+n*(c+8)+"px; }",s+="#csaas-widget-"+e.id+" .csaas-channel-list {width: "+(c+8)+"px; }",a&&"inside-chaty"==t){let t=0,a=1;Object.keys(e.channels).forEach((function(o,l){o=e.channels[l],s+="body.chatway--active #csaas-widget-"+e.id+" .csaas-open .csaas-channel-list .csaas-channel."+o.channel+"-channel-link {-webkit-transform: translateY(-"+(c+8)*(n-t-i)+"px); transform: translateY(-"+(c+8)*(n-t-i)+"px);}","Chatway"!=o.channel?s+="body:not(.chatway--active) #csaas-widget-"+e.id+" .csaas-open .csaas-channel-list .csaas-channel."+o.channel+"-channel-link {-webkit-transform: translateY(-"+(c+8)*(n-t-a-i)+"px); transform: translateY(-"+(c+8)*(n-t-a-i)+"px);}":a=0,t++}))}else{let a=0;for(a=0;a<=n;a++)s+="#csaas-widget-"+e.id+" .csaas-open .csaas-channel-list .csaas-channel:nth-child("+(a+1)+") {-webkit-transform: translateY(-"+(c+8)*(n-a-i)+"px); transform: translateY(-"+(c+8)*(n-a-i)+"px);}";"above-chaty"==t&&(s+="#csaas-widget-"+e.id+" .csaas-channel-list .Chatway-channel-link {-webkit-transform: translateY(-"+(c+8)*i+"px); transform: translateY(-"+(c+8)*(1-i)+"px);}")}else{o.classList.add("hor-mode"),s+="#csaas-widget-"+e.id+" .csaas-channel-list {width: "+n*(c+8)+"px; }",s+="#csaas-widget-"+e.id+" .csaas-channel-list {height: "+c+"px; }";let l=0;if(a&&"inside-chaty"==t){let t=0,a=1;Object.keys(e.channels).forEach((function(o,l){o=e.channels[l],s+="body.chatway--active #csaas-widget-"+e.id+" .csaas-widget.left-position.hor-mode.csaas-open .csaas-channel-list .csaas-channel:nth-child("+(t+1)+") {-webkit-transform: translateX("+(c+8)*(n-t-i)+"px); transform: translateX("+(c+8)*(n-t-i)+"px);}",s+="body.chatway--active #csaas-widget-"+e.id+" .csaas-widget.right-position.hor-mode.csaas-open .csaas-channel-list .csaas-channel:nth-child("+(t+1)+") {-webkit-transform: translateX(-"+(c+8)*(n-t-i)+"px); transform: translateX(-"+(c+8)*(n-t-i)+"px);}","Chatway"!=o.channel?(s+="body:not(.chatway--active) #csaas-widget-"+e.id+" .csaas-widget.left-position.hor-mode.csaas-open .csaas-channel-list .csaas-channel:nth-child("+(t+1)+") {-webkit-transform: translateX("+(c+8)*(n-t-a-i)+"px); transform: translateX("+(c+8)*(n-t-a-i)+"px);}",s+="body:not(.chatway--active) #csaas-widget-"+e.id+" .csaas-widget.right-position.hor-mode.csaas-open .csaas-channel-list .csaas-channel:nth-child("+(t+1)+") {-webkit-transform: translateX(-"+(c+8)*(n-t-a-i)+"px); transform: translateX(-"+(c+8)*(n-t-a-i)+"px);}"):a=0,t++}))}else{for(l=0;l<=n;l++)s+="#csaas-widget-"+e.id+" .csaas-widget.left-position.hor-mode.csaas-open .csaas-channel-list .csaas-channel:nth-child("+(l+1)+") {-webkit-transform: translateX("+(c+8)*(n-l-i)+"px); transform: translateX("+(c+8)*(n-l-i)+"px);}",s+="#csaas-widget-"+e.id+" .csaas-widget.right-position.hor-mode.csaas-open .csaas-channel-list .csaas-channel:nth-child("+(l+1)+") {-webkit-transform: translateX(-"+(c+8)*(n-l-i)+"px); transform: translateX(-"+(c+8)*(n-l-i)+"px);}";"above-chaty"==t&&(s+="#csaas-widget-"+e.id+" .csaas-widget.left-position.hor-mode .csaas-channel-list .Chatway-channel-link {-webkit-transform: translateX("+(c+8)*(1-i)+"px); transform: translateX("+(c+8)*(1-i)+"px);}",s+="#csaas-widget-"+e.id+" .csaas-widget.right-position.hor-mode .csaas-channel-list .Chatway-channel-link {-webkit-transform: translateX(-"+(c+8)*(1-i)+"px); transform: translateX(-"+(c+8)*(1-i)+"px);}")}}s+="#csaas-widget-"+e.id+" .csaas-chatway-button {width: "+c+"px; height: "+c+"px; }";let l=e.settings.bottom_spacing,r=e.settings.side_spacing,d=X(e.settings),h=d;"custom"==e.settings.position?("left"==d?(s+="#csaas-widget-"+e.id+" > .csaas-widget {left: "+r+"px}",s+=".csaas-outer-forms.pos-left.csaas-form-"+e.id+" {left: "+r+"px}",s+=".csaas-chat-view.csaas-chat-view-"+e.id+" {left: "+r+"px}",h="left"):(s+="#csaas-widget-"+e.id+" > .csaas-widget {left:auto; right: "+r+"px}",s+=".csaas-outer-forms.pos-right.csaas-form-"+e.id+" {left: auto; right: "+r+"px}",s+=".csaas-chat-view.csaas-chat-view-"+e.id+" {left: auto; right: "+r+"px}",h="right"),s+="#csaas-widget-"+e.id+" > .csaas-widget {bottom: "+l+"px}"):(h=e.settings.position,l=25),function(e,t,a,s){document.querySelectorAll(".csaas-form-"+e).length&&document.querySelectorAll(".csaas-form-"+e).forEach((function(e,n){e.classList.add("pos-"+t),e.classList.add("form-active"),e.style.bottom=s,"left"==t?(e.style.left=a,e.style.right="auto"):(e.style.right=a,e.style.left="auto")}))}(e.id,h,r,l);var g=c+15+parseInt(l);s+=".csaas-outer-forms.active.csaas-form-"+e.id+" {-webkit-transform: translateY(-"+g+"px); transform: translateY(-"+g+"px)} ",s+=".csaas:not(.form-open)#csaas-widget-"+e.id+" .csaas-widget.csaas-open + .csaas-chat-view {-webkit-transform: translateY(-"+g+"px); transform: translateY(-"+g+"px)} ",s+="#csaas-widget-"+e.id+" .csaas-tooltip:after {background-color: "+e.settings.cta_bg_color+"; color: "+e.settings.cta_text_color+"}",s+="#csaas-widget-"+e.id+" .csaas-tooltip.pos-top:before {border-top-color: "+e.settings.cta_bg_color+"; }",s+="#csaas-widget-"+e.id+" .csaas-tooltip.pos-left:before {border-left-color: "+e.settings.cta_bg_color+"; }",s+="#csaas-widget-"+e.id+" .csaas-tooltip.pos-right:before {border-right-color: "+e.settings.cta_bg_color+";}",s+="#csaas-widget-"+e.id+" .on-hover-text {background-color: "+e.settings.cta_bg_color+"; color: "+e.settings.cta_text_color+"}",s+="#csaas-widget-"+e.id+" .csaas-tooltip.pos-top .on-hover-text:before {border-top-color: "+e.settings.cta_bg_color+"; }",s+="#csaas-widget-"+e.id+" .csaas-tooltip.pos-left .on-hover-text:before {border-left-color: "+e.settings.cta_bg_color+"; }",s+="#csaas-widget-"+e.id+" .csaas-tooltip.pos-right .on-hover-text:before {border-right-color: "+e.settings.cta_bg_color+";}",s+="#csaas-widget-"+e.id+" .ch-pending-msg {background-color: "+e.settings.pending_mesg_count_bgcolor+";color: "+e.settings.pending_mesg_count_color+";}",s+=".csaas-chat-view-"+e.id+" .csaas-view-header {background-color: "+e.settings.cta_header_bg_color+";color: "+e.settings.cta_header_text_color+";}",s+=".csaas-chat-view-"+e.id+" .csaas-view-header svg {fill: "+e.settings.cta_header_text_color+";}",H(s)}(e,d,r)}},Le=function(){let e=0;c.length&&(L(),Object.keys(c).forEach((function(t){let a=c[t],s=function(e){if(b(e.triggers.has_countries)&&!x(e.triggers.countries)&&e.triggers.countries.length){let t=Ce();if("-"!=t&&!e.triggers.countries.includes(t))return!1}return!0}(a);s=s&&function(e){if(e.triggers.has_date_scheduling_rules){let t=e.triggers.date_scheduling_rules.start_date_time,a=e.triggers.date_scheduling_rules.end_date_time,s=new Date;s=le(s,e.triggers.time_diff);let n=s.getFullYear()+"-"+oe(s.getMonth()+1)+"-"+oe(s.getDate())+" "+oe(s.getHours())+":"+oe(s.getMinutes())+":"+oe(s.getSeconds());return""==a&&t<=n||""==t&&a>=n||""!=t&&""!=a&&t<=n&&a>=n}return!0}(a),s=s&&function(e){let t=!0;if(b(e.triggers.has_day_hours_scheduling_rules)&&e.triggers.day_hours_scheduling_rules.length>0){let a=e.triggers.day_hours_scheduling_rules;if(a.length>0){t=!1;let s=new Date;s=le(s,e.triggers.day_time_diff);let n=s.getHours(),c=s.getMinutes(),i=s.getDay();for(let e=0;e<a.length;e++){let s=0,o=0,l=0;if(-1==a[e].days?l=1:a[e].days>=0&&a[e].days<=6?a[e].days==i&&(l=1):7==a[e].days?i>=0&&i<=4&&(l=1):8==a[e].days?i>=1&&i<=5&&(l=1):9==a[e].days&&(5!=i&&6!=i||(l=1)),1==l&&(n>a[e].start_hours&&n<a[e].end_hours?s=1:n==a[e].start_hours&&n<a[e].end_hours?c>=a[e].start_min&&(s=1):n>a[e].start_hours&&n==a[e].end_hours?c<=a[e].end_min&&(s=1):n==a[e].start_hours&&n==a[e].end_hours&&c>=a[e].start_min&&c<=a[e].end_min&&(s=1),1==s&&a[e].start_hours<a[e].end_hours?(c>=a[e].start_min||c<=a[e].end_min)&&(o=1):1==s&&c>=a[e].start_min&&c<=a[e].end_min&&(o=1)),1==s&&1==o&&1==l){t=1;break}}}}return t}(a),s&&(e++,ke(a,t))})),function(){if(document.querySelectorAll(".chatway-channel").length||document.querySelectorAll(".Chatway-channel").length||g){if(!document.getElementById("chatway")&&a)try{if(-1!==a.indexOf("chatway_user_identifier")){const e=JSON.parse(a);a=e.chatway_user_identifier}if(a){let e=document.createElement("script");e.src=u+a,e.id="chatway",e.async=!0,document.head.appendChild(e)}}catch(e){a=!1}}else z();!g||document.querySelectorAll(".Chatway-channel").length&&document.querySelectorAll(".chatway-channel").length||P("has--not--chatway"),document.querySelectorAll(".hide-show-chaty").forEach((function(e,t){e.onclick=function(t){t.stopPropagation();let a=e.getAttribute("data-widget"),s=S(a);if(s){if(s.classList.contains("has-single")||(xe(a),s.classList.contains("csaas-open")?s.classList.remove("csaas-open"):(s.classList.add("csaas-open"),ye(a))),s.classList.contains("cta-first_click")){let e=I("cta-main-"+a);e&&(e.classList.remove("csaas-tooltip"),e.classList.remove("active"),e.removeAttribute("data-hover"))}w(a,"c-widget")&&_(a,"c-widget")}}})),l||document.querySelectorAll(".open-on-hover .open-chaty").forEach((function(e,t){e.addEventListener("mouseover",(function(t){let a=S(e.getAttribute("data-widget"));a&&(e.classList.contains("on-csaas-widget")||a.classList.contains("csaas-open")||(e.classList.add("on-csaas-widget"),e.click()))})),e.addEventListener("mouseleave",(function(t){S(e.getAttribute("data-widget")).classList.contains("csaas-open")||e.classList.remove("on-csaas-widget")}))})),document.querySelectorAll(".csaas-link").forEach((function(e,t){e.onclick=function(t){if(e.closest(".csaas")){let a=e.closest(".csaas").getAttribute("data-id"),s=A(a),n=S(a);if(s&&(xe(a),n.classList.contains("has-single")?ye(a):function(e,t){let a=e.getAttribute("data-id"),s=e.getAttribute("data-user"),n=w(a,"c-"+t),c=J();if(n&&!c){_(a,"c-"+t);let e={widgetId:a,userId:s,isMobile:l,channel:t};e=k(e);let n=new XMLHttpRequest;n.open("POST",he,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){},n.send(e)}}(s,e.getAttribute("data-channel")),e.classList.contains("has-gae")&&function(e){if(!x(e)&&(window.hasOwnProperty("gtag")&&gtag("event","chaty_"+e,{eventCategory:"chaty_"+e,event_action:"chaty_"+e,method:"chaty_"+e}),window.hasOwnProperty("ga")&&window.ga&&"function"==typeof window.ga.getAll&&window.ga.getAll()[0])){let t=window.ga.getAll()[0];t&&t.send("event","click",{eventCategory:"chaty_"+e,eventAction:"chaty_"+e,method:"chaty_"+e})}}(e.getAttribute("data-channel")),e.classList.contains("has-csaas-box")&&(t.stopPropagation(),we(0,e.getAttribute("data-form"))),e.classList.contains("csaas-agent-button")&&(t.stopPropagation(),we(0,e.getAttribute("data-form"))),e.classList.contains("has-on-hover")&&e.classList.contains("first_click")&&(e.classList.remove("has-on-hover"),e.classList.remove("active"),e.querySelectorAll(".on-hover-text").forEach((function(e,t){e.remove()})))),"Chatway"==e.getAttribute("data-channel")){const e=document.getElementsByClassName("chatway-launcher");for(let t=0;t<e.length;t++)e[t].click(),n.classList.contains("inside-chaty")&&!n.classList.contains("cssas-no-close-button")&&n.classList.remove("csaas-open")}}}})),document.querySelectorAll(".csaas-whatsapp-close-btn, .close-wechat-form, .csaas-close-agent-list, .close-contact-form").forEach((function(e,t){e.onclick=function(t){t.stopPropagation();let a=e.closest(".csaas-outer-forms").getAttribute("data-widget");if(e.closest(".csaas-outer-forms")){e.closest(".csaas-outer-forms").classList.remove("active");let t=A(a);t&&t.classList.remove("form-open");let s=S(a);s&&s.classList.contains("cssas-no-close-button")&&s.classList.add("csaas-open")}e.classList.contains("csaas-whatsapp-close-btn")&&w(a,"c-WhatsApp")&&_(a,"c-WhatsApp")}})),document.querySelectorAll(".has-on-hover").forEach((function(e,t){e.onmouseenter=function(t){let a=e.getAttribute("data-hover");x(a)||e.querySelectorAll(".on-hover-text").forEach((function(e,t){e.innerHTML=a}))},e.onmouseleave=function(t){let a=e.getAttribute("data-text");e.querySelectorAll(".on-hover-text").forEach((function(e,t){e.innerHTML=a}))}})),document.querySelectorAll(".csaas-another-form-button").forEach((function(e,t){e.onclick=function(t){t.stopPropagation(),e.closest(".csaas-form").classList.remove("success-form"),document.querySelectorAll(".csaas-form-ajax-message").forEach((function(e,t){e.innerHTML="",e.classList.remove("csaas-success"),e.classList.remove("csaas-error")}))}})),document.querySelectorAll(".csaas-contact-form").forEach((function(e,t){e.onsubmit=function(t){t.preventDefault();let a=e,s=e.getAttribute("data-id"),n=A(s);if(n){let e=0,t=I("form-button-"+s);if(a.querySelectorAll(".csaas-error-message").forEach((function(e,t){e.remove()})),a.querySelectorAll(".csaas-form-ajax-message").forEach((function(e,t){e.classList.remove("csaas-success"),e.classList.remove("csaas-erroe")})),a.querySelectorAll(".csaas-input-error").forEach((function(e,t){e.classList.remove("csaas-input-error")})),a.querySelectorAll(".is-required").forEach((function(t,a){if(x(t.value)){e++,t.classList.add("csaas-input-error");let a=document.createElement("span");a.className="csaas-error-message",a.innerText="This input field is a required field",t.after(a)}})),a.querySelectorAll(".csaas-input-email:not(.csaas-input-error)").forEach((function(t,a){if(!x(t.value)&&(s=t.value,!/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(s))){e++,t.classList.add("csaas-input-error");let a=document.createElement("span");a.className="csaas-error-message",a.innerText="Email address is not valid",t.after(a)}var s})),0==e){t.setAttribute("disabled",!0);let e={userId:n.getAttribute("data-user"),widgetId:s,isMobile:l,channel:"Contact_Us"};e=k(e),e+="&lead[name]="+($("csaas-input-name-"+s)?I("csaas-input-name-"+s).value:""),e+="&lead[email]="+($("csaas-input-email-"+s)?I("csaas-input-email-"+s).value:""),e+="&lead[phone]="+($("csaas-input-phone-"+s)?I("csaas-input-phone-"+s).value:""),e+="&lead[message]="+($("csaas-input-message-"+s)?I("csaas-input-message-"+s).value:"");let c=new XMLHttpRequest;c.open("POST",_e,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){if(t.removeAttribute("disabled"),4==c.readyState&&200==c.status){let e=JSON.parse(c.responseText);if(e.status){let t;e.widget_id,a.querySelectorAll(".csaas-form-ajax-message").forEach((function(t,a){t.innerHTML=O(e.message),t.classList.add("csaas-success"),t.classList.remove("csaas-error"),t.setAttribute("dir",M(e.message))})),a.querySelectorAll(".csaas-input-field").forEach((function(e,t){e.value=""})),b(e.auto_close_form)&&setTimeout((function(){I("hide-form-"+a.getAttribute("data-id"))&&(t=I("hide-form-"+a.getAttribute("data-id")),t.click())}),1e3*parseInt(e.close_form_after_seconds)),b(e.redirect_action)&&(x(e.redirect_url)?setTimeout((function(){I("hide-form-"+a.getAttribute("data-id"))&&(t=I("hide-form-"+a.getAttribute("data-id")),t.click())}),3e3):b(e.open_link_in_new_tab)?(window.open(e.redirect_url,"_blank"),setTimeout((function(){I("hide-form-"+a.getAttribute("data-id"))&&(t=I("hide-form-"+a.getAttribute("data-id")),t.click())}),3e3)):window.location=e.redirect_url),a.closest(".csaas-form").classList.add("success-form")}else a.querySelectorAll(".csaas-form-ajax-message").forEach((function(t,a){t.innerHTML=O(e.message),t.classList.remove("csaas-success"),t.classList.add("csaas-error"),t.setAttribute("dir",M(e.message))}))}},c.send(e)}}}})),document.querySelectorAll(".open-csaas-channel").forEach((function(e,t){e.onclick=function(t){t.stopPropagation();let a=e.closest(".csaas").getAttribute("data-id"),s=A(a);if(s){I(`csaas-form-${a}-WhatsApp`)&&I(`csaas-form-${a}-WhatsApp`).classList.contains("active")&&w(a,"c-WhatsApp")&&_(a,"c-WhatsApp"),document.querySelectorAll(".csaas-form-"+a).forEach((function(e,t){e.classList.remove("active")}));let e=S(a);if(s&&e&&(s.classList.remove("form-open"),e.classList.contains("has-single")||e.classList.add("csaas-open")),s.classList.contains("open-on-hover")){let e=I(`cta-open-${a}`);e&&e.classList.add("on-csaas-widget")}}}})),document.querySelectorAll(".csaas-close-view-list").forEach((function(e,t){e.onclick=function(t){if(t.stopPropagation(),e.closest(".csaas-chat-view")){e.closest(".csaas-chat-view").classList.remove("active");let t=e.closest(".csaas-chat-view").getAttribute("data-widget"),a=A(t),s=S(t);a&&s&&s.classList.remove("csaas-open"),w(t,"c-widget")&&_(t,"c-widget")}}})),document.querySelectorAll(".csaas-outer-forms").forEach((function(e,t){e.onclick=function(e){e.stopPropagation()}})),document.querySelectorAll(".whatsapp-csaas-form").forEach((function(e,t){e.onsubmit=function(t){let a=e.getAttribute("data-widget"),s=e.getAttribute("data-channel"),n=A(a),c=S(a);n&&c&&(document.querySelectorAll(".csaas-form-"+a).forEach((function(e,t){e.classList.remove("active")})),n.classList.remove("form-open"),w(a,"c-"+s)&&_(a,"c-"+s))}})),document.body.addEventListener("click",(function(e){document.querySelectorAll(".csaas-outer-forms").forEach((function(e,t){if(e.classList.contains("active")){e.classList.remove("active");let t=e.getAttribute("data-widget"),a=A(t),s=S(t);a&&s&&a.classList.remove("form-open"),e.classList.contains("csaas-whatsapp-outer-forms")&&w(t,"c-WhatsApp")&&_(t,"c-WhatsApp")}})),document.querySelectorAll(".csaas-has-chat-view").forEach((function(e,t){if(e.classList.contains("active")){let t=e.getAttribute("data-id"),a=A(t),s=S(t);a&&s&&s.classList.remove("csaas-open"),w(t,"c-widget")&&_(t,"c-widget")}}))})),function(){if(K&&(G=setInterval((function(){se++,document.getElementsByClassName(".csaas.delay-time-"+se)&&document.querySelectorAll(".csaas.delay-time-"+se).forEach((function(e,t){ie(e.getAttribute("data-id"))}))}),1e3)),ee&&window.addEventListener("scroll",(function(){if(ee){let e=document.body.scrollHeight-window.innerHeight,t=window.pageYOffset||document.documentElement.scrollTop;if(0!=e){let a=parseInt(t/e*100);if(ne<=a){let e=ne;ne=a;for(let t=e;t<=a;t++)ae.includes(t)||document.getElementsByClassName(".on-csaas-scroll.page-scroll-"+t)&&document.querySelectorAll(".on-csaas-scroll.page-scroll-"+t).forEach((function(e,t){e.classList.remove("on-csaas-scroll"),ie(e.getAttribute("data-id"))})),ae.push(t);ne=a}}}})),te)if(l){if(window.history&&window.history.pushState){function n(){""!==location.hash.split("#!/")[1]&&""===window.location.hash&&ce()}var e=100;window.history.state&&window.history.state.page&&(e=window.history.state.page),window.history.pushState({page:e+1},""),window.history.pushState({page:e+2},""),window.onpopstate=function(){n()},window.history.onpopstate=function(){n()},window.addEventListener("popstate",(function(){n()})),document.addEventListener("backbutton",(function(){n()})),window.addEventListener("backbutton",(function(){n()})),window.addEventListener("popstate",(function(){n()}))}}else a="mouseout",s=function(e){null==e.toElement&&null==e.relatedTarget&&ce()},(t=document).addEventListener?t.addEventListener(a,s,!1):t.attachEvent&&t.attachEvent("on"+a,s);var t,a,s}()}()),0===e&&z()},Ce=function(){let e="";return"undefined"!=typeof Storage&&null!=window.sessionStorage.getItem("csaas_user_country_code")?e=window.sessionStorage.getItem("csaas_user_country_code"):y("csaas_user_country_code")&&(e=f("csaas_user_country_code")),e},Ee=function(){!function(){let e=document.querySelectorAll(".csaas");e&&e.forEach((function(e){e.remove()}))}(),function(){let e=f("activeCsaasWidgets");null==e&&(e="");try{let n="",i="",h=window.location.href,g=window.location.href;void 0!==window.Parameters&&void 0!==window.Parameters.InitialPageAlias&&void 0!==window.Parameters.SiteAlias&&-1!=window.location.href.indexOf(window.Parameters.SiteAlias)&&(n="duda",i=window.Parameters.SiteAlias,void 0!==window.Parameters.InitialPageAlias&&(h=window.Parameters.InitialPageAlias));let u=0;0==$e()&&(u=m(),u&&(n="ecwid"));let f={clientId:$e(),identifier:$e(),isMobile:l,clientCountry:r,pageTitle:d,currentURL:h,domain:g,referrerLink:Ie(),activeWidgets:e,shop:V(),time:new Date,channel:n,site_identifier:u,site_name:i},w=new XMLHttpRequest;w.open("POST",p,!0),w.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),w.onreadystatechange=function(){if(4==w.readyState&&200==w.status){let e=JSON.parse(w.responseText);e.status?(o=e.is_pro,e.widgets.length?(c=e.widgets,e.chatway.is_active&&(a=e.chatway.unique_id),function(){let e=!1;c.length&&Object.keys(c).forEach((function(t){let a=c[t];b(a.triggers.has_countries)&&!x(a.triggers.countries)&&a.triggers.countries.length&&(e=!0)})),e?(r=Ce(),x(r)?function(){let e=new XMLHttpRequest;e.open("POST","https://www.cloudflare.com/cdn-cgi/trace"),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){let a=e.responseText.match("loc=(.*)");a.length>1&&(a=a[1],x(a)&&(a="-"),a&&(a=a.toUpperCase(),t=a,void 0!==s.id&&("undefined"!=typeof Storage?null==window.sessionStorage.getItem("csaas_user_country_code")&&window.sessionStorage.setItem("csaas_user_country_code",t):y("csaas_user_country_code")||v("csaas_user_country_code",t,365)),Le()))}var t},e.send("")}():Le()):Le()}()):-1==e.status&&b(e.show_upgrade_popup)&&document.getElementById("admin-bar-iframe")?function(e){if(document.getElementById("admin-bar-iframe")){C(),q("Poppins:400,600,700");let a=e.visitor_count,s=parseInt(e.next_reset_in_days);s=1==s?"1 day":s+" days",R=e.redirect_url;let n="";n+="<div id='csaas-owner-box-1' class='csaas-owner-box' style='display: none'>",n+="<div class='csaas-owner-data'>",n+="<div class='csaas-owner-close step-1'><a href='javascript:;'><svg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg' focusable='false' tabindex='-1'><path fill-rule='evenodd' clip-rule='evenodd' d='M3.757.929A2 2 0 10.93 3.757L5.172 8 .929 12.243a2 2 0 002.828 2.828L8 10.828l4.243 4.243a2 2 0 002.828-2.828L10.83 8l4.242-4.243A2 2 0 1012.243.93L8 5.172 3.757.929z' fill='currentColor'></path></svg></a></div>",n+="<div class='csaas-owner-title'><img src='"+t+"images/lock-emoji.png' alt='lock emoji' /><span>Only you can see this</span></div>",n+="<div class='csaas-owner-steps'>",n+="<div class='csaas-owner-body'>",n+="<div class='csaas-owner-body-head'>You're loosing new leads & sales</div>",n+="<div class='csaas-owner-body-message'>You've reached your <span>"+a+"/"+a+"</span> visitors per month limit (next Chaty app reset date is in "+s+")</div>",n+="<div class='csaas-owner-footer'>",n+="<div class='csaas-owner-footer-left'>",n+="<a class='csaas-upgrade-btn' id='csaas-upgrade-btn' href='javascript:;'>Upgrade Now</a>",n+="</div>",n+="<div id='csaas-owner-footer-right' class='csaas-owner-footer-right'>",n+="</div>",n+="</div>",n+="</div>",n+="</div>",n+="</div>",n+="</div>",E(n)}}(e):z()):z()}},w.send(k(f))}catch(e){console.log(e)}}()},Ae=!1,Se=!1,$e=function(){let e;return null==s.id?"undefined"!=typeof Storage&&null!=window.sessionStorage.getItem("csaas_client_id")?e=window.sessionStorage.getItem("csaas_client_id"):y("csaas_client_id")&&(e=f("csaas_client_id")):e=s.id,null==e?0:e},Ie=function(){return f("csaas_referrer")?-1!==f("csaas_referrer").indexOf(window.location.host)?"":f("csaas_referrer"):""},Me=function(){y("csaas_user_id")||v("csaas_user_id",Math.random().toString(36).slice(-16),365),void 0!==s.id&&("undefined"!=typeof Storage?null==window.sessionStorage.getItem("csaas_client_id")&&window.sessionStorage.setItem("csaas_client_id",s.id):y("csaas_client_id")||v("csaas_client_id",s.id,365)),f("csaas_referrer")||v("csaas_referrer",document.referrer,.00138888888888889),setInterval((function(){v("csaas_referrer",Ie().length>1?Ie():document.referrer,.00138888888888889)}),6e4),Ee()},Be=function(){if(clearInterval(be),Se)return!1;Se=!0,function(){let e,t;if(null==document.getElementById(n)||null==document.getElementById(n)){let a=document.getElementsByTagName("script");for(let s=0;s<a.length;s++)if(t=a[s].src,t&&-1!==t.indexOf("cdn.chaty.app/pixel.js")){Ae=!0,e=t;break}if(""==e)for(let s=0;s<a.length;s++)if(t=a[s].src,t&&-1!==t.indexOf("cdn.chaty.app/pixel.js")){Ae=!0,e=t;break}}else e=document.getElementById(n).src;!function(e){if(null!=e&&e.length>0){if(null!=(e=e.split("?")[1])&&e.indexOf("&")>-1){e=e.split("&");for(let t=0;t<e.length;t++){let a=e[t].split("=");void 0!==a[0]&&void 0!==a[1]&&(s[a[0]]=decodeURIComponent(a[1]))}}else if(null!=e){let t=e.split("=");void 0!==t[0]&&void 0!==t[1]&&(s[t[0]]=decodeURIComponent(t[1]))}Me()}else m()?Me():console.log("Chaty Saas pixel code not exist")}(e)}()},Te=history.pushState,qe="";function He(){qe!==window.location.href&&(qe=window.location.href,Ee())}history.pushState=function(){Te.apply(history,arguments),He()},window.addEventListener("popstate",(function(e){He()})),be=setInterval((function(){Se||("complete"==document.readyState?Be():(window.addEventListener||window.hasOwnProperty("onload"))&&(window.addEventListener("load",(function(){Be()}),!0),window.onload=function(){Be()}))}),1e3)})();